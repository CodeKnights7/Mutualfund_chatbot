(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function MI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qp={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function kI(){if(HE)return Du;HE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Du.Fragment=e,Du.jsx=n,Du.jsxs=n,Du}var qE;function VI(){return qE||(qE=1,Qp.exports=kI()),Qp.exports}var _=VI(),Xp={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function OI(){if(GE)return Se;GE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function B(U,ne,ue){this.props=U,this.context=ne,this.refs=V,this.updater=ue||D}B.prototype.isReactComponent={},B.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function H(){}H.prototype=B.prototype;function q(U,ne,ue){this.props=U,this.context=ne,this.refs=V,this.updater=ue||D}var ae=q.prototype=new H;ae.constructor=q,L(ae,B.prototype),ae.isPureReactComponent=!0;var re=Array.isArray;function se(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(U,ne,ue){var fe=ue.ref;return{$$typeof:t,type:U,key:ne,ref:fe!==void 0?fe:null,props:ue}}function P(U,ne){return N(U.type,ne,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var M=/\/+/g;function Qe(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):ne.toString(36)}function st(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(se,se):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,ne,ue,fe,be){var Ie=typeof U;(Ie==="undefined"||Ie==="boolean")&&(U=null);var Be=!1;if(U===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(U.$$typeof){case t:case e:Be=!0;break;case y:return Be=U._init,Z(Be(U._payload),ne,ue,fe,be)}}if(Be)return be=be(U),Be=fe===""?"."+Qe(U,0):fe,re(be)?(ue="",Be!=null&&(ue=Be.replace(M,"$&/")+"/"),Z(be,ne,ue,"",function(Wr){return Wr})):be!=null&&(k(be)&&(be=P(be,ue+(be.key==null||U&&U.key===be.key?"":(""+be.key).replace(M,"$&/")+"/")+Be)),ne.push(be)),1;Be=0;var Ft=fe===""?".":fe+":";if(re(U))for(var ct=0;ct<U.length;ct++)fe=U[ct],Ie=Ft+Qe(fe,ct),Be+=Z(fe,ne,ue,Ie,be);else if(ct=x(U),typeof ct=="function")for(U=ct.call(U),ct=0;!(fe=U.next()).done;)fe=fe.value,Ie=Ft+Qe(fe,ct++),Be+=Z(fe,ne,ue,Ie,be);else if(Ie==="object"){if(typeof U.then=="function")return Z(st(U),ne,ue,fe,be);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Be}function oe(U,ne,ue){if(U==null)return U;var fe=[],be=0;return Z(U,fe,"","",function(Ie){return ne.call(ue,Ie,be++)}),fe}function de(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var Ce=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ke={map:oe,forEach:function(U,ne,ue){oe(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return oe(U,function(){ne++}),ne},toArray:function(U){return oe(U,function(ne){return ne})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Se.Activity=T,Se.Children=ke,Se.Component=B,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=q,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},Se.cache=function(U){return function(){return U.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=L({},U.props),be=U.key;if(ne!=null)for(Ie in ne.key!==void 0&&(be=""+ne.key),ne)!A.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(fe[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=ue;else if(1<Ie){for(var Be=Array(Ie),Ft=0;Ft<Ie;Ft++)Be[Ft]=arguments[Ft+2];fe.children=Be}return N(U.type,be,fe)},Se.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Se.createElement=function(U,ne,ue){var fe,be={},Ie=null;if(ne!=null)for(fe in ne.key!==void 0&&(Ie=""+ne.key),ne)A.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=ne[fe]);var Be=arguments.length-2;if(Be===1)be.children=ue;else if(1<Be){for(var Ft=Array(Be),ct=0;ct<Be;ct++)Ft[ct]=arguments[ct+2];be.children=Ft}if(U&&U.defaultProps)for(fe in Be=U.defaultProps,Be)be[fe]===void 0&&(be[fe]=Be[fe]);return N(U,Ie,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(U){return{$$typeof:f,render:U}},Se.isValidElement=k,Se.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:de}},Se.memo=function(U,ne){return{$$typeof:p,type:U,compare:ne===void 0?null:ne}},Se.startTransition=function(U){var ne=C.T,ue={};C.T=ue;try{var fe=U(),be=C.S;be!==null&&be(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(se,Ce)}catch(Ie){Ce(Ie)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),C.T=ne}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(U){return C.H.use(U)},Se.useActionState=function(U,ne,ue){return C.H.useActionState(U,ne,ue)},Se.useCallback=function(U,ne){return C.H.useCallback(U,ne)},Se.useContext=function(U){return C.H.useContext(U)},Se.useDebugValue=function(){},Se.useDeferredValue=function(U,ne){return C.H.useDeferredValue(U,ne)},Se.useEffect=function(U,ne){return C.H.useEffect(U,ne)},Se.useEffectEvent=function(U){return C.H.useEffectEvent(U)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(U,ne,ue){return C.H.useImperativeHandle(U,ne,ue)},Se.useInsertionEffect=function(U,ne){return C.H.useInsertionEffect(U,ne)},Se.useLayoutEffect=function(U,ne){return C.H.useLayoutEffect(U,ne)},Se.useMemo=function(U,ne){return C.H.useMemo(U,ne)},Se.useOptimistic=function(U,ne){return C.H.useOptimistic(U,ne)},Se.useReducer=function(U,ne,ue){return C.H.useReducer(U,ne,ue)},Se.useRef=function(U){return C.H.useRef(U)},Se.useState=function(U){return C.H.useState(U)},Se.useSyncExternalStore=function(U,ne,ue){return C.H.useSyncExternalStore(U,ne,ue)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.0",Se}var KE;function Iy(){return KE||(KE=1,Xp.exports=OI()),Xp.exports}var I=Iy();const Ti=MI(I);var Wp={exports:{}},Mu={},Zp={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function PI(){return $E||($E=1,(function(t){function e(Z,oe){var de=Z.length;Z.push(oe);e:for(;0<de;){var Ce=de-1>>>1,ke=Z[Ce];if(0<a(ke,oe))Z[Ce]=oe,Z[de]=ke,de=Ce;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var oe=Z[0],de=Z.pop();if(de!==oe){Z[0]=de;e:for(var Ce=0,ke=Z.length,U=ke>>>1;Ce<U;){var ne=2*(Ce+1)-1,ue=Z[ne],fe=ne+1,be=Z[fe];if(0>a(ue,de))fe<ke&&0>a(be,ue)?(Z[Ce]=be,Z[fe]=de,Ce=fe):(Z[Ce]=ue,Z[ne]=de,Ce=ne);else if(fe<ke&&0>a(be,de))Z[Ce]=be,Z[fe]=de,Ce=fe;else break e}}return oe}function a(Z,oe){var de=Z.sortIndex-oe.sortIndex;return de!==0?de:Z.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,T=null,w=3,x=!1,D=!1,L=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ae(Z){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=Z)s(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function re(Z){if(L=!1,ae(Z),!D)if(n(m)!==null)D=!0,se||(se=!0,z());else{var oe=n(p);oe!==null&&st(re,oe.startTime-Z)}}var se=!1,C=-1,A=5,N=-1;function P(){return V?!0:!(t.unstable_now()-N<A)}function k(){if(V=!1,se){var Z=t.unstable_now();N=Z;var oe=!0;try{e:{D=!1,L&&(L=!1,H(C),C=-1),x=!0;var de=w;try{t:{for(ae(Z),T=n(m);T!==null&&!(T.expirationTime>Z&&P());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,w=T.priorityLevel;var ke=Ce(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof ke=="function"){T.callback=ke,ae(Z),oe=!0;break t}T===n(m)&&s(m),ae(Z)}else s(m);T=n(m)}if(T!==null)oe=!0;else{var U=n(p);U!==null&&st(re,U.startTime-Z),oe=!1}}break e}finally{T=null,w=de,x=!1}oe=void 0}}finally{oe?z():se=!1}}}var z;if(typeof q=="function")z=function(){q(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Qe=M.port2;M.port1.onmessage=k,z=function(){Qe.postMessage(null)}}else z=function(){B(k,0)};function st(Z,oe){C=B(function(){Z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var de=w;w=oe;try{return Z()}finally{w=de}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=w;w=Z;try{return oe()}finally{w=de}},t.unstable_scheduleCallback=function(Z,oe,de){var Ce=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,Z){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,Z={id:y++,callback:oe,priorityLevel:Z,startTime:de,expirationTime:ke,sortIndex:-1},de>Ce?(Z.sortIndex=de,e(p,Z),n(m)===null&&Z===n(p)&&(L?(H(C),C=-1):L=!0,st(re,de-Ce))):(Z.sortIndex=ke,e(m,Z),D||x||(D=!0,se||(se=!0,z()))),Z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Z){var oe=w;return function(){var de=w;w=oe;try{return Z.apply(this,arguments)}finally{w=de}}}})(Jp)),Jp}var YE;function LI(){return YE||(YE=1,Zp.exports=PI()),Zp.exports}var eg={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function jI(){if(QE)return un;QE=1;var t=Iy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},un.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},un.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},un.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},un.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:x}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},un.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},un.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},un.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},un.requestFormReset=function(m){s.d.r(m)},un.unstable_batchedUpdates=function(m,p){return m(p)},un.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.2.0",un}var XE;function iS(){if(XE)return eg.exports;XE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=jI(),eg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function UI(){if(WE)return Mu;WE=1;var t=LI(),e=Iy(),n=iS();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,S=d.child;S;){if(S===o){E=!0,o=d,u=g;break}if(S===u){E=!0,u=d,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=d;break}if(S===u){E=!0,u=g,o=d;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Qe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case B:return"Profiler";case V:return"StrictMode";case re:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case q:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Qe(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Qe(i(r))}catch{}}return null}var st=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],ke=-1;function U(i){return{current:i}}function ne(i){0>ke||(i.current=Ce[ke],Ce[ke]=null,ke--)}function ue(i,r){ke++,Ce[ke]=i.current,i.current=r}var fe=U(null),be=U(null),Ie=U(null),Be=U(null);function Ft(i,r){switch(ue(Ie,r),ue(be,i),ue(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?fE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=fE(r),i=dE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(fe),ue(fe,i)}function ct(){ne(fe),ne(be),ne(Ie)}function Wr(i){i.memoizedState!==null&&ue(Be,i);var r=fe.current,o=dE(r,i.type);r!==o&&(ue(be,i),ue(fe,o))}function Ja(i){be.current===i&&(ne(fe),ne(be)),Be.current===i&&(ne(Be),Ru._currentValue=de)}var eo,to;function Ri(i){if(eo===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);eo=r&&r[1]||"",to=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+i+to}var Rl=!1;function Zr(i,r){if(!i||Rl)return"";Rl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(X){var Y=X}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(X){Y=X}i.call(ee.prototype)}}else{try{throw Error()}catch(X){Y=X}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var O=E.split(`
`),$=S.split(`
`);for(d=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===O.length||d===$.length)for(u=O.length-1,d=$.length-1;1<=u&&0<=d&&O[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(O[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||O[u]!==$[d]){var W=`
`+O[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=d);break}}}finally{Rl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ri(o):""}function Cl(i,r){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==r&&r!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return Zr(i.type,!1);case 11:return Zr(i.type.render,!1);case 1:return Zr(i.type,!0);case 31:return Ri("Activity");default:return""}}function Il(i){try{var r="",o=null;do r+=Cl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var It=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,zs=t.unstable_cancelCallback,Wd=t.unstable_shouldYield,Bc=t.unstable_requestPaint,pn=t.unstable_now,Jr=t.unstable_getCurrentPriorityLevel,Nl=t.unstable_ImmediatePriority,Dl=t.unstable_UserBlockingPriority,Fs=t.unstable_NormalPriority,Zd=t.unstable_LowPriority,zc=t.unstable_IdlePriority,Fc=t.log,Hc=t.unstable_setDisableYieldValue,oi=null,Zt=null;function Fn(i){if(typeof Fc=="function"&&Hc(i),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(oi,i)}catch{}}var wt=Math.clz32?Math.clz32:Gc,qc=Math.log,no=Math.LN2;function Gc(i){return i>>>=0,i===0?32:31-(qc(i)/no|0)|0}var Ci=256,ea=262144,Nt=4194304;function Ii(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Ii(u):(E&=S,E!==0?d=Ii(E):o||(o=S&~i,o!==0&&(d=Ii(o))))):(S=u&~g,S!==0?d=Ii(S):E!==0?d=Ii(E):o||(o=u&~i,o!==0&&(d=Ii(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function li(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Jd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function Di(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ta(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function em(i,r,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,O=i.expirationTimes,$=i.hiddenUpdates;for(o=E&~o;0<o;){var W=31-wt(o),ee=1<<W;S[W]=0,O[W]=-1;var Y=$[W];if(Y!==null)for($[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}o&=~ee}u!==0&&na(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function na(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-wt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Ml(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-wt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function kl(i,r){var o=r&-r;return o=(o&42)!==0?1:ia(o),(o&(i.suspendedLanes|r))!==0?0:o}function ia(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function cs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $c(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:PE(i.type))}function ui(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var ci=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ci,$t="__reactProps$"+ci,Mi="__reactContainer$"+ci,io="__reactEvents$"+ci,tm="__reactListeners$"+ci,Yc="__reactHandles$"+ci,Qc="__reactResources$"+ci,ki="__reactMarker$"+ci;function so(i){delete i[Dt],delete i[$t],delete i[io],delete i[tm],delete i[Yc]}function Vi(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Mi]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=TE(i);i!==null;){if(o=i[Dt])return o;i=TE(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[Dt]||i[Mi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Dn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Oi(i){var r=i[Qc];return r||(r=i[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Mt(i){i[ki]=!0}var Vl=new Set,Ol={};function Pi(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(Ol[i]=r,i=0;i<r.length;i++)Vl.add(r[i])}var Pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},jl={};function Xc(i){return It.call(jl,i)?!0:It.call(Ll,i)?!1:Pl.test(i)?jl[i]=!0:(Ll[i]=!0,!1)}function ro(i,r,o){if(Xc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Mn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function kt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Yt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ul(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xe(i){if(!i._valueTracker){var r=Hs(i)?"checked":"value";i._valueTracker=Ul(i,r,""+i[r])}}function sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Hs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function ji(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ra=/[\n"\\]/g;function En(i){return i.replace(ra,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ao(i,r,o,u,d,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Yt(r)):i.value!==""+Yt(r)&&(i.value=""+Yt(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Bl(i,E,Yt(r)):o!=null?Bl(i,E,Yt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Yt(S):i.removeAttribute("name")}function Wc(i,r,o,u,d,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xe(i);return}o=o!=null?""+Yt(o):"",r=r!=null?""+Yt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Xe(i)}function Bl(i,r,o){r==="number"&&ji(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function qs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Yt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Zc(i,r,o){if(r!=null&&(r=""+Yt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Yt(o):""}function Gs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(st(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Yt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xe(i)}function bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Jc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Fl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&zl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&zl(i,g,r[g])}function oo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(i){return Ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function hi(){}var Hl=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $s=null,Ui=null;function aa(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[$t]||null;e:switch(i=r.stateNode,r.type){case"input":if(ao(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[$t]||null;if(!d)throw Error(s(90));ao(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&sa(u)}break e;case"textarea":Zc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&qs(i,!!o.multiple,r,!1)}}}var uo=!1;function Ys(i,r,o){if(uo)return i(r,o);uo=!0;try{var u=i(r);return u}finally{if(uo=!1,($s!==null||Ui!==null)&&($h(),$s&&(r=$s,i=Ui,Ui=$s=null,aa(r),i)))for(r=0;r<i.length;r++)aa(i[r])}}function fi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[$t]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Gn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){oa=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{oa=!1}var Bi=null,ql=null,la=null;function Gl(){if(la)return la;var i,r=ql,o=r.length,u,d="value"in Bi?Bi.value:Bi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===d[g-u];u++);return la=d.slice(i,1<u?1-u:void 0)}function ua(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function di(){return!1}function Jt(i){function r(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hs:di,this.isPropagationStopped=di,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),r}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Jt(fs),Qs=T({},fs,{view:0,detail:0}),Kl=Jt(Qs),Xs,co,Fi,ho=T({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Xs=i.screenX-Fi.screenX,co=i.screenY-Fi.screenY):co=Xs=0,Fi=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:co}}),$l=Jt(ho),ca=T({},ho,{dataTransfer:0}),th=Jt(ca),nh=T({},Qs,{relatedTarget:0}),ha=Jt(nh),Yl=T({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=Jt(Yl),fo=T({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sh=Jt(fo),rh=T({},fs,{data:0}),Hi=Jt(rh),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=lh[i])?!!r[i]:!1}function Ws(){return uh}var gn=T({},Qs,{key:function(i){if(i.key){var r=ah[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?oh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(i){return i.type==="keypress"?ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ch=Jt(gn),hh=T({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=Jt(hh),h=T({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),v=Jt(h),b=T({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Jt(b),G=T({},ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Jt(G),le=T({},fs,{newState:0,oldState:0}),xe=Jt(le),St=[9,13,27,32],Ge=Gn&&"CompositionEvent"in window,ht=null;Gn&&"documentMode"in document&&(ht=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!ht,qi=Gn&&(!Ge||ht&&8<ht&&11>=ht),mi=" ",pi=!1;function fa(i,r){switch(i){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var po=!1;function n2(i,r){switch(i){case"compositionend":return mo(r);case"keypress":return r.which!==32?null:(pi=!0,mi);case"textInput":return i=r.data,i===mi&&pi?null:i;default:return null}}function i2(i,r){if(po)return i==="compositionend"||!Ge&&fa(i,r)?(i=Gl(),la=ql=Bi=null,po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var s2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!s2[i.type]:r==="textarea"}function S0(i,r,o,u){$s?Ui?Ui.push(u):Ui=[u]:$s=u,r=ef(r,"onChange"),0<r.length&&(o=new zi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ql=null,Xl=null;function r2(i){aE(i,0)}function fh(i){var r=Dn(i);if(sa(r))return i}function A0(i,r){if(i==="change")return r}var x0=!1;if(Gn){var nm;if(Gn){var im="oninput"in document;if(!im){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),im=typeof R0.oninput=="function"}nm=im}else nm=!1;x0=nm&&(!document.documentMode||9<document.documentMode)}function C0(){Ql&&(Ql.detachEvent("onpropertychange",I0),Xl=Ql=null)}function I0(i){if(i.propertyName==="value"&&fh(Xl)){var r=[];S0(r,Xl,i,qn(i)),Ys(r2,r)}}function a2(i,r,o){i==="focusin"?(C0(),Ql=r,Xl=o,Ql.attachEvent("onpropertychange",I0)):i==="focusout"&&C0()}function o2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fh(Xl)}function l2(i,r){if(i==="click")return fh(r)}function u2(i,r){if(i==="input"||i==="change")return fh(r)}function c2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:c2;function Wl(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!It.call(r,d)||!kn(i[d],r[d]))return!1}return!0}function N0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D0(i,r){var o=N0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=N0(o)}}function M0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?M0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function k0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ji(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ji(i.document)}return r}function sm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var h2=Gn&&"documentMode"in document&&11>=document.documentMode,go=null,rm=null,Zl=null,am=!1;function V0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;am||go==null||go!==ji(u)||(u=go,"selectionStart"in u&&sm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zl&&Wl(Zl,u)||(Zl=u,u=ef(rm,"onSelect"),0<u.length&&(r=new zi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=go)))}function da(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var yo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},om={},O0={};Gn&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function ma(i){if(om[i])return om[i];if(!yo[i])return i;var r=yo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in O0)return om[i]=r[o];return i}var P0=ma("animationend"),L0=ma("animationiteration"),j0=ma("animationstart"),f2=ma("transitionrun"),d2=ma("transitionstart"),m2=ma("transitioncancel"),U0=ma("transitionend"),B0=new Map,lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lm.push("scrollEnd");function gi(i,r){B0.set(i,r),Pi(r,[i])}var dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$n=[],vo=0,um=0;function mh(){for(var i=vo,r=um=vo=0;r<i;){var o=$n[r];$n[r++]=null;var u=$n[r];$n[r++]=null;var d=$n[r];$n[r++]=null;var g=$n[r];if($n[r++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&z0(o,d,g)}}function ph(i,r,o,u){$n[vo++]=i,$n[vo++]=r,$n[vo++]=o,$n[vo++]=u,um|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function cm(i,r,o,u){return ph(i,r,o,u),gh(i)}function pa(i,r){return ph(i,null,null,r),gh(i)}function z0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-wt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function gh(i){if(50<Tu)throw Tu=0,_p=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var _o={};function p2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,u){return new p2(i,r,o,u)}function hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function F0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function yh(i,r,o,u,d,g){var E=0;if(u=i,typeof i=="function")hm(i)&&(E=1);else if(typeof i=="string")E=TI(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Vn(31,o,r,d),i.elementType=N,i.lanes=g,i;case L:return ga(o.children,d,g,r);case V:E=8,d|=24;break;case B:return i=Vn(12,o,r,d|2),i.elementType=B,i.lanes=g,i;case re:return i=Vn(13,o,r,d),i.elementType=re,i.lanes=g,i;case se:return i=Vn(19,o,r,d),i.elementType=se,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:E=10;break e;case H:E=9;break e;case ae:E=11;break e;case C:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Vn(E,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ga(i,r,o,u){return i=Vn(7,i,u,r),i.lanes=o,i}function fm(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function H0(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function dm(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var q0=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=q0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Il(r)},q0.set(i,r),r)}return{value:i,source:r,stack:Il(r)}}var To=[],Eo=0,vh=null,Jl=0,Qn=[],Xn=0,Zs=null,Gi=1,Ki="";function ps(i,r){To[Eo++]=Jl,To[Eo++]=vh,vh=i,Jl=r}function G0(i,r,o){Qn[Xn++]=Gi,Qn[Xn++]=Ki,Qn[Xn++]=Zs,Zs=i;var u=Gi;i=Ki;var d=32-wt(u)-1;u&=~(1<<d),o+=1;var g=32-wt(r)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,Gi=1<<32-wt(r)+d|o<<d|u,Ki=g+i}else Gi=1<<g|o<<d|u,Ki=i}function mm(i){i.return!==null&&(ps(i,1),G0(i,1,0))}function pm(i){for(;i===vh;)vh=To[--Eo],To[Eo]=null,Jl=To[--Eo],To[Eo]=null;for(;i===Zs;)Zs=Qn[--Xn],Qn[Xn]=null,Ki=Qn[--Xn],Qn[Xn]=null,Gi=Qn[--Xn],Qn[Xn]=null}function K0(i,r){Qn[Xn++]=Gi,Qn[Xn++]=Ki,Qn[Xn++]=Zs,Gi=r.id,Ki=r.overflow,Zs=i}var en=null,at=null,Ue=!1,Js=null,Wn=!1,gm=Error(s(519));function er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(Yn(r,i)),gm}function $0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Dt]=i,r[$t]=u,o){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<bu.length;o++)Me(bu[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Wc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Gs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||cE(r.textContent,o)?(u.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),u.onScroll!=null&&Me("scroll",r),u.onScrollEnd!=null&&Me("scrollend",r),u.onClick!=null&&(r.onclick=hi),r=!0):r=!1,r||er(i,!0)}function Y0(i){for(en=i.return;en;)switch(en.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:en=en.return}}function bo(i){if(i!==en)return!1;if(!Ue)return Y0(i),Ue=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Vp(i.type,i.memoizedProps)),o=!o),o&&at&&er(i),Y0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=_E(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=_E(i)}else r===27?(r=at,mr(i.type)?(i=Up,Up=null,at=i):at=r):at=en?Jn(i.stateNode.nextSibling):null;return!0}function ya(){at=en=null,Ue=!1}function ym(){var i=Js;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),Js=null),i}function eu(i){Js===null?Js=[i]:Js.push(i)}var vm=U(null),va=null,gs=null;function tr(i,r,o){ue(vm,r._currentValue),r._currentValue=o}function ys(i){i._currentValue=vm.current,ne(vm)}function _m(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Tm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var O=0;O<r.length;O++)if(S.context===r[O]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),_m(g.return,o,i),u||(E=null);break e}g=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),_m(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function wo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=d.type;kn(d.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(d===Be.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Ru):i=[Ru])}d=d.return}i!==null&&Tm(r,i,o,u),r.flags|=262144}function _h(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){va=i,gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return Q0(va,i)}function Th(i,r){return va===null&&_a(i),Q0(i,r)}function Q0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},gs===null){if(i===null)throw Error(s(308));gs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else gs=gs.next=r;return o}var g2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},y2=t.unstable_scheduleCallback,v2=t.unstable_NormalPriority,Vt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new g2,data:new Map,refCount:0}}function tu(i){i.refCount--,i.refCount===0&&y2(v2,function(){i.controller.abort()})}var nu=null,bm=0,So=0,Ao=null;function _2(i,r){if(nu===null){var o=nu=[];bm=0,So=Ap(),Ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return bm++,r.then(X0,X0),r}function X0(){if(--bm===0&&nu!==null){Ao!==null&&(Ao.status="fulfilled");var i=nu;nu=null,So=0,Ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function T2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var W0=Z.S;Z.S=function(i,r){VT=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&_2(i,r),W0!==null&&W0(i,r)};var Ta=U(null);function wm(){var i=Ta.current;return i!==null?i:it.pooledCache}function Eh(i,r){r===null?ue(Ta,Ta.current):ue(Ta,r.pool)}function Z0(){var i=wm();return i===null?null:{parent:Vt._currentValue,pool:i}}var xo=Error(s(460)),Sm=Error(s(474)),bh=Error(s(542)),wh={then:function(){}};function J0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function e_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(hi,hi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,n_(i),i;default:if(typeof r.status=="string")r.then(hi,hi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,n_(i),i}throw ba=r,xo}}function Ea(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ba=o,xo):o}}var ba=null;function t_(){if(ba===null)throw Error(s(459));var i=ba;return ba=null,i}function n_(i){if(i===xo||i===bh)throw Error(s(483))}var Ro=null,iu=0;function Sh(i){var r=iu;return iu+=1,Ro===null&&(Ro=[]),e_(Ro,i,r)}function su(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ah(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function i_(i){function r(F,j){if(i){var K=F.deletions;K===null?(F.deletions=[j],F.flags|=16):K.push(j)}}function o(F,j){if(!i)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function d(F,j){return F=ms(F,j),F.index=0,F.sibling=null,F}function g(F,j,K){return F.index=K,i?(K=F.alternate,K!==null?(K=K.index,K<j?(F.flags|=67108866,j):K):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function E(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,j,K,J){return j===null||j.tag!==6?(j=fm(K,F.mode,J),j.return=F,j):(j=d(j,K),j.return=F,j)}function O(F,j,K,J){var ge=K.type;return ge===L?W(F,j,K.props.children,J,K.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Ea(ge)===j.type)?(j=d(j,K.props),su(j,K),j.return=F,j):(j=yh(K.type,K.key,K.props,null,F.mode,J),su(j,K),j.return=F,j)}function $(F,j,K,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=dm(K,F.mode,J),j.return=F,j):(j=d(j,K.children||[]),j.return=F,j)}function W(F,j,K,J,ge){return j===null||j.tag!==7?(j=ga(K,F.mode,J,ge),j.return=F,j):(j=d(j,K),j.return=F,j)}function ee(F,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=fm(""+j,F.mode,K),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return K=yh(j.type,j.key,j.props,null,F.mode,K),su(K,j),K.return=F,K;case D:return j=dm(j,F.mode,K),j.return=F,j;case A:return j=Ea(j),ee(F,j,K)}if(st(j)||z(j))return j=ga(j,F.mode,K,null),j.return=F,j;if(typeof j.then=="function")return ee(F,Sh(j),K);if(j.$$typeof===q)return ee(F,Th(F,j),K);Ah(F,j)}return null}function Y(F,j,K,J){var ge=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:S(F,j,""+K,J);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===ge?O(F,j,K,J):null;case D:return K.key===ge?$(F,j,K,J):null;case A:return K=Ea(K),Y(F,j,K,J)}if(st(K)||z(K))return ge!==null?null:W(F,j,K,J,null);if(typeof K.then=="function")return Y(F,j,Sh(K),J);if(K.$$typeof===q)return Y(F,j,Th(F,K),J);Ah(F,K)}return null}function X(F,j,K,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return F=F.get(K)||null,S(j,F,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return F=F.get(J.key===null?K:J.key)||null,O(j,F,J,ge);case D:return F=F.get(J.key===null?K:J.key)||null,$(j,F,J,ge);case A:return J=Ea(J),X(F,j,K,J,ge)}if(st(J)||z(J))return F=F.get(K)||null,W(j,F,J,ge,null);if(typeof J.then=="function")return X(F,j,K,Sh(J),ge);if(J.$$typeof===q)return X(F,j,K,Th(j,J),ge);Ah(j,J)}return null}function me(F,j,K,J){for(var ge=null,He=null,pe=j,Ne=j=0,Oe=null;pe!==null&&Ne<K.length;Ne++){pe.index>Ne?(Oe=pe,pe=null):Oe=pe.sibling;var qe=Y(F,pe,K[Ne],J);if(qe===null){pe===null&&(pe=Oe);break}i&&pe&&qe.alternate===null&&r(F,pe),j=g(qe,j,Ne),He===null?ge=qe:He.sibling=qe,He=qe,pe=Oe}if(Ne===K.length)return o(F,pe),Ue&&ps(F,Ne),ge;if(pe===null){for(;Ne<K.length;Ne++)pe=ee(F,K[Ne],J),pe!==null&&(j=g(pe,j,Ne),He===null?ge=pe:He.sibling=pe,He=pe);return Ue&&ps(F,Ne),ge}for(pe=u(pe);Ne<K.length;Ne++)Oe=X(pe,F,Ne,K[Ne],J),Oe!==null&&(i&&Oe.alternate!==null&&pe.delete(Oe.key===null?Ne:Oe.key),j=g(Oe,j,Ne),He===null?ge=Oe:He.sibling=Oe,He=Oe);return i&&pe.forEach(function(_r){return r(F,_r)}),Ue&&ps(F,Ne),ge}function ve(F,j,K,J){if(K==null)throw Error(s(151));for(var ge=null,He=null,pe=j,Ne=j=0,Oe=null,qe=K.next();pe!==null&&!qe.done;Ne++,qe=K.next()){pe.index>Ne?(Oe=pe,pe=null):Oe=pe.sibling;var _r=Y(F,pe,qe.value,J);if(_r===null){pe===null&&(pe=Oe);break}i&&pe&&_r.alternate===null&&r(F,pe),j=g(_r,j,Ne),He===null?ge=_r:He.sibling=_r,He=_r,pe=Oe}if(qe.done)return o(F,pe),Ue&&ps(F,Ne),ge;if(pe===null){for(;!qe.done;Ne++,qe=K.next())qe=ee(F,qe.value,J),qe!==null&&(j=g(qe,j,Ne),He===null?ge=qe:He.sibling=qe,He=qe);return Ue&&ps(F,Ne),ge}for(pe=u(pe);!qe.done;Ne++,qe=K.next())qe=X(pe,F,Ne,qe.value,J),qe!==null&&(i&&qe.alternate!==null&&pe.delete(qe.key===null?Ne:qe.key),j=g(qe,j,Ne),He===null?ge=qe:He.sibling=qe,He=qe);return i&&pe.forEach(function(DI){return r(F,DI)}),Ue&&ps(F,Ne),ge}function nt(F,j,K,J){if(typeof K=="object"&&K!==null&&K.type===L&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var ge=K.key;j!==null;){if(j.key===ge){if(ge=K.type,ge===L){if(j.tag===7){o(F,j.sibling),J=d(j,K.props.children),J.return=F,F=J;break e}}else if(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Ea(ge)===j.type){o(F,j.sibling),J=d(j,K.props),su(J,K),J.return=F,F=J;break e}o(F,j);break}else r(F,j);j=j.sibling}K.type===L?(J=ga(K.props.children,F.mode,J,K.key),J.return=F,F=J):(J=yh(K.type,K.key,K.props,null,F.mode,J),su(J,K),J.return=F,F=J)}return E(F);case D:e:{for(ge=K.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(F,j.sibling),J=d(j,K.children||[]),J.return=F,F=J;break e}else{o(F,j);break}else r(F,j);j=j.sibling}J=dm(K,F.mode,J),J.return=F,F=J}return E(F);case A:return K=Ea(K),nt(F,j,K,J)}if(st(K))return me(F,j,K,J);if(z(K)){if(ge=z(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),ve(F,j,K,J)}if(typeof K.then=="function")return nt(F,j,Sh(K),J);if(K.$$typeof===q)return nt(F,j,Th(F,K),J);Ah(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(F,j.sibling),J=d(j,K),J.return=F,F=J):(o(F,j),J=fm(K,F.mode,J),J.return=F,F=J),E(F)):o(F,j)}return function(F,j,K,J){try{iu=0;var ge=nt(F,j,K,J);return Ro=null,ge}catch(pe){if(pe===xo||pe===bh)throw pe;var He=Vn(29,pe,null,F.mode);return He.lanes=J,He.return=F,He}finally{}}}var wa=i_(!0),s_=i_(!1),nr=!1;function Am(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ir(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=gh(i),z0(i,null,o),r}return ph(i,u,r,o),gh(i)}function ru(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ml(i,o)}}function Rm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Cm=!1;function au(){if(Cm){var i=Ao;if(i!==null)throw i}}function ou(i,r,o,u){Cm=!1;var d=i.updateQueue;nr=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var O=S,$=O.next;O.next=null,E===null?g=$:E.next=$,E=O;var W=i.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==E&&(S===null?W.firstBaseUpdate=$:S.next=$,W.lastBaseUpdate=O))}if(g!==null){var ee=d.baseState;E=0,W=$=O=null,S=g;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Ve&Y)===Y:(u&Y)===Y){Y!==0&&Y===So&&(Cm=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,ve=S;Y=r;var nt=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){ee=me.call(nt,ee,Y);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,Y=typeof me=="function"?me.call(nt,ee,Y):me,Y==null)break e;ee=T({},ee,Y);break e;case 2:nr=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?($=W=X,O=ee):W=W.next=X,E|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);W===null&&(O=ee),d.baseState=O,d.firstBaseUpdate=$,d.lastBaseUpdate=W,g===null&&(d.shared.lanes=0),ur|=E,i.lanes=E,i.memoizedState=ee}}function r_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function a_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)r_(o[i],r)}var Co=U(null),xh=U(0);function o_(i,r){i=xs,ue(xh,i),ue(Co,r),xs=i|r.baseLanes}function Im(){ue(xh,xs),ue(Co,Co.current)}function Nm(){xs=xh.current,ne(Co),ne(xh)}var On=U(null),Zn=null;function rr(i){var r=i.alternate;ue(At,At.current&1),ue(On,i),Zn===null&&(r===null||Co.current!==null||r.memoizedState!==null)&&(Zn=i)}function Dm(i){ue(At,At.current),ue(On,i),Zn===null&&(Zn=i)}function l_(i){i.tag===22?(ue(At,At.current),ue(On,i),Zn===null&&(Zn=i)):ar()}function ar(){ue(At,At.current),ue(On,On.current)}function Pn(i){ne(On),Zn===i&&(Zn=null),ne(At)}var At=U(0);function Rh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Lp(o)||jp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vs=0,Re=null,et=null,Ot=null,Ch=!1,Io=!1,Sa=!1,Ih=0,lu=0,No=null,E2=0;function yt(){throw Error(s(321))}function Mm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function km(i,r,o,u,d,g){return vs=g,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?G_:Ym,Sa=!1,g=o(u,d),Sa=!1,Io&&(g=c_(r,o,u,d)),u_(i),g}function u_(i){Z.H=hu;var r=et!==null&&et.next!==null;if(vs=0,Ot=et=Re=null,Ch=!1,lu=0,No=null,r)throw Error(s(300));i===null||Pt||(i=i.dependencies,i!==null&&_h(i)&&(Pt=!0))}function c_(i,r,o,u){Re=i;var d=0;do{if(Io&&(No=null),lu=0,Io=!1,25<=d)throw Error(s(301));if(d+=1,Ot=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=K_,g=r(o,u)}while(Io);return g}function b2(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?uu(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Re.flags|=1024),r}function Vm(){var i=Ih!==0;return Ih=0,i}function Om(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Pm(i){if(Ch){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ch=!1}vs=0,Ot=et=Re=null,Io=!1,lu=Ih=0,No=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Re.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function xt(){if(et===null){var i=Re.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Ot===null?Re.memoizedState:Ot.next;if(r!==null)Ot=r,et=i;else{if(i===null)throw Re.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ot===null?Re.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(i){var r=lu;return lu+=1,No===null&&(No=[]),i=e_(No,i,r),r=Re,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?G_:Ym),i}function Dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return uu(i);if(i.$$typeof===q)return tn(i)}throw Error(s(438,String(i)))}function Lm(i){var r=null,o=Re.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nh(),Re.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function _s(i,r){return typeof r=="function"?r(i):r}function Mh(i){var r=xt();return jm(r,et,i)}function jm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=E=null,O=null,$=r,W=!1;do{var ee=$.lane&-536870913;if(ee!==$.lane?(Ve&ee)===ee:(vs&ee)===ee){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ee===So&&(W=!0);else if((vs&Y)===Y){$=$.next,Y===So&&(W=!0);continue}else ee={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=ee,E=g):O=O.next=ee,Re.lanes|=Y,ur|=Y;ee=$.action,Sa&&o(g,ee),g=$.hasEagerState?$.eagerState:o(g,ee)}else Y={lane:ee,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=Y,E=g):O=O.next=Y,Re.lanes|=ee,ur|=ee;$=$.next}while($!==null&&$!==r);if(O===null?E=g:O.next=S,!kn(g,i.memoizedState)&&(Pt=!0,W&&(o=Ao,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=O,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Um(i){var r=xt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);kn(g,r.memoizedState)||(Pt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function h_(i,r,o){var u=Re,d=xt(),g=Ue;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!kn((et||d).memoizedState,o);if(E&&(d.memoizedState=o,Pt=!0),d=d.queue,Fm(m_.bind(null,u,d,i),[i]),d.getSnapshot!==r||E||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Do(9,{destroy:void 0},d_.bind(null,u,d,o,r),null),it===null)throw Error(s(349));g||(vs&127)!==0||f_(u,r,o)}return o}function f_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Re.updateQueue,r===null?(r=Nh(),Re.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function d_(i,r,o,u){r.value=o,r.getSnapshot=u,p_(r)&&g_(i)}function m_(i,r,o){return o(function(){p_(r)&&g_(i)})}function p_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function g_(i){var r=pa(i,2);r!==null&&Rn(r,i,2)}function Bm(i){var r=yn();if(typeof i=="function"){var o=i;if(i=o(),Sa){Fn(!0);try{o()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},r}function y_(i,r,o,u){return i.baseState=o,jm(i,et,typeof u=="function"?u:_s)}function w2(i,r,o,u,d){if(Oh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,v_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function v_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=Z.T,E={};Z.T=E;try{var S=o(d,u),O=Z.S;O!==null&&O(E,S),__(i,r,S)}catch($){zm(i,r,$)}finally{g!==null&&E.types!==null&&(g.types=E.types),Z.T=g}}else try{g=o(d,u),__(i,r,g)}catch($){zm(i,r,$)}}function __(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){T_(i,r,u)},function(u){return zm(i,r,u)}):T_(i,r,o)}function T_(i,r,o){r.status="fulfilled",r.value=o,E_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,v_(i,o)))}function zm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,E_(r),r=r.next;while(r!==u)}i.action=null}function E_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function b_(i,r){return r}function w_(i,r){if(Ue){var o=it.formState;if(o!==null){e:{var u=Re;if(Ue){if(at){t:{for(var d=at,g=Wn;d.nodeType!==8;){if(!g){d=null;break t}if(d=Jn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){at=Jn(d.nextSibling),u=d.data==="F!";break e}}er(u)}u=!1}u&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:r},o.queue=u,o=F_.bind(null,Re,u),u.dispatch=o,u=Bm(!1),g=$m.bind(null,Re,!1,u.queue),u=yn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=w2.bind(null,Re,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function S_(i){var r=xt();return A_(r,et,i)}function A_(i,r,o){if(r=jm(i,r,b_)[0],i=Mh(_s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=uu(r)}catch(E){throw E===xo?bh:E}else u=r;r=xt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Re.flags|=2048,Do(9,{destroy:void 0},S2.bind(null,d,o),null)),[u,g,i]}function S2(i,r){i.action=r}function x_(i){var r=xt(),o=et;if(o!==null)return A_(r,o,i);xt(),r=r.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Do(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Nh(),Re.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function R_(){return xt().memoizedState}function kh(i,r,o,u){var d=yn();Re.flags|=i,d.memoizedState=Do(1|r,{destroy:void 0},o,u===void 0?null:u)}function Vh(i,r,o,u){var d=xt();u=u===void 0?null:u;var g=d.memoizedState.inst;et!==null&&u!==null&&Mm(u,et.memoizedState.deps)?d.memoizedState=Do(r,g,o,u):(Re.flags|=i,d.memoizedState=Do(1|r,g,o,u))}function C_(i,r){kh(8390656,8,i,r)}function Fm(i,r){Vh(2048,8,i,r)}function A2(i){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Nh(),Re.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function I_(i){var r=xt().memoizedState;return A2({ref:r,nextImpl:i}),function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function N_(i,r){return Vh(4,2,i,r)}function D_(i,r){return Vh(4,4,i,r)}function M_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function k_(i,r,o){o=o!=null?o.concat([i]):null,Vh(4,4,M_.bind(null,r,i),o)}function Hm(){}function V_(i,r){var o=xt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Mm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function O_(i,r){var o=xt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Mm(r,u[1]))return u[0];if(u=i(),Sa){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[u,r],u}function qm(i,r,o){return o===void 0||(vs&1073741824)!==0&&(Ve&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=PT(),Re.lanes|=i,ur|=i,o)}function P_(i,r,o,u){return kn(o,r)?o:Co.current!==null?(i=qm(i,o,u),kn(i,r)||(Pt=!0),i):(vs&42)===0||(vs&1073741824)!==0&&(Ve&261930)===0?(Pt=!0,i.memoizedState=o):(i=PT(),Re.lanes|=i,ur|=i,r)}function L_(i,r,o,u,d){var g=oe.p;oe.p=g!==0&&8>g?g:8;var E=Z.T,S={};Z.T=S,$m(i,!1,r,o);try{var O=d(),$=Z.S;if($!==null&&$(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=T2(O,u);cu(i,r,W,Un(i))}else cu(i,r,u,Un(i))}catch(ee){cu(i,r,{then:function(){},status:"rejected",reason:ee},Un())}finally{oe.p=g,E!==null&&S.types!==null&&(E.types=S.types),Z.T=E}}function x2(){}function Gm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=j_(i).queue;L_(i,d,r,de,o===null?x2:function(){return U_(i),o(u)})}function j_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function U_(i){var r=j_(i);r.next===null&&(r=i.alternate.memoizedState),cu(i,r.next.queue,{},Un())}function Km(){return tn(Ru)}function B_(){return xt().memoizedState}function z_(){return xt().memoizedState}function R2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Un();i=ir(o);var u=sr(r,i,o);u!==null&&(Rn(u,r,o),ru(u,r,o)),r={cache:Em()},i.payload=r;return}r=r.return}}function C2(i,r,o){var u=Un();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(i)?H_(r,o):(o=cm(i,r,o,u),o!==null&&(Rn(o,i,u),q_(o,r,u)))}function F_(i,r,o){var u=Un();cu(i,r,o,u)}function cu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(i))H_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,S=g(E,o);if(d.hasEagerState=!0,d.eagerState=S,kn(S,E))return ph(i,r,d,0),it===null&&mh(),!1}catch{}finally{}if(o=cm(i,r,d,u),o!==null)return Rn(o,i,u),q_(o,r,u),!0}return!1}function $m(i,r,o,u){if(u={lane:2,revertLane:Ap(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Oh(i)){if(r)throw Error(s(479))}else r=cm(i,o,u,2),r!==null&&Rn(r,i,2)}function Oh(i){var r=i.alternate;return i===Re||r!==null&&r===Re}function H_(i,r){Io=Ch=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function q_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Ml(i,o)}}var hu={readContext:tn,use:Dh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};hu.useEffectEvent=yt;var G_={readContext:tn,use:Dh,useCallback:function(i,r){return yn().memoizedState=[i,r===void 0?null:r],i},useContext:tn,useEffect:C_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,kh(4194308,4,M_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return kh(4194308,4,i,r)},useInsertionEffect:function(i,r){kh(4,2,i,r)},useMemo:function(i,r){var o=yn();r=r===void 0?null:r;var u=i();if(Sa){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=yn();if(o!==void 0){var d=o(r);if(Sa){Fn(!0);try{o(r)}finally{Fn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=C2.bind(null,Re,i),[u.memoizedState,i]},useRef:function(i){var r=yn();return i={current:i},r.memoizedState=i},useState:function(i){i=Bm(i);var r=i.queue,o=F_.bind(null,Re,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Hm,useDeferredValue:function(i,r){var o=yn();return qm(o,i,r)},useTransition:function(){var i=Bm(!1);return i=L_.bind(null,Re,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Re,d=yn();if(Ue){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Ve&127)!==0||f_(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,C_(m_.bind(null,u,g,i),[i]),u.flags|=2048,Do(9,{destroy:void 0},d_.bind(null,u,g,o,r),null),o},useId:function(){var i=yn(),r=it.identifierPrefix;if(Ue){var o=Ki,u=Gi;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ih++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=E2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Km,useFormState:w_,useActionState:w_,useOptimistic:function(i){var r=yn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=$m.bind(null,Re,!0,o),o.dispatch=r,[i,r]},useMemoCache:Lm,useCacheRefresh:function(){return yn().memoizedState=R2.bind(null,Re)},useEffectEvent:function(i){var r=yn(),o={impl:i};return r.memoizedState=o,function(){if((Ke&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Ym={readContext:tn,use:Dh,useCallback:V_,useContext:tn,useEffect:Fm,useImperativeHandle:k_,useInsertionEffect:N_,useLayoutEffect:D_,useMemo:O_,useReducer:Mh,useRef:R_,useState:function(){return Mh(_s)},useDebugValue:Hm,useDeferredValue:function(i,r){var o=xt();return P_(o,et.memoizedState,i,r)},useTransition:function(){var i=Mh(_s)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:uu(i),r]},useSyncExternalStore:h_,useId:B_,useHostTransitionStatus:Km,useFormState:S_,useActionState:S_,useOptimistic:function(i,r){var o=xt();return y_(o,et,i,r)},useMemoCache:Lm,useCacheRefresh:z_};Ym.useEffectEvent=I_;var K_={readContext:tn,use:Dh,useCallback:V_,useContext:tn,useEffect:Fm,useImperativeHandle:k_,useInsertionEffect:N_,useLayoutEffect:D_,useMemo:O_,useReducer:Um,useRef:R_,useState:function(){return Um(_s)},useDebugValue:Hm,useDeferredValue:function(i,r){var o=xt();return et===null?qm(o,i,r):P_(o,et.memoizedState,i,r)},useTransition:function(){var i=Um(_s)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:uu(i),r]},useSyncExternalStore:h_,useId:B_,useHostTransitionStatus:Km,useFormState:x_,useActionState:x_,useOptimistic:function(i,r){var o=xt();return et!==null?y_(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Lm,useCacheRefresh:z_};K_.useEffectEvent=I_;function Qm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:T({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Xm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Un(),d=ir(u);d.payload=r,o!=null&&(d.callback=o),r=sr(i,d,u),r!==null&&(Rn(r,i,u),ru(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Un(),d=ir(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=sr(i,d,u),r!==null&&(Rn(r,i,u),ru(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Un(),u=ir(o);u.tag=2,r!=null&&(u.callback=r),r=sr(i,u,o),r!==null&&(Rn(r,i,o),ru(r,i,o))}};function $_(i,r,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!Wl(o,u)||!Wl(d,g):!0}function Y_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Xm.enqueueReplaceState(r,r.state,null)}function Aa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=T({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function Q_(i){dh(i)}function X_(i){console.error(i)}function W_(i){dh(i)}function Ph(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Z_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Wm(i,r,o){return o=ir(o),o.tag=3,o.payload={element:null},o.callback=function(){Ph(i,r)},o}function J_(i){return i=ir(i),i.tag=3,i}function eT(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){Z_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Z_(r,o,u),typeof d!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function I2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&wo(r,o,d,!0),o=On.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Yh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),bp(i,u,d)),!1;case 22:return o.flags|=65536,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),bp(i,u,d)),!1}throw Error(s(435,o.tag))}return bp(i,u,d),Yh(),!1}if(Ue)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==gm&&(i=Error(s(422),{cause:u}),eu(Yn(i,o)))):(u!==gm&&(r=Error(s(423),{cause:u}),eu(Yn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Yn(u,o),d=Wm(i.stateNode,u,d),Rm(i,d),vt!==4&&(vt=2)),!1;var g=Error(s(520),{cause:u});if(g=Yn(g,o),_u===null?_u=[g]:_u.push(g),vt!==4&&(vt=2),r===null)return!0;u=Yn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Wm(o.stateNode,u,i),Rm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cr===null||!cr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=J_(d),eT(d,i,o,u),Rm(o,d),!1}o=o.return}while(o!==null);return!1}var Zm=Error(s(461)),Pt=!1;function nn(i,r,o,u){r.child=i===null?s_(r,null,o,u):wa(r,i.child,o,u)}function tT(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return _a(r),u=km(i,r,o,E,g,d),S=Vm(),i!==null&&!Pt?(Om(i,r,d),Ts(i,r,d)):(Ue&&S&&mm(r),r.flags|=1,nn(i,r,u,d),r.child)}function nT(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!hm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,iT(i,r,g,u,d)):(i=yh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!ap(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Wl,o(E,u)&&i.ref===r.ref)return Ts(i,r,d)}return r.flags|=1,i=ms(g,u),i.ref=r.ref,i.return=r,r.child=i}function iT(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(Wl(g,u)&&i.ref===r.ref)if(Pt=!1,r.pendingProps=u=g,ap(i,d))(i.flags&131072)!==0&&(Pt=!0);else return r.lanes=i.lanes,Ts(i,r,d)}return Jm(i,r,o,u,d)}function sT(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return rT(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Eh(r,g!==null?g.cachePool:null),g!==null?o_(r,g):Im(),l_(r);else return u=r.lanes=536870912,rT(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Eh(r,g.cachePool),o_(r,g),ar(),r.memoizedState=null):(i!==null&&Eh(r,null),Im(),ar());return nn(i,r,d,o),r.child}function fu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function rT(i,r,o,u,d){var g=wm();return g=g===null?null:{parent:Vt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Eh(r,null),Im(),l_(r),i!==null&&wo(i,r,u,!0),r.childLanes=d,null}function Lh(i,r){return r=Uh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function aT(i,r,o){return wa(r,i.child,null,o),i=Lh(r,r.pendingProps),i.flags|=2,Pn(r),r.memoizedState=null,i}function N2(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ue){if(u.mode==="hidden")return i=Lh(r,u),r.lanes=536870912,fu(null,i);if(Dm(r),(i=at)?(i=vE(i,Wn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=H0(i),o.return=r,r.child=o,en=r,at=null)):i=null,i===null)throw er(r);return r.lanes=536870912,null}return Lh(r,u)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(Dm(r),d)if(r.flags&256)r.flags&=-257,r=aT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||wo(i,r,o,!1),d=(o&i.childLanes)!==0,Pt||d){if(u=it,u!==null&&(E=kl(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,pa(i,E),Rn(u,i,E),Zm;Yh(),r=aT(i,r,o)}else i=g.treeContext,at=Jn(E.nextSibling),en=r,Ue=!0,Js=null,Wn=!1,i!==null&&K0(r,i),r=Lh(r,u),r.flags|=4096;return r}return i=ms(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function jh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Jm(i,r,o,u,d){return _a(r),o=km(i,r,o,u,void 0,d),u=Vm(),i!==null&&!Pt?(Om(i,r,d),Ts(i,r,d)):(Ue&&u&&mm(r),r.flags|=1,nn(i,r,o,d),r.child)}function oT(i,r,o,u,d,g){return _a(r),r.updateQueue=null,o=c_(r,u,o,d),u_(i),u=Vm(),i!==null&&!Pt?(Om(i,r,g),Ts(i,r,g)):(Ue&&u&&mm(r),r.flags|=1,nn(i,r,o,g),r.child)}function lT(i,r,o,u,d){if(_a(r),r.stateNode===null){var g=_o,E=o.contextType;typeof E=="object"&&E!==null&&(g=tn(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Am(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?tn(E):_o,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Qm(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Xm.enqueueReplaceState(g,g.state,null),ou(r,u,g,d),au(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,O=Aa(o,S);g.props=O;var $=g.context,W=o.contextType;E=_o,typeof W=="object"&&W!==null&&(E=tn(W));var ee=o.getDerivedStateFromProps;W=typeof ee=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==E)&&Y_(r,g,u,E),nr=!1;var Y=r.memoizedState;g.state=Y,ou(r,u,g,d),au(),$=r.memoizedState,S||Y!==$||nr?(typeof ee=="function"&&(Qm(r,o,ee,u),$=r.memoizedState),(O=nr||$_(r,o,O,u,Y,$,E))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=E,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,xm(i,r),E=r.memoizedProps,W=Aa(o,E),g.props=W,ee=r.pendingProps,Y=g.context,$=o.contextType,O=_o,typeof $=="object"&&$!==null&&(O=tn($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ee||Y!==O)&&Y_(r,g,u,O),nr=!1,Y=r.memoizedState,g.state=Y,ou(r,u,g,d),au();var X=r.memoizedState;E!==ee||Y!==X||nr||i!==null&&i.dependencies!==null&&_h(i.dependencies)?(typeof S=="function"&&(Qm(r,o,S,u),X=r.memoizedState),(W=nr||$_(r,o,W,u,Y,X,O)||i!==null&&i.dependencies!==null&&_h(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=O,u=W):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,jh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=wa(r,i.child,null,d),r.child=wa(r,null,o,d)):nn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=Ts(i,r,d),i}function uT(i,r,o,u){return ya(),r.flags|=256,nn(i,r,o,u),r.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(i){return{baseLanes:i,cachePool:Z0()}}function np(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=jn),i}function cT(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(At.current&2)!==0),E&&(d=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ue){if(d?rr(r):ar(),(i=at)?(i=vE(i,Wn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=H0(i),o.return=r,r.child=o,en=r,at=null)):i=null,i===null)throw er(r);return jp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(ar(),d=r.mode,S=Uh({mode:"hidden",children:S},d),u=ga(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=tp(o),u.childLanes=np(i,E,o),r.memoizedState=ep,fu(null,u)):(rr(r),ip(r,S))}var O=i.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(g)r.flags&256?(rr(r),r.flags&=-257,r=sp(i,r,o)):r.memoizedState!==null?(ar(),r.child=i.child,r.flags|=128,r=null):(ar(),S=u.fallback,d=r.mode,u=Uh({mode:"visible",children:u.children},d),S=ga(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,wa(r,i.child,null,o),u=r.child,u.memoizedState=tp(o),u.childLanes=np(i,E,o),r.memoizedState=ep,r=fu(null,u));else if(rr(r),jp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,eu({value:u,source:null,stack:null}),r=sp(i,r,o)}else if(Pt||wo(i,r,o,!1),E=(o&i.childLanes)!==0,Pt||E){if(E=it,E!==null&&(u=kl(E,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,pa(i,u),Rn(E,i,u),Zm;Lp(S)||Yh(),r=sp(i,r,o)}else Lp(S)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,at=Jn(S.nextSibling),en=r,Ue=!0,Js=null,Wn=!1,i!==null&&K0(r,i),r=ip(r,u.children),r.flags|=4096);return r}return d?(ar(),S=u.fallback,d=r.mode,O=i.child,$=O.sibling,u=ms(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,$!==null?S=ms($,S):(S=ga(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,fu(null,u),u=r.child,S=i.child.memoizedState,S===null?S=tp(o):(d=S.cachePool,d!==null?(O=Vt._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Z0(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=np(i,E,o),r.memoizedState=ep,fu(i.child,u)):(rr(r),o=i.child,i=o.sibling,o=ms(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function ip(i,r){return r=Uh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Uh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function sp(i,r,o){return wa(r,i.child,null,o),i=ip(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function hT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),_m(i.return,r,o)}function rp(i,r,o,u,d,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=d,E.treeForkCount=g)}function fT(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var E=At.current,S=(E&2)!==0;if(S?(E=E&1|2,r.flags|=128):E&=1,ue(At,E),nn(i,r,u,o),u=Ue?Jl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hT(i,o,r);else if(i.tag===19)hT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Rh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),rp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Rh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}rp(r,!0,o,null,g,u);break;case"together":rp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ts(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ur|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(wo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ms(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ms(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function ap(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&_h(i)))}function D2(i,r,o){switch(r.tag){case 3:Ft(r,r.stateNode.containerInfo),tr(r,Vt,i.memoizedState.cache),ya();break;case 27:case 5:Wr(r);break;case 4:Ft(r,r.stateNode.containerInfo);break;case 10:tr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Dm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(rr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?cT(i,r,o):(rr(r),i=Ts(i,r,o),i!==null?i.sibling:null);rr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(wo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return fT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(At,At.current),u)break;return null;case 22:return r.lanes=0,sT(i,r,o,r.pendingProps);case 24:tr(r,Vt,i.memoizedState.cache)}return Ts(i,r,o)}function dT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Pt=!0;else{if(!ap(i,o)&&(r.flags&128)===0)return Pt=!1,D2(i,r,o);Pt=(i.flags&131072)!==0}else Pt=!1,Ue&&(r.flags&1048576)!==0&&G0(r,Jl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ea(r.elementType),r.type=i,typeof i=="function")hm(i)?(u=Aa(i,u),r.tag=1,r=lT(null,r,i,u,o)):(r.tag=0,r=Jm(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===ae){r.tag=11,r=tT(null,r,i,u,o);break e}else if(d===C){r.tag=14,r=nT(null,r,i,u,o);break e}}throw r=Qe(i)||i,Error(s(306,r,""))}}return r;case 0:return Jm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Aa(u,r.pendingProps),lT(i,r,u,d,o);case 3:e:{if(Ft(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,xm(i,r),ou(r,u,null,o);var E=r.memoizedState;if(u=E.cache,tr(r,Vt,u),u!==g.cache&&Tm(r,[Vt],o,!0),au(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=uT(i,r,u,o);break e}else if(u!==d){d=Yn(Error(s(424)),r),eu(d),r=uT(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(at=Jn(i.firstChild),en=r,Ue=!0,Js=null,Wn=!0,o=s_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ya(),u===d){r=Ts(i,r,o);break e}nn(i,r,u,o)}r=r.child}return r;case 26:return jh(i,r),i===null?(o=SE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ue||(o=r.type,i=r.pendingProps,u=tf(Ie.current).createElement(o),u[Dt]=r,u[$t]=i,sn(u,o,i),Mt(u),r.stateNode=u):r.memoizedState=SE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Wr(r),i===null&&Ue&&(u=r.stateNode=EE(r.type,r.pendingProps,Ie.current),en=r,Wn=!0,d=at,mr(r.type)?(Up=d,at=Jn(u.firstChild)):at=d),nn(i,r,r.pendingProps.children,o),jh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ue&&((d=u=at)&&(u=oI(u,r.type,r.pendingProps,Wn),u!==null?(r.stateNode=u,en=r,at=Jn(u.firstChild),Wn=!1,d=!0):d=!1),d||er(r)),Wr(r),d=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Vp(d,g)?u=null:E!==null&&Vp(d,E)&&(r.flags|=32),r.memoizedState!==null&&(d=km(i,r,b2,null,null,o),Ru._currentValue=d),jh(i,r),nn(i,r,u,o),r.child;case 6:return i===null&&Ue&&((i=o=at)&&(o=lI(o,r.pendingProps,Wn),o!==null?(r.stateNode=o,en=r,at=null,i=!0):i=!1),i||er(r)),null;case 13:return cT(i,r,o);case 4:return Ft(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=wa(r,null,u,o):nn(i,r,u,o),r.child;case 11:return tT(i,r,r.type,r.pendingProps,o);case 7:return nn(i,r,r.pendingProps,o),r.child;case 8:return nn(i,r,r.pendingProps.children,o),r.child;case 12:return nn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,tr(r,r.type,u.value),nn(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,_a(r),d=tn(d),u=u(d),r.flags|=1,nn(i,r,u,o),r.child;case 14:return nT(i,r,r.type,r.pendingProps,o);case 15:return iT(i,r,r.type,r.pendingProps,o);case 19:return fT(i,r,o);case 31:return N2(i,r,o);case 22:return sT(i,r,o,r.pendingProps);case 24:return _a(r),u=tn(Vt),i===null?(d=wm(),d===null&&(d=it,g=Em(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Am(r),tr(r,Vt,d)):((i.lanes&o)!==0&&(xm(i,r),ou(r,null,null,o),au()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),tr(r,Vt,u)):(u=g.cache,tr(r,Vt,u),u!==d.cache&&Tm(r,[Vt],o,!0))),nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Es(i){i.flags|=4}function op(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(BT())i.flags|=8192;else throw ba=wh,Sm}else i.flags&=-16777217}function mT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!IE(r))if(BT())i.flags|=8192;else throw ba=wh,Sm}function Bh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Kc():536870912,i.lanes|=r,Oo|=r)}function du(i,r){if(!Ue)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function M2(i,r,o){var u=r.pendingProps;switch(pm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ys(Vt),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(bo(r)?Es(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ym())),ot(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Es(r),g!==null?(ot(r),mT(r,g)):(ot(r),op(r,d,null,u,o))):g?g!==i.memoizedState?(Es(r),ot(r),mT(r,g)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Es(r),ot(r),op(r,d,i,u,o)),null;case 27:if(Ja(r),o=Ie.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=fe.current,bo(r)?$0(r):(i=EE(d,u,o),r.stateNode=i,Es(r))}return ot(r),null;case 5:if(Ja(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(g=fe.current,bo(r))$0(r);else{var E=tf(Ie.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(d,{is:u.is}):E.createElement(d)}}g[Dt]=r,g[$t]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=g;e:switch(sn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Es(r)}}return ot(r),op(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ie.current,bo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=en,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||cE(i.nodeValue,o)),i||er(r,!0)}else i=tf(i).createTextNode(u),i[Dt]=r,r.stateNode=i}return ot(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=bo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Dt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else o=ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Pn(r),r):(Pn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=bo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Dt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),d=!1}else d=ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Pn(r),r):(Pn(r),null)}return Pn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Bh(r,r.updateQueue),ot(r),null);case 4:return ct(),i===null&&Ip(r.stateNode.containerInfo),ot(r),null;case 10:return ys(r.type),ot(r),null;case 19:if(ne(At),u=r.memoizedState,u===null)return ot(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)du(u,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Rh(i),g!==null){for(r.flags|=128,du(u,!1),i=g.updateQueue,r.updateQueue=i,Bh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)F0(o,i),o=o.sibling;return ue(At,At.current&1|2),Ue&&ps(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&pn()>Gh&&(r.flags|=128,d=!0,du(u,!1),r.lanes=4194304)}else{if(!d)if(i=Rh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Bh(r,i),du(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ue)return ot(r),null}else 2*pn()-u.renderingStartTime>Gh&&o!==536870912&&(r.flags|=128,d=!0,du(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=pn(),i.sibling=null,o=At.current,ue(At,d?o&1|2:o&1),Ue&&ps(r,u.treeForkCount),i):(ot(r),null);case 22:case 23:return Pn(r),Nm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Bh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ne(Ta),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ys(Vt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function k2(i,r){switch(pm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ys(Vt),ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ja(r),null;case 31:if(r.memoizedState!==null){if(Pn(r),r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Pn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ne(At),null;case 4:return ct(),null;case 10:return ys(r.type),null;case 22:case 23:return Pn(r),Nm(),i!==null&&ne(Ta),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ys(Vt),null;case 25:return null;default:return null}}function pT(i,r){switch(pm(r),r.tag){case 3:ys(Vt),ct();break;case 26:case 27:case 5:Ja(r);break;case 4:ct();break;case 31:r.memoizedState!==null&&Pn(r);break;case 13:Pn(r);break;case 19:ne(At);break;case 10:ys(r.type);break;case 22:case 23:Pn(r),Nm(),i!==null&&ne(Ta);break;case 24:ys(Vt)}}function mu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(S){Ze(r,r.return,S)}}function or(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=r;var O=o,$=S;try{$()}catch(W){Ze(d,O,W)}}}u=u.next}while(u!==g)}}catch(W){Ze(r,r.return,W)}}function gT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{a_(r,o)}catch(u){Ze(i,i.return,u)}}}function yT(i,r,o){o.props=Aa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Ze(i,r,u)}}function pu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Ze(i,r,d)}}function $i(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Ze(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ze(i,r,d)}else o.current=null}function vT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Ze(i,i.return,d)}}function lp(i,r,o){try{var u=i.stateNode;tI(u,i.type,o,r),u[$t]=r}catch(d){Ze(i,i.return,d)}}function _T(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&mr(i.type)||i.tag===4}function up(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_T(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&mr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=hi));else if(u!==4&&(u===27&&mr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(cp(i,r,o),i=i.sibling;i!==null;)cp(i,r,o),i=i.sibling}function zh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&mr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(zh(i,r,o),i=i.sibling;i!==null;)zh(i,r,o),i=i.sibling}function TT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);sn(r,u,o),r[Dt]=i,r[$t]=o}catch(g){Ze(i,i.return,g)}}var bs=!1,Lt=!1,hp=!1,ET=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function V2(i,r){if(i=i.containerInfo,Mp=uf,i=k0(i),sm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,S=-1,O=-1,$=0,W=0,ee=i,Y=null;t:for(;;){for(var X;ee!==o||d!==0&&ee.nodeType!==3||(S=E+d),ee!==g||u!==0&&ee.nodeType!==3||(O=E+u),ee.nodeType===3&&(E+=ee.nodeValue.length),(X=ee.firstChild)!==null;)Y=ee,ee=X;for(;;){if(ee===i)break t;if(Y===o&&++$===d&&(S=E),Y===g&&++W===u&&(O=E),(X=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=X}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(kp={focusedElem:i,selectionRange:o},uf=!1,Qt=r;Qt!==null;)if(r=Qt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Qt=i;else for(;Qt!==null;){switch(r=Qt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=Aa(o.type,d);i=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Ze(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Pp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Pp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Qt=i;break}Qt=r.return}}function bT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ss(i,o),u&4&&mu(5,o);break;case 1:if(Ss(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){Ze(o,o.return,E)}else{var d=Aa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(o,o.return,E)}}u&64&&gT(o),u&512&&pu(o,o.return);break;case 3:if(Ss(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{a_(i,r)}catch(E){Ze(o,o.return,E)}}break;case 27:r===null&&u&4&&TT(o);case 26:case 5:Ss(i,o),r===null&&u&4&&vT(o),u&512&&pu(o,o.return);break;case 12:Ss(i,o);break;case 31:Ss(i,o),u&4&&AT(i,o);break;case 13:Ss(i,o),u&4&&xT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=H2.bind(null,o),uI(i,o))));break;case 22:if(u=o.memoizedState!==null||bs,!u){r=r!==null&&r.memoizedState!==null||Lt,d=bs;var g=Lt;bs=u,(Lt=r)&&!g?As(i,o,(o.subtreeFlags&8772)!==0):Ss(i,o),bs=d,Lt=g}break;case 30:break;default:Ss(i,o)}}function wT(i){var r=i.alternate;r!==null&&(i.alternate=null,wT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&so(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,wn=!1;function ws(i,r,o){for(o=o.child;o!==null;)ST(i,r,o),o=o.sibling}function ST(i,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(oi,o)}catch{}switch(o.tag){case 26:Lt||$i(o,r),ws(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||$i(o,r);var u=ft,d=wn;mr(o.type)&&(ft=o.stateNode,wn=!1),ws(i,r,o),Su(o.stateNode),ft=u,wn=d;break;case 5:Lt||$i(o,r);case 6:if(u=ft,d=wn,ft=null,ws(i,r,o),ft=u,wn=d,ft!==null)if(wn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){Ze(o,r,g)}else try{ft.removeChild(o.stateNode)}catch(g){Ze(o,r,g)}break;case 18:ft!==null&&(wn?(i=ft,gE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ho(i)):gE(ft,o.stateNode));break;case 4:u=ft,d=wn,ft=o.stateNode.containerInfo,wn=!0,ws(i,r,o),ft=u,wn=d;break;case 0:case 11:case 14:case 15:or(2,o,r),Lt||or(4,o,r),ws(i,r,o);break;case 1:Lt||($i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&yT(o,r,u)),ws(i,r,o);break;case 21:ws(i,r,o);break;case 22:Lt=(u=Lt)||o.memoizedState!==null,ws(i,r,o),Lt=u;break;default:ws(i,r,o)}}function AT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ho(i)}catch(o){Ze(r,r.return,o)}}}function xT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ho(i)}catch(o){Ze(r,r.return,o)}}function O2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ET),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ET),r;default:throw Error(s(435,i.tag))}}function Fh(i,r){var o=O2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=q2.bind(null,i,u);u.then(d,d)}})}function Sn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(mr(S.type)){ft=S.stateNode,wn=!1;break e}break;case 5:ft=S.stateNode,wn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(ft===null)throw Error(s(160));ST(g,E,d),ft=null,wn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)RT(r,i),r=r.sibling}var yi=null;function RT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(r,i),An(i),u&4&&(or(3,i,i.return),mu(3,i),or(5,i,i.return));break;case 1:Sn(r,i),An(i),u&512&&(Lt||o===null||$i(o,o.return)),u&64&&bs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=yi;if(Sn(r,i),An(i),u&512&&(Lt||o===null||$i(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ki]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),sn(g,u,o),g[Dt]=i,Mt(g),u=g;break e;case"link":var E=RE("link","href",d).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}g=d.createElement(u),sn(g,u,o),d.head.appendChild(g);break;case"meta":if(E=RE("meta","content",d).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}g=d.createElement(u),sn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Dt]=i,Mt(g),u=g}i.stateNode=u}else CE(d,i.type,i.stateNode);else i.stateNode=xE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?CE(d,i.type,i.stateNode):xE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&lp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Sn(r,i),An(i),u&512&&(Lt||o===null||$i(o,o.return)),o!==null&&u&4&&lp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Sn(r,i),An(i),u&512&&(Lt||o===null||$i(o,o.return)),i.flags&32){d=i.stateNode;try{bn(d,"")}catch(me){Ze(i,i.return,me)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,lp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(hp=!0);break;case 6:if(Sn(r,i),An(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){Ze(i,i.return,me)}}break;case 3:if(rf=null,d=yi,yi=nf(r.containerInfo),Sn(r,i),yi=d,An(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ho(r.containerInfo)}catch(me){Ze(i,i.return,me)}hp&&(hp=!1,CT(i));break;case 4:u=yi,yi=nf(i.stateNode.containerInfo),Sn(r,i),An(i),yi=u;break;case 12:Sn(r,i),An(i);break;case 31:Sn(r,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 13:Sn(r,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qh=pn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 22:d=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,$=bs,W=Lt;if(bs=$||d,Lt=W||O,Sn(r,i),Lt=W,bs=$,An(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||O||bs||Lt||xa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var ee=O.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Ze(O,O.return,me)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(me){Ze(O,O.return,me)}}}else if(r.tag===18){if(o===null){O=r;try{var X=O.stateNode;d?yE(X,!0):yE(O.stateNode,!1)}catch(me){Ze(O,O.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Fh(i,o))));break;case 19:Sn(r,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 30:break;case 21:break;default:Sn(r,i),An(i)}}function An(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(_T(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=up(i);zh(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(bn(E,""),o.flags&=-33);var S=up(i);zh(i,S,E);break;case 3:case 4:var O=o.stateNode.containerInfo,$=up(i);cp(i,$,O);break;default:throw Error(s(161))}}catch(W){Ze(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function CT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;CT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ss(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bT(i,r.alternate,r),r=r.sibling}function xa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:or(4,r,r.return),xa(r);break;case 1:$i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&yT(r,r.return,o),xa(r);break;case 27:Su(r.stateNode);case 26:case 5:$i(r,r.return),xa(r);break;case 22:r.memoizedState===null&&xa(r);break;case 30:xa(r);break;default:xa(r)}i=i.sibling}}function As(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:As(d,g,o),mu(4,g);break;case 1:if(As(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Ze(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)r_(O[d],S)}catch($){Ze(u,u.return,$)}}o&&E&64&&gT(g),pu(g,g.return);break;case 27:TT(g);case 26:case 5:As(d,g,o),o&&u===null&&E&4&&vT(g),pu(g,g.return);break;case 12:As(d,g,o);break;case 31:As(d,g,o),o&&E&4&&AT(d,g);break;case 13:As(d,g,o),o&&E&4&&xT(d,g);break;case 22:g.memoizedState===null&&As(d,g,o),pu(g,g.return);break;case 30:break;default:As(d,g,o)}r=r.sibling}}function fp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&tu(o))}function dp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&tu(i))}function vi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)IT(i,r,o,u),r=r.sibling}function IT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:vi(i,r,o,u),d&2048&&mu(9,r);break;case 1:vi(i,r,o,u);break;case 3:vi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&tu(i)));break;case 12:if(d&2048){vi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(r,r.return,O)}}else vi(i,r,o,u);break;case 31:vi(i,r,o,u);break;case 13:vi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?vi(i,r,o,u):gu(i,r):g._visibility&2?vi(i,r,o,u):(g._visibility|=2,Mo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&fp(E,r);break;case 24:vi(i,r,o,u),d&2048&&dp(r.alternate,r);break;default:vi(i,r,o,u)}}function Mo(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,E=r,S=o,O=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:Mo(g,E,S,O,d),mu(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Mo(g,E,S,O,d):gu(g,E):(W._visibility|=2,Mo(g,E,S,O,d)),d&&$&2048&&fp(E.alternate,E);break;case 24:Mo(g,E,S,O,d),d&&$&2048&&dp(E.alternate,E);break;default:Mo(g,E,S,O,d)}r=r.sibling}}function gu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:gu(o,u),d&2048&&fp(u.alternate,u);break;case 24:gu(o,u),d&2048&&dp(u.alternate,u);break;default:gu(o,u)}r=r.sibling}}var yu=8192;function ko(i,r,o){if(i.subtreeFlags&yu)for(i=i.child;i!==null;)NT(i,r,o),i=i.sibling}function NT(i,r,o){switch(i.tag){case 26:ko(i,r,o),i.flags&yu&&i.memoizedState!==null&&EI(o,yi,i.memoizedState,i.memoizedProps);break;case 5:ko(i,r,o);break;case 3:case 4:var u=yi;yi=nf(i.stateNode.containerInfo),ko(i,r,o),yi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=yu,yu=16777216,ko(i,r,o),yu=u):ko(i,r,o));break;default:ko(i,r,o)}}function DT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function vu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qt=u,kT(u,i)}DT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)MT(i),i=i.sibling}function MT(i){switch(i.tag){case 0:case 11:case 15:vu(i),i.flags&2048&&or(9,i,i.return);break;case 3:vu(i);break;case 12:vu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Hh(i)):vu(i);break;default:vu(i)}}function Hh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qt=u,kT(u,i)}DT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:or(8,r,r.return),Hh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Hh(r));break;default:Hh(r)}i=i.sibling}}function kT(i,r){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:or(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:tu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qt=u;else e:for(o=i;Qt!==null;){u=Qt;var d=u.sibling,g=u.return;if(wT(u),u===o){Qt=null;break e}if(d!==null){d.return=g,Qt=d;break e}Qt=g}}}var P2={getCacheForType:function(i){var r=tn(Vt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return tn(Vt).controller.signal}},L2=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,De=null,Ve=0,We=0,Ln=null,lr=!1,Vo=!1,mp=!1,xs=0,vt=0,ur=0,Ra=0,pp=0,jn=0,Oo=0,_u=null,xn=null,gp=!1,qh=0,VT=0,Gh=1/0,Kh=null,cr=null,qt=0,hr=null,Po=null,Rs=0,yp=0,vp=null,OT=null,Tu=0,_p=null;function Un(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:Z.T!==null?Ap():$c()}function PT(){if(jn===0)if((Ve&536870912)===0||Ue){var i=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),jn=i}else jn=536870912;return i=On.current,i!==null&&(i.flags|=32),jn}function Rn(i,r,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Lo(i,0),fr(i,Ve,jn,!1)),ta(i,o),((Ke&2)===0||i!==it)&&(i===it&&((Ke&2)===0&&(Ra|=o),vt===4&&fr(i,Ve,jn,!1)),Yi(i))}function LT(i,r,o){if((Ke&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||li(i,r),d=u?B2(i,r):Ep(i,r,!0),g=u;do{if(d===0){Vo&&!u&&fr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!j2(o)){d=Ep(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=i;d=_u;var O=S.current.memoizedState.isDehydrated;if(O&&(Lo(S,E).flags|=256),E=Ep(S,E,!1),E!==2){if(mp&&!O){S.errorRecoveryDisabledLanes|=g,Ra|=g,d=4;break e}g=xn,xn=d,g!==null&&(xn===null?xn=g:xn.push.apply(xn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){Lo(i,0),fr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:fr(u,r,jn,!lr);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=qh+300-pn(),10<d)){if(fr(u,r,jn,!lr),Ni(u,0,!0)!==0)break e;Rs=r,u.timeoutHandle=mE(jT.bind(null,u,o,xn,Kh,gp,r,jn,Ra,Oo,lr,g,"Throttled",-0,0),d);break e}jT(u,o,xn,Kh,gp,r,jn,Ra,Oo,lr,g,null,-0,0)}}break}while(!0);Yi(i)}function jT(i,r,o,u,d,g,E,S,O,$,W,ee,Y,X){if(i.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},NT(r,g,ee);var me=(g&62914560)===g?qh-pn():(g&4194048)===g?VT-pn():0;if(me=bI(ee,me),me!==null){Rs=g,i.cancelPendingCommit=me(KT.bind(null,i,r,g,o,u,d,E,S,O,W,ee,null,Y,X)),fr(i,g,E,!$);return}}KT(i,r,g,o,u,d,E,S,O)}function j2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!kn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fr(i,r,o,u){r&=~pp,r&=~Ra,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-wt(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&na(i,o,r)}function $h(){return(Ke&6)===0?(Eu(0),!1):!0}function Tp(){if(De!==null){if(We===0)var i=De.return;else i=De,gs=va=null,Pm(i),Ro=null,iu=0,i=De;for(;i!==null;)pT(i.alternate,i),i=i.return;De=null}}function Lo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,sI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Rs=0,Tp(),it=i,De=o=ms(i.current,null),Ve=r,We=0,Ln=null,lr=!1,Vo=li(i,r),mp=!1,Oo=jn=pp=Ra=ur=vt=0,xn=_u=null,gp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-wt(u),g=1<<d;r|=i[d],u&=~g}return xs=r,mh(),o}function UT(i,r){Re=null,Z.H=hu,r===xo||r===bh?(r=t_(),We=3):r===Sm?(r=t_(),We=4):We=r===Zm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,De===null&&(vt=1,Ph(i,Yn(r,i.current)))}function BT(){var i=On.current;return i===null?!0:(Ve&4194048)===Ve?Zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?i===Zn:!1}function zT(){var i=Z.H;return Z.H=hu,i===null?hu:i}function FT(){var i=Z.A;return Z.A=P2,i}function Yh(){vt=4,lr||(Ve&4194048)!==Ve&&On.current!==null||(Vo=!0),(ur&134217727)===0&&(Ra&134217727)===0||it===null||fr(it,Ve,jn,!1)}function Ep(i,r,o){var u=Ke;Ke|=2;var d=zT(),g=FT();(it!==i||Ve!==r)&&(Kh=null,Lo(i,r)),r=!1;var E=vt;e:do try{if(We!==0&&De!==null){var S=De,O=Ln;switch(We){case 8:Tp(),E=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var $=We;if(We=0,Ln=null,jo(i,S,O,$),o&&Vo){E=0;break e}break;default:$=We,We=0,Ln=null,jo(i,S,O,$)}}U2(),E=vt;break}catch(W){UT(i,W)}while(!0);return r&&i.shellSuspendCounter++,gs=va=null,Ke=u,Z.H=d,Z.A=g,De===null&&(it=null,Ve=0,mh()),E}function U2(){for(;De!==null;)HT(De)}function B2(i,r){var o=Ke;Ke|=2;var u=zT(),d=FT();it!==i||Ve!==r?(Kh=null,Gh=pn()+500,Lo(i,r)):Vo=li(i,r);e:do try{if(We!==0&&De!==null){r=De;var g=Ln;t:switch(We){case 1:We=0,Ln=null,jo(i,r,g,1);break;case 2:case 9:if(J0(g)){We=0,Ln=null,qT(r);break}r=function(){We!==2&&We!==9||it!==i||(We=7),Yi(i)},g.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:J0(g)?(We=0,Ln=null,qT(r)):(We=0,Ln=null,jo(i,r,g,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var S=De;if(E?IE(E):S.stateNode.complete){We=0,Ln=null;var O=S.sibling;if(O!==null)De=O;else{var $=S.return;$!==null?(De=$,Qh($)):De=null}break t}}We=0,Ln=null,jo(i,r,g,5);break;case 6:We=0,Ln=null,jo(i,r,g,6);break;case 8:Tp(),vt=6;break e;default:throw Error(s(462))}}z2();break}catch(W){UT(i,W)}while(!0);return gs=va=null,Z.H=u,Z.A=d,Ke=o,De!==null?0:(it=null,Ve=0,mh(),vt)}function z2(){for(;De!==null&&!Wd();)HT(De)}function HT(i){var r=dT(i.alternate,i,xs);i.memoizedProps=i.pendingProps,r===null?Qh(i):De=r}function qT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=oT(o,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=oT(o,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:Pm(r);default:pT(o,r),r=De=F0(r,xs),r=dT(o,r,xs)}i.memoizedProps=i.pendingProps,r===null?Qh(i):De=r}function jo(i,r,o,u){gs=va=null,Pm(r),Ro=null,iu=0;var d=r.return;try{if(I2(i,d,r,o,Ve)){vt=1,Ph(i,Yn(o,i.current)),De=null;return}}catch(g){if(d!==null)throw De=d,g;vt=1,Ph(i,Yn(o,i.current)),De=null;return}r.flags&32768?(Ue||u===1?i=!0:Vo||(Ve&536870912)!==0?i=!1:(lr=i=!0,(u===2||u===9||u===3||u===6)&&(u=On.current,u!==null&&u.tag===13&&(u.flags|=16384))),GT(r,i)):Qh(r)}function Qh(i){var r=i;do{if((r.flags&32768)!==0){GT(r,lr);return}i=r.return;var o=M2(r.alternate,r,xs);if(o!==null){De=o;return}if(r=r.sibling,r!==null){De=r;return}De=r=i}while(r!==null);vt===0&&(vt=5)}function GT(i,r){do{var o=k2(i.alternate,i);if(o!==null){o.flags&=32767,De=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){De=i;return}De=i=o}while(i!==null);vt=6,De=null}function KT(i,r,o,u,d,g,E,S,O){i.cancelPendingCommit=null;do Xh();while(qt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=um,em(i,o,g,E,S,O),i===it&&(De=it=null,Ve=0),Po=r,hr=i,Rs=o,yp=g,vp=d,OT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,G2(Fs,function(){return WT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=oe.p,oe.p=2,E=Ke,Ke|=4;try{V2(i,r,o)}finally{Ke=E,oe.p=d,Z.T=u}}qt=1,$T(),YT(),QT()}}function $T(){if(qt===1){qt=0;var i=hr,r=Po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var d=Ke;Ke|=4;try{RT(r,i);var g=kp,E=k0(i.containerInfo),S=g.focusedElem,O=g.selectionRange;if(E!==S&&S&&S.ownerDocument&&M0(S.ownerDocument.documentElement,S)){if(O!==null&&sm(S)){var $=O.start,W=O.end;if(W===void 0&&(W=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(W,S.value.length);else{var ee=S.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=S.textContent.length,ve=Math.min(O.start,me),nt=O.end===void 0?ve:Math.min(O.end,me);!X.extend&&ve>nt&&(E=nt,nt=ve,ve=E);var F=D0(S,ve),j=D0(S,nt);if(F&&j&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var K=ee.createRange();K.setStart(F.node,F.offset),X.removeAllRanges(),ve>nt?(X.addRange(K),X.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),X.addRange(K))}}}}for(ee=[],X=S;X=X.parentNode;)X.nodeType===1&&ee.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}uf=!!Mp,kp=Mp=null}finally{Ke=d,oe.p=u,Z.T=o}}i.current=r,qt=2}}function YT(){if(qt===2){qt=0;var i=hr,r=Po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var d=Ke;Ke|=4;try{bT(i,r.alternate,r)}finally{Ke=d,oe.p=u,Z.T=o}}qt=3}}function QT(){if(qt===4||qt===3){qt=0,Bc();var i=hr,r=Po,o=Rs,u=OT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Po=hr=null,XT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(cr=null),cs(o),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(oi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,d=oe.p,oe.p=2,Z.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];g(S.value,{componentStack:S.stack})}}finally{Z.T=r,oe.p=d}}(Rs&3)!==0&&Xh(),Yi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===_p?Tu++:(Tu=0,_p=i):Tu=0,Eu(0)}}function XT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,tu(r)))}function Xh(){return $T(),YT(),QT(),WT()}function WT(){if(qt!==5)return!1;var i=hr,r=yp;yp=0;var o=cs(Rs),u=Z.T,d=oe.p;try{oe.p=32>o?32:o,Z.T=null,o=vp,vp=null;var g=hr,E=Rs;if(qt=0,Po=hr=null,Rs=0,(Ke&6)!==0)throw Error(s(331));var S=Ke;if(Ke|=4,MT(g.current),IT(g,g.current,E,o),Ke=S,Eu(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(oi,g)}catch{}return!0}finally{oe.p=d,Z.T=u,XT(i,r)}}function ZT(i,r,o){r=Yn(o,r),r=Wm(i.stateNode,r,2),i=sr(i,r,2),i!==null&&(ta(i,2),Yi(i))}function Ze(i,r,o){if(i.tag===3)ZT(i,i,o);else for(;r!==null;){if(r.tag===3){ZT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u))){i=Yn(o,i),o=J_(2),u=sr(r,o,2),u!==null&&(eT(o,u,r,i),ta(u,2),Yi(u));break}}r=r.return}}function bp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new L2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(mp=!0,d.add(o),i=F2.bind(null,i,r,o),r.then(i,i))}function F2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Ve&o)===o&&(vt===4||vt===3&&(Ve&62914560)===Ve&&300>pn()-qh?(Ke&2)===0&&Lo(i,0):pp|=o,Oo===Ve&&(Oo=0)),Yi(i)}function JT(i,r){r===0&&(r=Kc()),i=pa(i,r),i!==null&&(ta(i,r),Yi(i))}function H2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),JT(i,o)}function q2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),JT(i,o)}function G2(i,r){return Ht(i,r)}var Wh=null,Uo=null,wp=!1,Zh=!1,Sp=!1,dr=0;function Yi(i){i!==Uo&&i.next===null&&(Uo===null?Wh=Uo=i:Uo=Uo.next=i),Zh=!0,wp||(wp=!0,$2())}function Eu(i,r){if(!Sp&&Zh){Sp=!0;do for(var o=!1,u=Wh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-wt(42|i)+1)-1,g&=d&~(E&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,iE(u,g))}else g=Ve,g=Ni(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||li(u,g)||(o=!0,iE(u,g));u=u.next}while(o);Sp=!1}}function K2(){eE()}function eE(){Zh=wp=!1;var i=0;dr!==0&&iI()&&(i=dr);for(var r=pn(),o=null,u=Wh;u!==null;){var d=u.next,g=tE(u,r);g===0?(u.next=null,o===null?Wh=d:o.next=d,d===null&&(Uo=o)):(o=u,(i!==0||(g&3)!==0)&&(Zh=!0)),u=d}qt!==0&&qt!==5||Eu(i),dr!==0&&(dr=0)}function tE(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-wt(g),S=1<<E,O=d[E];O===-1?((S&o)===0||(S&u)!==0)&&(d[E]=Jd(S,r)):O<=r&&(i.expiredLanes|=S),g&=~S}if(r=it,o=Ve,o=Ni(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&zs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||li(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&zs(u),cs(o)){case 2:case 8:o=Dl;break;case 32:o=Fs;break;case 268435456:o=zc;break;default:o=Fs}return u=nE.bind(null,i),o=Ht(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&zs(u),i.callbackPriority=2,i.callbackNode=null,2}function nE(i,r){if(qt!==0&&qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Xh()&&i.callbackNode!==o)return null;var u=Ve;return u=Ni(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(LT(i,u,r),tE(i,pn()),i.callbackNode!=null&&i.callbackNode===o?nE.bind(null,i):null)}function iE(i,r){if(Xh())return null;LT(i,r,!0)}function $2(){rI(function(){(Ke&6)!==0?Ht(Nl,K2):eE()})}function Ap(){if(dr===0){var i=So;i===0&&(i=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),dr=i}return dr}function sE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:lo(""+i)}function rE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function Y2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=sE((d[$t]||null).action),E=u.submitter;E&&(r=(r=E[$t]||null)?sE(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var S=new zi("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(dr!==0){var O=E?rE(d,E):new FormData(d);Gm(o,{pending:!0,data:O,method:d.method,action:g},null,O)}}else typeof g=="function"&&(S.preventDefault(),O=E?rE(d,E):new FormData(d),Gm(o,{pending:!0,data:O,method:d.method,action:g},g,O))},currentTarget:d}]})}}for(var xp=0;xp<lm.length;xp++){var Rp=lm[xp],Q2=Rp.toLowerCase(),X2=Rp[0].toUpperCase()+Rp.slice(1);gi(Q2,"on"+X2)}gi(P0,"onAnimationEnd"),gi(L0,"onAnimationIteration"),gi(j0,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(f2,"onTransitionRun"),gi(d2,"onTransitionStart"),gi(m2,"onTransitionCancel"),gi(U0,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function aE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],O=S.instance,$=S.currentTarget;if(S=S.listener,O!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(W){dh(W)}d.currentTarget=null,g=O}else for(E=0;E<u.length;E++){if(S=u[E],O=S.instance,$=S.currentTarget,S=S.listener,O!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=$;try{g(d)}catch(W){dh(W)}d.currentTarget=null,g=O}}}}function Me(i,r){var o=r[io];o===void 0&&(o=r[io]=new Set);var u=i+"__bubble";o.has(u)||(oE(r,i,2,!1),o.add(u))}function Cp(i,r,o){var u=0;r&&(u|=4),oE(o,i,u,r)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Ip(i){if(!i[Jh]){i[Jh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(W2.has(o)||Cp(o,!1,i),Cp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Jh]||(r[Jh]=!0,Cp("selectionchange",!1,r))}}function oE(i,r,o,u){switch(PE(r)){case 2:var d=AI;break;case 8:d=xI;break;default:d=qp}o=d.bind(null,r,o,i),d=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Np(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=Vi(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=g=E;continue e}S=S.parentNode}}u=u.return}Ys(function(){var $=g,W=qn(o),ee=[];e:{var Y=B0.get(i);if(Y!==void 0){var X=zi,me=i;switch(i){case"keypress":if(ua(o)===0)break e;case"keydown":case"keyup":X=ch;break;case"focusin":me="focus",X=ha;break;case"focusout":me="blur",X=ha;break;case"beforeblur":case"afterblur":X=ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case P0:case L0:case j0:X=ih;break;case U0:X=R;break;case"scroll":case"scrollend":X=Kl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ds;break;case"toggle":case"beforetoggle":X=xe}var ve=(r&4)!==0,nt=!ve&&(i==="scroll"||i==="scrollend"),F=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var j=$,K;j!==null;){var J=j;if(K=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||K===null||F===null||(J=fi(j,F),J!=null&&ve.push(wu(j,J,K))),nt)break;j=j.return}0<ve.length&&(Y=new X(Y,me,null,o,W),ee.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Hl&&(me=o.relatedTarget||o.fromElement)&&(Vi(me)||me[Mi]))break e;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=$,me=me?Vi(me):null,me!==null&&(nt=l(me),ve=me.tag,me!==nt||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(X=null,me=$),X!==me)){if(ve=$l,J="onMouseLeave",F="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(ve=ds,J="onPointerLeave",F="onPointerEnter",j="pointer"),nt=X==null?Y:Dn(X),K=me==null?Y:Dn(me),Y=new ve(J,j+"leave",X,o,W),Y.target=nt,Y.relatedTarget=K,J=null,Vi(W)===$&&(ve=new ve(F,j+"enter",me,o,W),ve.target=K,ve.relatedTarget=nt,J=ve),nt=J,X&&me)t:{for(ve=Z2,F=X,j=me,K=0,J=F;J;J=ve(J))K++;J=0;for(var ge=j;ge;ge=ve(ge))J++;for(;0<K-J;)F=ve(F),K--;for(;0<J-K;)j=ve(j),J--;for(;K--;){if(F===j||j!==null&&F===j.alternate){ve=F;break t}F=ve(F),j=ve(j)}ve=null}else ve=null;X!==null&&lE(ee,Y,X,ve,!1),me!==null&&nt!==null&&lE(ee,nt,me,ve,!0)}}e:{if(Y=$?Dn($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var He=A0;else if(w0(Y))if(x0)He=u2;else{He=o2;var pe=a2}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&oo($.elementType)&&(He=A0):He=l2;if(He&&(He=He(i,$))){S0(ee,He,o,W);break e}pe&&pe(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Bl(Y,"number",Y.value)}switch(pe=$?Dn($):window,i){case"focusin":(w0(pe)||pe.contentEditable==="true")&&(go=pe,rm=$,Zl=null);break;case"focusout":Zl=rm=go=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,V0(ee,o,W);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":V0(ee,o,W)}var Ne;if(Ge)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else po?fa(i,o)&&(Oe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(qi&&o.locale!=="ko"&&(po||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&po&&(Ne=Gl()):(Bi=W,ql="value"in Bi?Bi.value:Bi.textContent,po=!0)),pe=ef($,Oe),0<pe.length&&(Oe=new Hi(Oe,i,null,o,W),ee.push({event:Oe,listeners:pe}),Ne?Oe.data=Ne:(Ne=mo(o),Ne!==null&&(Oe.data=Ne)))),(Ne=Kn?n2(i,o):i2(i,o))&&(Oe=ef($,"onBeforeInput"),0<Oe.length&&(pe=new Hi("onBeforeInput","beforeinput",null,o,W),ee.push({event:pe,listeners:Oe}),pe.data=Ne)),Y2(ee,i,$,o,W)}aE(ee,r)})}function wu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function ef(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=fi(i,o),d!=null&&u.unshift(wu(i,d,g)),d=fi(i,r),d!=null&&u.push(wu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Z2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lE(i,r,o,u,d){for(var g=r._reactName,E=[];o!==null&&o!==u;){var S=o,O=S.alternate,$=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||$===null||(O=$,d?($=fi(o,g),$!=null&&E.unshift(wu(o,$,O))):d||($=fi(o,g),$!=null&&E.push(wu(o,$,O)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var J2=/\r\n?/g,eI=/\u0000|\uFFFD/g;function uE(i){return(typeof i=="string"?i:""+i).replace(J2,`
`).replace(eI,"")}function cE(i,r){return r=uE(r),uE(i)===r}function tt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||bn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&bn(i,""+u);break;case"className":Mn(i,"class",u);break;case"tabIndex":Mn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(i,o,u);break;case"style":Fl(i,u,g);break;case"data":if(r!=="object"){Mn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=lo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",d.name,d,null),tt(i,r,"formEncType",d.formEncType,d,null),tt(i,r,"formMethod",d.formMethod,d,null),tt(i,r,"formTarget",d.formTarget,d,null)):(tt(i,r,"encType",d.encType,d,null),tt(i,r,"method",d.method,d,null),tt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=lo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=hi);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=lo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Me("beforetoggle",i),Me("toggle",i),ro(i,"popover",u);break;case"xlinkActuate":kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":kt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":kt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":kt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":kt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ro(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=eh.get(o)||o,ro(i,o,u))}}function Dp(i,r,o,u,d,g){switch(o){case"style":Fl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?bn(i,u):(typeof u=="number"||typeof u=="bigint")&&bn(i,""+u);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"onClick":u!=null&&(i.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[$t]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ro(i,o,u)}}}function sn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,g,E,o,null)}}d&&tt(i,r,"srcSet",o.srcSet,o,null),u&&tt(i,r,"src",o.src,o,null);return;case"input":Me("invalid",i);var S=g=E=d=null,O=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":d=W;break;case"type":E=W;break;case"checked":O=W;break;case"defaultChecked":$=W;break;case"value":g=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:tt(i,r,u,W,o,null)}}Wc(i,g,S,O,$,E,d,!1);return;case"select":Me("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:tt(i,r,d,S,o,null)}r=g,o=E,i.multiple=!!u,r!=null?qs(i,!!u,r,!1):o!=null&&qs(i,!!u,o,!0);return;case"textarea":Me("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(i,r,E,S,o,null)}Gs(i,u,d,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,r,O,u,o,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(u=0;u<bu.length;u++)Me(bu[u],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,$,u,o,null)}return;default:if(oo(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Dp(i,r,W,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&tt(i,r,S,u,o,null))}function tI(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,S=null,O=null,$=null,W=null;for(X in o){var ee=o[X];if(o.hasOwnProperty(X)&&ee!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=ee;default:u.hasOwnProperty(X)||tt(i,r,X,null,u,ee)}}for(var Y in u){var X=u[Y];if(ee=o[Y],u.hasOwnProperty(Y)&&(X!=null||ee!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ee&&tt(i,r,Y,X,u,ee)}}ao(i,E,S,O,$,W,g,d);return;case"select":X=E=S=Y=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(g)||tt(i,r,g,null,u,O)}for(d in u)if(g=u[d],O=o[d],u.hasOwnProperty(d)&&(g!=null||O!=null))switch(d){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==O&&tt(i,r,d,g,u,O)}r=S,o=E,u=X,Y!=null?qs(i,!!o,Y,!1):!!u!=!!o&&(r!=null?qs(i,!!o,r,!0):qs(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(i,r,S,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&tt(i,r,E,d,u,g)}Zc(i,Y,X);return;case"option":for(var me in o)if(Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:tt(i,r,me,null,u,Y)}for(O in u)if(Y=u[O],X=o[O],u.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null))switch(O){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:tt(i,r,O,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&tt(i,r,ve,null,u,Y);for($ in u)if(Y=u[$],X=o[$],u.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:tt(i,r,$,Y,u,X)}return;default:if(oo(r)){for(var nt in o)Y=o[nt],o.hasOwnProperty(nt)&&Y!==void 0&&!u.hasOwnProperty(nt)&&Dp(i,r,nt,void 0,u,Y);for(W in u)Y=u[W],X=o[W],!u.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||Dp(i,r,W,Y,u,X);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&tt(i,r,F,null,u,Y);for(ee in u)Y=u[ee],X=o[ee],!u.hasOwnProperty(ee)||Y===X||Y==null&&X==null||tt(i,r,ee,Y,u,X)}function hE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,E=d.initiatorType,S=d.duration;if(g&&S&&hE(E)){for(E=0,S=d.responseEnd,u+=1;u<o.length;u++){var O=o[u],$=O.startTime;if($>S)break;var W=O.transferSize,ee=O.initiatorType;W&&hE(ee)&&(O=O.responseEnd,E+=W*(O<S?1:(S-$)/(O-$)))}if(--u,r+=8*(g+E)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mp=null,kp=null;function tf(i){return i.nodeType===9?i:i.ownerDocument}function fE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Vp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Op=null;function iI(){var i=window.event;return i&&i.type==="popstate"?i===Op?!1:(Op=i,!0):(Op=null,!1)}var mE=typeof setTimeout=="function"?setTimeout:void 0,sI=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(i){return pE.resolve(null).then(i).catch(aI)}:mE;function aI(i){setTimeout(function(){throw i})}function mr(i){return i==="head"}function gE(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Ho(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Su(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Su(o);for(var g=o.firstChild;g;){var E=g.nextSibling,S=g.nodeName;g[ki]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&Su(i.ownerDocument.body);o=d}while(o);Ho(r)}function yE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Pp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pp(o),so(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function oI(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ki])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function lI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function vE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Jn(i.nextSibling),i===null))return null;return i}function Lp(i){return i.data==="$?"||i.data==="$~"}function jp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function uI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Up=null;function _E(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Jn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function TE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function EE(i,r,o){switch(r=tf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Su(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);so(i)}var ei=new Map,bE=new Set;function nf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cs=oe.d;oe.d={f:cI,r:hI,D:fI,C:dI,L:mI,m:pI,X:yI,S:gI,M:vI};function cI(){var i=Cs.f(),r=$h();return i||r}function hI(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?U_(r):Cs.r(i)}var Bo=typeof document>"u"?null:document;function wE(i,r,o){var u=Bo;if(u&&typeof r=="string"&&r){var d=En(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),bE.has(d)||(bE.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),sn(r,"link",i),Mt(r),u.head.appendChild(r)))}}function fI(i){Cs.D(i),wE("dns-prefetch",i,null)}function dI(i,r){Cs.C(i,r),wE("preconnect",i,r)}function mI(i,r,o){Cs.L(i,r,o);var u=Bo;if(u&&i&&r){var d='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+En(o.imageSizes)+'"]')):d+='[href="'+En(i)+'"]';var g=d;switch(r){case"style":g=zo(i);break;case"script":g=Fo(i)}ei.has(g)||(i=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ei.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(Au(g))||r==="script"&&u.querySelector(xu(g))||(r=u.createElement("link"),sn(r,"link",i),Mt(r),u.head.appendChild(r)))}}function pI(i,r){Cs.m(i,r);var o=Bo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Fo(i)}if(!ei.has(g)&&(i=T({rel:"modulepreload",href:i},r),ei.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xu(g)))return}u=o.createElement("link"),sn(u,"link",i),Mt(u),o.head.appendChild(u)}}}function gI(i,r,o){Cs.S(i,r,o);var u=Bo;if(u&&i){var d=Oi(u).hoistableStyles,g=zo(i);r=r||"default";var E=d.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Au(g)))S.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ei.get(g))&&Bp(i,o);var O=E=u.createElement("link");Mt(O),sn(O,"link",i),O._p=new Promise(function($,W){O.onload=$,O.onerror=W}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,sf(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(g,E)}}}function yI(i,r){Cs.X(i,r);var o=Bo;if(o&&i){var u=Oi(o).hoistableScripts,d=Fo(i),g=u.get(d);g||(g=o.querySelector(xu(d)),g||(i=T({src:i,async:!0},r),(r=ei.get(d))&&zp(i,r),g=o.createElement("script"),Mt(g),sn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function vI(i,r){Cs.M(i,r);var o=Bo;if(o&&i){var u=Oi(o).hoistableScripts,d=Fo(i),g=u.get(d);g||(g=o.querySelector(xu(d)),g||(i=T({src:i,async:!0,type:"module"},r),(r=ei.get(d))&&zp(i,r),g=o.createElement("script"),Mt(g),sn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function SE(i,r,o,u){var d=(d=Ie.current)?nf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=zo(o.href),o=Oi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=zo(o.href);var g=Oi(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(Au(i)))&&!g._p&&(E.instance=g,E.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),g||_I(d,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fo(o),o=Oi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function zo(i){return'href="'+En(i)+'"'}function Au(i){return'link[rel="stylesheet"]['+i+"]"}function AE(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function _I(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",o),Mt(r),i.head.appendChild(r))}function Fo(i){return'[src="'+En(i)+'"]'}function xu(i){return"script[async]"+i}function xE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,Mt(u),u;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Mt(u),sn(u,"style",d),sf(u,o.precedence,i),r.instance=u;case"stylesheet":d=zo(o.href);var g=i.querySelector(Au(d));if(g)return r.state.loading|=4,r.instance=g,Mt(g),g;u=AE(o),(d=ei.get(d))&&Bp(u,d),g=(i.ownerDocument||i).createElement("link"),Mt(g);var E=g;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),sn(g,"link",u),r.state.loading|=4,sf(g,o.precedence,i),r.instance=g;case"script":return g=Fo(o.src),(d=i.querySelector(xu(g)))?(r.instance=d,Mt(d),d):(u=o,(d=ei.get(g))&&(u=T({},o),zp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Mt(d),sn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,sf(u,o.precedence,i));return r.instance}function sf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Bp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function zp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var rf=null;function RE(i,r,o){if(rf===null){var u=new Map,d=rf=new Map;d.set(o,u)}else d=rf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[ki]||g[Dt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function CE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function TI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function IE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function EI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=zo(u.href),g=r.querySelector(Au(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=af.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Mt(g);return}g=r.ownerDocument||r,u=AE(u),(d=ei.get(d))&&Bp(u,d),g=g.createElement("link"),Mt(g);var E=g;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),sn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=af.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Fp=0;function bI(i,r){return i.stylesheets&&i.count===0&&lf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Fp===0&&(Fp=62500*nI());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Fp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var of=null;function lf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,of=new Map,r.forEach(wI,i),of=null,af.call(i))}function wI(i,r){if(!(r.state.loading&4)){var o=of.get(i);if(o)var u=o.get(null);else{o=new Map,of.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=r.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=af.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Ru={$$typeof:q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function SI(i,r,o,u,d,g,E,S,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function NE(i,r,o,u,d,g,E,S,O,$,W,ee){return i=new SI(i,r,o,E,O,$,W,ee,S),r=1,g===!0&&(r|=24),g=Vn(3,null,null,r),i.current=g,g.stateNode=i,r=Em(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Am(g),i}function DE(i){return i?(i=_o,i):_o}function ME(i,r,o,u,d,g){d=DE(d),u.context===null?u.context=d:u.pendingContext=d,u=ir(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=sr(i,u,r),o!==null&&(Rn(o,i,r),ru(o,i,r))}function kE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Hp(i,r){kE(i,r),(i=i.alternate)&&kE(i,r)}function VE(i){if(i.tag===13||i.tag===31){var r=pa(i,67108864);r!==null&&Rn(r,i,67108864),Hp(i,67108864)}}function OE(i){if(i.tag===13||i.tag===31){var r=Un();r=ia(r);var o=pa(i,r);o!==null&&Rn(o,i,r),Hp(i,r)}}var uf=!0;function AI(i,r,o,u){var d=Z.T;Z.T=null;var g=oe.p;try{oe.p=2,qp(i,r,o,u)}finally{oe.p=g,Z.T=d}}function xI(i,r,o,u){var d=Z.T;Z.T=null;var g=oe.p;try{oe.p=8,qp(i,r,o,u)}finally{oe.p=g,Z.T=d}}function qp(i,r,o,u){if(uf){var d=Gp(u);if(d===null)Np(i,r,u,cf,o),LE(i,u);else if(CI(d,i,r,o,u))u.stopPropagation();else if(LE(i,u),r&4&&-1<RI.indexOf(i)){for(;d!==null;){var g=Hn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Ii(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-wt(E);S.entanglements[1]|=O,E&=~O}Yi(g),(Ke&6)===0&&(Gh=pn()+500,Eu(0))}}break;case 31:case 13:S=pa(g,2),S!==null&&Rn(S,g,2),$h(),Hp(g,2)}if(g=Gp(u),g===null&&Np(i,r,u,cf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Np(i,r,u,null,o)}}function Gp(i){return i=qn(i),Kp(i)}var cf=null;function Kp(i){if(cf=null,i=Vi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return cf=i,null}function PE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jr()){case Nl:return 2;case Dl:return 8;case Fs:case Zd:return 32;case zc:return 268435456;default:return 32}default:return 32}}var $p=!1,pr=null,gr=null,yr=null,Cu=new Map,Iu=new Map,vr=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LE(i,r){switch(i){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Cu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(r.pointerId)}}function Nu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Hn(r),r!==null&&VE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function CI(i,r,o,u,d){switch(r){case"focusin":return pr=Nu(pr,i,r,o,u,d),!0;case"dragenter":return gr=Nu(gr,i,r,o,u,d),!0;case"mouseover":return yr=Nu(yr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Cu.set(g,Nu(Cu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Iu.set(g,Nu(Iu.get(g)||null,i,r,o,u,d)),!0}return!1}function jE(i){var r=Vi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ui(i.priority,function(){OE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ui(i.priority,function(){OE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Gp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Hl=u,o.target.dispatchEvent(u),Hl=null}else return r=Hn(o),r!==null&&VE(r),i.blockedOn=o,!1;r.shift()}return!0}function UE(i,r,o){hf(i)&&o.delete(r)}function II(){$p=!1,pr!==null&&hf(pr)&&(pr=null),gr!==null&&hf(gr)&&(gr=null),yr!==null&&hf(yr)&&(yr=null),Cu.forEach(UE),Iu.forEach(UE)}function ff(i,r){i.blockedOn===r&&(i.blockedOn=null,$p||($p=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,II)))}var df=null;function BE(i){df!==i&&(df=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){df===i&&(df=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Kp(u||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(r,3),r-=3,Gm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Ho(i){function r(O){return ff(O,i)}pr!==null&&ff(pr,i),gr!==null&&ff(gr,i),yr!==null&&ff(yr,i),Cu.forEach(r),Iu.forEach(r);for(var o=0;o<vr.length;o++){var u=vr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<vr.length&&(o=vr[0],o.blockedOn===null);)jE(o),o.blockedOn===null&&vr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[$t]||null;if(typeof g=="function")E||BE(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[$t]||null)S=E.formAction;else if(Kp(d)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),BE(o)}}}function zE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Yp(i){this._internalRoot=i}mf.prototype.render=Yp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Un();ME(o,u,i,r,null,null)},mf.prototype.unmount=Yp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ME(i.current,2,null,i,null,null),$h(),r[Mi]=null}};function mf(i){this._internalRoot=i}mf.prototype.unstable_scheduleHydration=function(i){if(i){var r=$c();i={blockedOn:null,target:i,priority:r};for(var o=0;o<vr.length&&r!==0&&r<vr[o].priority;o++);vr.splice(o,0,i),o===0&&jE(i)}};var FE=e.version;if(FE!=="19.2.0")throw Error(s(527,FE,"19.2.0"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var NI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{oi=pf.inject(NI),Zt=pf}catch{}}return Mu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=Q_,g=X_,E=W_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=NE(i,1,!1,null,null,o,u,null,d,g,E,zE),i[Mi]=r.current,Ip(i),new Yp(r)},Mu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=Q_,E=X_,S=W_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=NE(i,1,!0,r,o??null,u,d,O,g,E,S,zE),r.context=DE(null),o=r.current,u=Un(),u=ia(u),d=ir(u),d.callback=null,sr(o,d,u),o=u,r.current.lanes=o,ta(r,o),Yi(r),i[Mi]=r.current,Ip(i),new mf(r)},Mu.version="19.2.0",Mu}var ZE;function BI(){if(ZE)return Wp.exports;ZE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wp.exports=UI(),Wp.exports}var zI=BI();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE="popstate";function FI(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Mg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:tc(a)}return qI(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HI(){return Math.random().toString(36).substring(2,10)}function eb(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:n,key:e&&e.key||s||HI()}}function tc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function qI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){f="POP";let V=y(),B=V==null?null:V-p;p=V,m&&m({action:f,location:L.location,delta:B})}function w(V,B){f="PUSH";let H=Mg(L.location,V,B);p=y()+1;let q=eb(H,p),ae=L.createHref(H);try{c.pushState(q,"",ae)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(ae)}l&&m&&m({action:f,location:L.location,delta:1})}function x(V,B){f="REPLACE";let H=Mg(L.location,V,B);p=y();let q=eb(H,p),ae=L.createHref(H);c.replaceState(q,"",ae),l&&m&&m({action:f,location:L.location,delta:0})}function D(V){return GI(V)}let L={get action(){return f},get location(){return t(a,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(JE,T),m=V,()=>{a.removeEventListener(JE,T),m=null}},createHref(V){return e(a,V)},createURL:D,encodeLocation(V){let B=D(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:x,go(V){return c.go(V)}};return L}function GI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:tc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function sS(t,e,n="/"){return KI(t,e,n,!1)}function KI(t,e,n,s){let a=typeof e=="string"?pl(e):e,l=ks(a.pathname||"/",n);if(l==null)return null;let c=rS(t);$I(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=sN(l);f=nN(c[m],p,s)}return f}function rS(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;mt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let T=Ms([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),rS(c.children,e,w,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:eN(T,c.index),routesMeta:w})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of aS(c.path))l(c,f,!0,m)}),e}function aS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=aS(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function $I(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var YI=/^:[\w-]+$/,QI=3,XI=2,WI=1,ZI=10,JI=-2,tb=t=>t==="*";function eN(t,e){let n=t.split("/"),s=n.length;return n.some(tb)&&(s+=JI),e&&(s+=XI),n.filter(a=>!tb(a)).reduce((a,l)=>a+(YI.test(l)?QI:l===""?WI:ZI),s)}function tN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function nN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Ms([l,T.pathname]),pathnameBase:lN(Ms([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Ms([l,T.pathnameBase]))}return c}function Kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=iN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:T},w)=>{if(y==="*"){let D=f[w]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const x=f[w];return T&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function iN(t,e=!1,n=!0){Si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function sN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function rN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?pl(t):t;return{pathname:n?n.startsWith("/")?n:aN(n,e):e,search:uN(s),hash:cN(a)}}function aN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function tg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ny(t){let e=oN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Dy(t,e,n,s=!1){let a;typeof t=="string"?a=pl(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),tg("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),tg("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),tg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}f=T>=0?e[T]:"/"}let m=rN(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),lN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oS=["POST","PUT","PATCH","DELETE"];new Set(oS);var fN=["GET",...oS];new Set(fN);var gl=I.createContext(null);gl.displayName="DataRouter";var Ed=I.createContext(null);Ed.displayName="DataRouterState";I.createContext(!1);var lS=I.createContext({isTransitioning:!1});lS.displayName="ViewTransition";var dN=I.createContext(new Map);dN.displayName="Fetchers";var mN=I.createContext(null);mN.displayName="Await";var xi=I.createContext(null);xi.displayName="Navigation";var Tc=I.createContext(null);Tc.displayName="Location";var os=I.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var My=I.createContext(null);My.displayName="RouteError";function pN(t,{relative:e}={}){mt(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(xi),{hash:a,pathname:l,search:c}=Ec(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ms([n,l])),s.createHref({pathname:f,search:c,hash:a})}function yl(){return I.useContext(Tc)!=null}function Hr(){return mt(yl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Tc).location}var uS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cS(t){I.useContext(xi).static||I.useLayoutEffect(t)}function qr(){let{isDataRoute:t}=I.useContext(os);return t?CN():gN()}function gN(){mt(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(gl),{basename:e,navigator:n}=I.useContext(xi),{matches:s}=I.useContext(os),{pathname:a}=Hr(),l=JSON.stringify(Ny(s)),c=I.useRef(!1);return cS(()=>{c.current=!0}),I.useCallback((m,p={})=>{if(Si(c.current,uS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Dy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ms([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}I.createContext(null);function Ec(t,{relative:e}={}){let{matches:n}=I.useContext(os),{pathname:s}=Hr(),a=JSON.stringify(Ny(n));return I.useMemo(()=>Dy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function yN(t,e){return hS(t,e)}function hS(t,e,n,s,a){mt(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(xi),{matches:c}=I.useContext(os),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",T=f&&f.route;{let H=T&&T.path||"";fS(p,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=Hr(),x;if(e){let H=typeof e=="string"?pl(e):e;mt(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),x=H}else x=w;let D=x.pathname||"/",L=D;if(y!=="/"){let H=y.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(H.length).join("/")}let V=sS(t,{pathname:L});Si(T||V!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Si(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=bN(V&&V.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Ms([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Ms([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&B?I.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},B):B}function vN(){let t=RN(),e=hN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,c)}var _N=I.createElement(vN,null),TN=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(os.Provider,{value:this.props.routeContext},I.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EN({routeContext:t,match:e,children:n}){let s=I.useContext(gl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(os.Provider,{value:t},n)}function bN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:w}=n,x=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||x){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,T)=>{let w,x=!1,D=null,L=null;n&&(w=c&&y.route.id?c[y.route.id]:void 0,D=y.route.errorElement||_N,f&&(m<0&&T===0?(fS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,L=null):m===T&&(x=!0,L=y.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,T+1)),B=()=>{let H;return w?H=D:x?H=L:y.route.Component?H=I.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,I.createElement(EN,{match:y,routeContext:{outlet:p,matches:V,isDataRoute:n!=null},children:H})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?I.createElement(TN,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):B()},null)}function ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wN(t){let e=I.useContext(gl);return mt(e,ky(t)),e}function SN(t){let e=I.useContext(Ed);return mt(e,ky(t)),e}function AN(t){let e=I.useContext(os);return mt(e,ky(t)),e}function Vy(t){let e=AN(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xN(){return Vy("useRouteId")}function RN(){let t=I.useContext(My),e=SN("useRouteError"),n=Vy("useRouteError");return t!==void 0?t:e.errors?.[n]}function CN(){let{router:t}=wN("useNavigate"),e=Vy("useNavigate"),n=I.useRef(!1);return cS(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Si(n.current,uS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var nb={};function fS(t,e,n){!e&&!nb[t]&&(nb[t]=!0,Si(!1,n))}I.memo(IN);function IN({routes:t,future:e,state:n,unstable_onError:s}){return hS(t,void 0,n,s,e)}function NN({to:t,replace:e,state:n,relative:s}){mt(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(xi);Si(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(os),{pathname:c}=Hr(),f=qr(),m=Dy(t,Ny(l),c,s==="path"),p=JSON.stringify(m);return I.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Ia(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){mt(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=pl(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:w="default"}=n,x=I.useMemo(()=>{let D=ks(m,c);return D==null?null:{location:{pathname:D,search:p,hash:y,state:T,key:w},navigationType:s}},[c,m,p,y,T,w,s]);return Si(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:I.createElement(xi.Provider,{value:f},I.createElement(Tc.Provider,{children:e,value:x}))}function MN({children:t,location:e}){return yN(kg(t),e)}function kg(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,kg(s.props.children,l));return}mt(s.type===Ia,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=kg(s.props.children,l)),n.push(c)}),n}var Nf="get",Df="application/x-www-form-urlencoded";function bd(t){return t!=null&&typeof t.tagName=="string"}function kN(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function VN(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function ON(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function PN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LN(t,e){return t.button===0&&(!e||e==="_self")&&!PN(t)}var gf=null;function jN(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var UN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ng(t){return t!=null&&!UN.has(t)?(Si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):t}function BN(t,e){let n,s,a,l,c;if(VN(t)){let f=t.getAttribute("action");s=f?ks(f,e):null,n=t.getAttribute("method")||Nf,a=ng(t.getAttribute("enctype"))||Df,l=new FormData(t)}else if(kN(t)||ON(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?ks(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Nf,a=ng(t.getAttribute("formenctype"))||ng(f.getAttribute("enctype"))||Df,l=new FormData(f,t),!jN()){let{name:p,type:y,value:T}=t;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,T)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,s=null,a=Df,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zN(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function FN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await FN(l,n);return c.links?c.links():[]}return[]}));return YN(s.flat(1).filter(HN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ib(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function GN(t,e,{includeHydrateFallback:n}={}){return KN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function KN(t){return[...new Set(t)]}function $N(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function YN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify($N(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function dS(){let t=I.useContext(gl);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QN(){let t=I.useContext(Ed);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=I.createContext(void 0);Py.displayName="FrameworkContext";function mS(){let t=I.useContext(Py);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function XN(t,e){let n=I.useContext(Py),[s,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=e,w=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let L=B=>{B.forEach(H=>{c(H.isIntersecting)})},V=new IntersectionObserver(L,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),I.useEffect(()=>{if(s){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[s]);let x=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:ku(f,x),onBlur:ku(m,D),onMouseEnter:ku(p,x),onMouseLeave:ku(y,D),onTouchStart:ku(T,x)}]:[!1,w,{}]}function ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WN({page:t,...e}){let{router:n}=dS(),s=I.useMemo(()=>sS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(JN,{page:t,matches:s,...e}):null}function ZN(t){let{manifest:e,routeModules:n}=mS(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return qN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function JN({page:t,matches:e,...n}){let s=Hr(),{manifest:a,routeModules:l}=mS(),{basename:c}=dS(),{loaderData:f,matches:m}=QN(),p=I.useMemo(()=>ib(t,e,m,a,s,"data"),[t,e,m,a,s]),y=I.useMemo(()=>ib(t,e,m,a,s,"assets"),[t,e,m,a,s]),T=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,L=!1;if(e.forEach(B=>{let H=a.routes[B.route.id];!H||!H.hasLoader||(!p.some(q=>q.route.id===B.route.id)&&B.route.id in f&&l[B.route.id]?.shouldRevalidate||H.hasClientLoader?L=!0:D.add(B.route.id))}),D.size===0)return[];let V=zN(t,c,"data");return L&&D.size>0&&V.searchParams.set("_routes",e.filter(B=>D.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[c,f,s,a,p,e,t,l]),w=I.useMemo(()=>GN(y,a),[y,a]),x=ZN(y);return I.createElement(I.Fragment,null,T.map(D=>I.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),w.map(D=>I.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:L})=>I.createElement("link",{key:D,nonce:n.nonce,...L})))}function eD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pS&&(window.__reactRouterVersion="7.9.5")}catch{}function tD({basename:t,children:e,window:n}){let s=I.useRef();s.current==null&&(s.current=FI({window:n,v5Compat:!0}));let a=s.current,[l,c]=I.useState({action:a.action,location:a.location}),f=I.useCallback(m=>{I.startTransition(()=>c(m))},[c]);return I.useLayoutEffect(()=>a.listen(f),[a,f]),I.createElement(DN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var gS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yS=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:T,...w},x){let{basename:D}=I.useContext(xi),L=typeof p=="string"&&gS.test(p),V,B=!1;if(typeof p=="string"&&L&&(V=p,pS))try{let N=new URL(window.location.href),P=p.startsWith("//")?new URL(N.protocol+p):new URL(p),k=ks(P.pathname,D);P.origin===N.origin&&k!=null?p=k+P.search+P.hash:B=!0}catch{Si(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=pN(p,{relative:a}),[q,ae,re]=XN(s,w),se=sD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:T});function C(N){e&&e(N),N.defaultPrevented||se(N)}let A=I.createElement("a",{...w,...re,href:V||H,onClick:B||l?e:C,ref:eD(x,ae),target:m,"data-discover":!L&&n==="render"?"true":void 0});return q&&!L?I.createElement(I.Fragment,null,A,I.createElement(WN,{page:H})):A});yS.displayName="Link";var vS=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let T=Ec(c,{relative:p.relative}),w=Hr(),x=I.useContext(Ed),{navigator:D,basename:L}=I.useContext(xi),V=x!=null&&uD(T)&&f===!0,B=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,H=w.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(H=H.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&L&&(q=ks(q,L)||q);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=H===B||!a&&H.startsWith(B)&&H.charAt(ae)==="/",se=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),C={isActive:re,isPending:se,isTransitioning:V},A=re?e:void 0,N;typeof s=="function"?N=s(C):N=[s,re?"active":null,se?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return I.createElement(yS,{...p,"aria-current":A,className:N,ref:y,style:P,to:c,viewTransition:f},typeof m=="function"?m(C):m)});vS.displayName="NavLink";var nD=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Nf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...w},x)=>{let D=oD(),L=lD(f,{relative:p}),V=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&gS.test(f),H=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let ae=q.nativeEvent.submitter,re=ae?.getAttribute("formmethod")||c;D(ae||q.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return I.createElement("form",{ref:x,method:V,action:L,onSubmit:s?m:H,...w,"data-discover":!B&&t==="render"?"true":void 0})});nD.displayName="Form";function iD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _S(t){let e=I.useContext(gl);return mt(e,iD(t)),e}function sD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=qr(),m=Hr(),p=Ec(t,{relative:l});return I.useCallback(y=>{if(LN(y,e)){y.preventDefault();let T=n!==void 0?n:tc(m)===tc(p);f(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,s,e,t,a,l,c])}var rD=0,aD=()=>`__${String(++rD)}__`;function oD(){let{router:t}=_S("useSubmit"),{basename:e}=I.useContext(xi),n=xN();return I.useCallback(async(s,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=BN(s,e);if(a.navigate===!1){let y=a.fetcherKey||aD();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function lD(t,{relative:e}={}){let{basename:n}=I.useContext(xi),s=I.useContext(os);mt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ec(t||".",{relative:e})},c=Hr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ms([n,l.pathname])),tc(l)}function uD(t,{relative:e}={}){let n=I.useContext(lS);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_S("useViewTransitionState"),a=Ec(t,{relative:e});if(!n.isTransitioning)return!1;let l=ks(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ks(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kf(a.pathname,c)!=null||Kf(a.pathname,l)!=null}var cD=iS();const Ly=I.createContext({});function jy(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uy=typeof window<"u",TS=Uy?I.useLayoutEffect:I.useEffect,wd=I.createContext(null);function By(t,e){t.indexOf(e)===-1&&t.push(e)}function zy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vs=(t,e,n)=>n>e?e:n<t?t:n;let Fy=()=>{};const Os={},ES=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bS(t){return typeof t=="object"&&t!==null}const wS=t=>/^0[^.\s]+$/u.test(t);function Hy(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,hD=(t,e)=>n=>e(t(n)),bc=(...t)=>t.reduce(hD),nc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class qy{constructor(){this.subscriptions=[]}add(e){return By(this.subscriptions,e),()=>zy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wi=t=>t*1e3,si=t=>t/1e3;function SS(t,e){return e?t*(1e3/e):0}const AS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fD=1e-7,dD=12;function mD(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=AS(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>fD&&++f<dD);return c}function wc(t,e,n,s){if(t===e&&n===s)return ri;const a=l=>mD(l,0,1,t,n);return l=>l===0||l===1?l:AS(a(l),e,s)}const xS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RS=t=>e=>1-t(1-e),CS=wc(.33,1.53,.69,.99),Gy=RS(CS),IS=xS(Gy),NS=t=>(t*=2)<1?.5*Gy(t):.5*(2-Math.pow(2,-10*(t-1))),Ky=t=>1-Math.sin(Math.acos(t)),DS=RS(Ky),MS=xS(Ky),pD=wc(.42,0,1,1),gD=wc(0,0,.58,1),kS=wc(.42,0,.58,1),yD=t=>Array.isArray(t)&&typeof t[0]!="number",VS=t=>Array.isArray(t)&&typeof t[0]=="number",vD={linear:ri,easeIn:pD,easeInOut:kS,easeOut:gD,circIn:Ky,circInOut:MS,circOut:DS,backIn:Gy,backInOut:IS,backOut:CS,anticipate:NS},_D=t=>typeof t=="string",sb=t=>{if(VS(t)){Fy(t.length===4);const[e,n,s,a]=t;return wc(e,n,s,a)}else if(_D(t))return vD[t];return t},yf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TD(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,T=!1,w=!1)=>{const D=w&&a?n:s;return T&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const ED=40;function OS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=yf.reduce((q,ae)=>(q[ae]=TD(l),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:w,render:x,postRender:D}=c,L=()=>{const q=Os.useManualTiming?a.timestamp:performance.now();n=!1,Os.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,ED),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),T.process(a),w.process(a),x.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(L))},V=()=>{n=!0,s=!0,a.isProcessing||t(L)};return{schedule:yf.reduce((q,ae)=>{const re=c[ae];return q[ae]=(se,C=!1,A=!1)=>(n||V(),re.schedule(se,C,A)),q},{}),cancel:q=>{for(let ae=0;ae<yf.length;ae++)c[yf[ae]].cancel(q)},state:a,steps:c}}const{schedule:dt,cancel:Vr,state:rn,steps:ig}=OS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let Mf;function bD(){Mf=void 0}const Nn={now:()=>(Mf===void 0&&Nn.set(rn.isProcessing||Os.useManualTiming?rn.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(bD)}},PS=t=>e=>typeof e=="string"&&e.startsWith(t),$y=PS("--"),wD=PS("var(--"),Yy=t=>wD(t)?SD.test(t.split("/*")[0].trim()):!1,SD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ic={...vl,transform:t=>Vs(0,1,t)},vf={...vl,default:1},Fu=t=>Math.round(t*1e5)/1e5,Qy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AD(t){return t==null}const xD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xy=(t,e)=>n=>!!(typeof n=="string"&&xD.test(n)&&n.startsWith(t)||e&&!AD(n)&&Object.prototype.hasOwnProperty.call(n,e)),LS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Qy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},RD=t=>Vs(0,255,t),sg={...vl,transform:t=>Math.round(RD(t))},Ma={test:Xy("rgb","red"),parse:LS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+sg.transform(t)+", "+sg.transform(e)+", "+sg.transform(n)+", "+Fu(ic.transform(s))+")"};function CD(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Vg={test:Xy("#"),parse:CD,transform:Ma.transform},Sc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=Sc("deg"),Zi=Sc("%"),Ee=Sc("px"),ID=Sc("vh"),ND=Sc("vw"),rb={...Zi,parse:t=>Zi.parse(t)/100,transform:t=>Zi.transform(t*100)},Yo={test:Xy("hsl","hue"),parse:LS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Zi.transform(Fu(e))+", "+Zi.transform(Fu(n))+", "+Fu(ic.transform(s))+")"},Ut={test:t=>Ma.test(t)||Vg.test(t)||Yo.test(t),parse:t=>Ma.test(t)?Ma.parse(t):Yo.test(t)?Yo.parse(t):Vg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ma.transform(t):Yo.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},DD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MD(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qy)?.length||0)+(t.match(DD)?.length||0)>0}const jS="number",US="color",kD="var",VD="var(",ab="${}",OD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(OD,m=>(Ut.test(m)?(s.color.push(l),a.push(US),n.push(Ut.parse(m))):m.startsWith(VD)?(s.var.push(l),a.push(kD),n.push(m)):(s.number.push(l),a.push(jS),n.push(parseFloat(m))),++l,ab)).split(ab);return{values:n,split:f,indexes:s,types:a}}function BS(t){return sc(t).values}function zS(t){const{split:e,types:n}=sc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===jS?l+=Fu(a[c]):f===US?l+=Ut.transform(a[c]):l+=a[c]}return l}}const PD=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function LD(t){const e=BS(t);return zS(t)(e.map(PD))}const Or={test:MD,parse:BS,createTransformer:zS,getAnimatableNone:LD};function rg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jD({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=rg(m,f,t+1/3),l=rg(m,f,t),c=rg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function $f(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,ag=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},UD=[Vg,Ma,Yo],BD=t=>UD.find(e=>e.test(t));function ob(t){const e=BD(t);if(!e)return!1;let n=e.parse(t);return e===Yo&&(n=jD(n)),n}const lb=(t,e)=>{const n=ob(t),s=ob(e);if(!n||!s)return $f(t,e);const a={...n};return l=>(a.red=ag(n.red,s.red,l),a.green=ag(n.green,s.green,l),a.blue=ag(n.blue,s.blue,l),a.alpha=pt(n.alpha,s.alpha,l),Ma.transform(a))},Og=new Set(["none","hidden"]);function zD(t,e){return Og.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FD(t,e){return n=>pt(t,e,n)}function Wy(t){return typeof t=="number"?FD:typeof t=="string"?Yy(t)?$f:Ut.test(t)?lb:GD:Array.isArray(t)?FS:typeof t=="object"?Ut.test(t)?lb:HD:$f}function FS(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Wy(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function HD(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Wy(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function qD(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const GD=(t,e)=>{const n=Or.createTransformer(e),s=sc(t),a=sc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Og.has(t)&&!a.values.length||Og.has(e)&&!s.values.length?zD(t,e):bc(FS(qD(s,a),a.values),n):$f(t,e)};function HS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):Wy(t)(t,e)}const KD=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Vr(e),now:()=>rn.isProcessing?rn.timestamp:Nn.now()}},qS=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Yf=2e4;function Zy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Yf;)e+=n,s=t.next(e);return e>=Yf?1/0:e}function $D(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Zy(s),Yf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:si(a)}}const YD=5;function GS(t,e,n){const s=Math.max(e-YD,0);return SS(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},og=.001;function QD({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,c=1-e;c=Vs(_t.minDamping,_t.maxDamping,c),t=Vs(_t.minDuration,_t.maxDuration,si(t)),c<1?(a=p=>{const y=p*c,T=y*t,w=y-n,x=Pg(p,c),D=Math.exp(-T);return og-w/x*D},l=p=>{const T=p*c*t,w=T*n+n,x=Math.pow(c,2)*Math.pow(p,2)*t,D=Math.exp(-T),L=Pg(Math.pow(p,2),c);return(-a(p)+og>0?-1:1)*((w-x)*D)/L}):(a=p=>{const y=Math.exp(-p*t),T=(p-n)*t+1;return-og+y*T},l=p=>{const y=Math.exp(-p*t),T=(n-p)*(t*t);return y*T});const f=5/t,m=WD(a,l,f);if(t=Wi(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const XD=12;function WD(t,e,n){let s=n;for(let a=1;a<XD;a++)s=s-t(s)/e(s);return s}function Pg(t,e){return t*Math.sqrt(1-e*e)}const ZD=["duration","bounce"],JD=["stiffness","damping","mass"];function ub(t,e){return e.some(n=>t[n]!==void 0)}function eM(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!ub(t,JD)&&ub(t,ZD))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=QD(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Qf(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:w,isResolvedFromDuration:x}=eM({...n,velocity:-si(n.velocity||0)}),D=w||0,L=p/(2*Math.sqrt(m*y)),V=c-l,B=si(Math.sqrt(m/y)),H=Math.abs(V)<5;s||(s=H?_t.restSpeed.granular:_t.restSpeed.default),a||(a=H?_t.restDelta.granular:_t.restDelta.default);let q;if(L<1){const re=Pg(B,L);q=se=>{const C=Math.exp(-L*B*se);return c-C*((D+L*B*V)/re*Math.sin(re*se)+V*Math.cos(re*se))}}else if(L===1)q=re=>c-Math.exp(-B*re)*(V+(D+B*V)*re);else{const re=B*Math.sqrt(L*L-1);q=se=>{const C=Math.exp(-L*B*se),A=Math.min(re*se,300);return c-C*((D+L*B*V)*Math.sinh(A)+re*V*Math.cosh(A))/re}}const ae={calculatedDuration:x&&T||null,next:re=>{const se=q(re);if(x)f.done=re>=T;else{let C=re===0?D:0;L<1&&(C=re===0?Wi(D):GS(q,re,se));const A=Math.abs(C)<=s,N=Math.abs(c-se)<=a;f.done=A&&N}return f.value=f.done?c:se,f},toString:()=>{const re=Math.min(Zy(ae),Yf),se=qS(C=>ae.next(re*C).value,re,30);return re+"ms "+se},toTransition:()=>{}};return ae}Qf.applyToOptions=t=>{const e=$D(t,100,Qf);return t.ease=e.ease,t.duration=Wi(e.duration),t.type="keyframes",t};function Lg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const T=t[0],w={done:!1,value:T},x=A=>f!==void 0&&A<f||m!==void 0&&A>m,D=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let L=n*e;const V=T+L,B=c===void 0?V:c(V);B!==V&&(L=B-T);const H=A=>-L*Math.exp(-A/s),q=A=>B+H(A),ae=A=>{const N=H(A),P=q(A);w.done=Math.abs(N)<=p,w.value=w.done?B:P};let re,se;const C=A=>{x(w.value)&&(re=A,se=Qf({keyframes:[w.value,D(w.value)],velocity:GS(q,A,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let N=!1;return!se&&re===void 0&&(N=!0,ae(A),C(A)),re!==void 0&&A>=re?se.next(A-re):(!N&&ae(A),w)}}}function tM(t,e,n){const s=[],a=n||Os.mix||HS,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ri:e;f=bc(m,f)}s.push(f)}return s}function nM(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Fy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=tM(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const w=nc(t[T],t[T+1],y);return f[T](w)};return n?y=>p(Vs(t[0],t[l-1],y)):p}function iM(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=nc(0,e,s);t.push(pt(n,1,a))}}function sM(t){const e=[0];return iM(e,t.length-1),e}function rM(t,e){return t.map(n=>n*e)}function aM(t,e){return t.map(()=>e||kS).splice(0,t.length-1)}function Hu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=yD(s)?s.map(sb):sb(s),l={done:!1,value:e[0]},c=rM(n&&n.length===e.length?n:sM(e),t),f=nM(c,e,{ease:Array.isArray(a)?a:aM(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const oM=t=>t!==null;function Jy(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(oM),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const lM={decay:Lg,inertia:Lg,tween:Hu,keyframes:Hu,spring:Qf};function KS(t){typeof t.type=="string"&&(t.type=lM[t.type])}class ev{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const uM=t=>t/100;class tv extends ev{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KS(e);const{type:n=Hu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Hu;m!==Hu&&typeof f[0]!="number"&&(this.mixKeyframes=bc(uM,HS(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Zy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:w,repeatDelay:x,type:D,onUpdate:L,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,ae=s;if(T){const A=Math.min(this.currentTime,a)/f;let N=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&N--,N=Math.min(N,T+1),!!(N%2)&&(w==="reverse"?(P=1-P,x&&(P-=x/f)):w==="mirror"&&(ae=c)),q=Vs(0,1,P)*f}const re=H?{done:!1,value:y[0]}:ae.next(q);l&&(re.value=l(re.value));let{done:se}=re;!H&&m!==null&&(se=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return C&&D!==Lg&&(re.value=Jy(y,this.options,V,this.speed)),L&&L(re.value),C&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return si(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(this.currentTime)}set time(e){e=Wi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KD,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function cM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ka=t=>t*180/Math.PI,jg=t=>{const e=ka(Math.atan2(t[1],t[0]));return Ug(e)},hM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jg,rotateZ:jg,skewX:t=>ka(Math.atan(t[1])),skewY:t=>ka(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ug=t=>(t=t%360,t<0&&(t+=360),t),cb=jg,hb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hb,scaleY:fb,scale:t=>(hb(t)+fb(t))/2,rotateX:t=>Ug(ka(Math.atan2(t[6],t[5]))),rotateY:t=>Ug(ka(Math.atan2(-t[2],t[0]))),rotateZ:cb,rotate:cb,skewX:t=>ka(Math.atan(t[4])),skewY:t=>ka(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Bg(t){return t.includes("scale")?1:0}function zg(t,e){if(!t||t==="none")return Bg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=fM,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=hM,a=f}if(!a)return Bg(e);const l=s[e],c=a[1].split(",").map(mM);return typeof l=="function"?l(c):c[l]}const dM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zg(n,e)};function mM(t){return parseFloat(t.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(_l),db=t=>t===vl||t===Ee,pM=new Set(["x","y","z"]),gM=_l.filter(t=>!pM.has(t));function yM(t){const e=[];return gM.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zg(e,"x"),y:(t,{transform:e})=>zg(e,"y")};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const La=new Set;let Fg=!1,Hg=!1,qg=!1;function $S(){if(Hg){const t=Array.from(La).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=yM(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Hg=!1,Fg=!1,La.forEach(t=>t.complete(qg)),La.clear()}function YS(){La.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hg=!0)})}function vM(){qg=!0,YS(),$S(),qg=!1}class nv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(La.add(this),Fg||(Fg=!0,dt.read(YS),dt.resolveKeyframes($S))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}cM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),La.delete(this)}cancel(){this.state==="scheduled"&&(La.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _M=t=>t.startsWith("--");function TM(t,e,n){_M(e)?t.style.setProperty(e,n):t.style[e]=n}const EM=Hy(()=>window.ScrollTimeline!==void 0),bM={};function wM(t,e){const n=Hy(t);return()=>bM[e]??n()}const QS=wM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,mb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function XS(t,e){if(t)return typeof t=="function"?QS()?qS(t,e):"ease-out":VS(t)?Pu(t):Array.isArray(t)?t.map(n=>XS(n,e)||mb.easeOut):mb[t]}function SM(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const T=XS(f,a);Array.isArray(T)&&(y.easing=T);const w={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(y,w)}function WS(t){return typeof t=="function"&&"applyToOptions"in t}function AM({type:t,...e}){return WS(t)&&QS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class xM extends ev{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Fy(typeof e.type!="string");const p=AM(e);this.animation=SM(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Jy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):TM(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EM()?(this.animation.timeline=e,ri):n(this)}}const ZS={anticipate:NS,backInOut:IS,circInOut:MS};function RM(t){return t in ZS}function CM(t){typeof t.ease=="string"&&RM(t.ease)&&(t.ease=ZS[t.ease])}const pb=10;class IM extends xM{constructor(e){CM(e),KS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new tv({...c,autoplay:!1}),m=Wi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-pb).value,f.sample(m).value,pb),f.stop()}}const gb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Or.test(t)||t==="0")&&!t.startsWith("url("));function NM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DM(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=gb(a,e),f=gb(l,e);return!c||!f?!1:NM(t)||(n==="spring"||WS(n))&&s}function Gg(t){t.duration=0,t.type="keyframes"}const MM=new Set(["opacity","clipPath","filter","transform"]),kM=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function VM(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return kM()&&n&&MM.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const OM=40;class PM extends ev{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},x=y?.KeyframeResolver||nv;this.keyframeResolver=new x(f,(D,L,V)=>this.onKeyframesResolved(D,L,w,!V),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Nn.now(),DM(e,l,c,f)||((Os.instantAnimations||!m)&&y?.(Jy(e,s,n)),e[0]=e[e.length-1],Gg(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>OM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!p&&VM(w)?new IM({...w,element:w.motionValue.owner.current}):new tv(w);x.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),vM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const LM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jM(t){const e=LM.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function JS(t,e,n=1){const[s,a]=jM(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return ES(c)?parseFloat(c):c}return Yy(a)?JS(a,e,n+1):a}function iv(t,e){return t?.[e]??t?.default??t}const eA=new Set(["width","height","top","left","right","bottom",..._l]),UM={test:t=>t==="auto",parse:t=>t},tA=t=>e=>e.test(t),nA=[vl,Ee,Zi,Er,ND,ID,UM],yb=t=>nA.find(tA(t));function BM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wS(t):!0}const zM=new Set(["brightness","contrast","saturate","opacity"]);function FM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Qy)||[];if(!s)return t;const a=n.replace(s,"");let l=zM.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const HM=/\b([a-z-]*)\(.*?\)/gu,Kg={...Or,getAnimatableNone:t=>{const e=t.match(HM);return e?e.map(FM).join(" "):t}},vb={...vl,transform:Math.round},qM={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:Er,skewX:Er,skewY:Er,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:ic,originX:rb,originY:rb,originZ:Ee},sv={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...qM,zIndex:vb,fillOpacity:ic,strokeOpacity:ic,numOctaves:vb},GM={...sv,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Kg,WebkitFilter:Kg},iA=t=>GM[t];function sA(t,e){let n=iA(t);return n!==Kg&&(n=Or),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KM=new Set(["auto","none","0"]);function $M(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!KM.has(l)&&sc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=sA(n,a)}class YM extends nv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Yy(p))){const y=JS(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!eA.has(s)||e.length!==2)return;const[a,l]=e,c=yb(a),f=yb(l);if(c!==f)if(db(c)&&db(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Pa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||BM(e[a]))&&s.push(a);s.length&&$M(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Pa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function QM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const rA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function aA(t){return bS(t)&&"offsetHeight"in t}const _b=30,XM=t=>!isNaN(parseFloat(t));class WM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qy);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_b)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_b);return SS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(t,e){return new WM(t,e)}const{schedule:rv}=OS(queueMicrotask,!1),_i={x:!1,y:!1};function oA(){return _i.x||_i.y}function ZM(t){return t==="x"||t==="y"?_i[t]?null:(_i[t]=!0,()=>{_i[t]=!1}):_i.x||_i.y?null:(_i.x=_i.y=!0,()=>{_i.x=_i.y=!1})}function lA(t,e){const n=QM(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Tb(t){return!(t.pointerType==="touch"||oA())}function JM(t,e,n={}){const[s,a,l]=lA(t,n),c=f=>{if(!Tb(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=T=>{Tb(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const uA=(t,e)=>e?t===e?!0:uA(t,e.parentElement):!1,av=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ek=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tk(t){return ek.has(t.tagName)||t.tabIndex!==-1}const kf=new WeakSet;function Eb(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nk=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Eb(()=>{if(kf.has(n))return;lg(n,"down");const a=Eb(()=>{lg(n,"up")}),l=()=>lg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function bb(t){return av(t)&&!oA()}function ik(t,e,n={}){const[s,a,l]=lA(t,n),c=f=>{const m=f.currentTarget;if(!bb(f))return;kf.add(m);const p=e(m,f),y=(x,D)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",w),kf.has(m)&&kf.delete(m),bb(x)&&typeof p=="function"&&p(x,{success:D})},T=x=>{y(x,m===window||m===document||n.useGlobalTarget||uA(m,x.target))},w=x=>{y(x,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",w,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),aA(f)&&(f.addEventListener("focus",p=>nk(p,a)),!tk(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function cA(t){return bS(t)&&"ownerSVGElement"in t}function sk(t){return cA(t)&&t.tagName==="svg"}const dn=t=>!!(t&&t.getVelocity),rk=[...nA,Ut,Or],ak=t=>rk.find(tA(t)),ov=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ok(...t){return e=>{let n=!1;const s=t.map(a=>{const l=wb(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():wb(t[a],null)}}}}function lk(...t){return I.useCallback(ok(...t),t)}class uk extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=aA(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ck({children:t,isPresent:e,anchorX:n,root:s}){const a=I.useId(),l=I.useRef(null),c=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=I.useContext(ov),m=lk(l,t?.ref);return I.useInsertionEffect(()=>{const{width:p,height:y,top:T,left:w,right:x}=c.current;if(e||!l.current||!p||!y)return;const D=n==="left"?`left: ${w}`:`right: ${x}`;l.current.dataset.motionPopId=a;const L=document.createElement("style");f&&(L.nonce=f);const V=s??document.head;return V.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${T}px !important;
          }
        `),()=>{V.contains(L)&&V.removeChild(L)}},[e]),_.jsx(uk,{isPresent:e,childRef:l,sizeRef:c,children:I.cloneElement(t,{ref:m})})}const hk=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=jy(fk),y=I.useId();let T=!0,w=I.useMemo(()=>(T=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:x=>{p.set(x,!0);for(const D of p.values())if(!D)return;s&&s()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[n,p,s]);return l&&T&&(w={...w}),I.useMemo(()=>{p.forEach((x,D)=>p.set(D,!1))},[n]),I.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=_.jsx(ck,{isPresent:n,anchorX:f,root:m,children:t})),_.jsx(wd.Provider,{value:w,children:t})};function fk(){return new Map}function hA(t=!0){const e=I.useContext(wd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const c=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const _f=t=>t.key||"";function Sb(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const rc=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,y]=hA(c),T=I.useMemo(()=>Sb(t),[t]),w=c&&!p?[]:T.map(_f),x=I.useRef(!0),D=I.useRef(T),L=jy(()=>new Map),[V,B]=I.useState(T),[H,q]=I.useState(T);TS(()=>{x.current=!1,D.current=T;for(let se=0;se<H.length;se++){const C=_f(H[se]);w.includes(C)?L.delete(C):L.get(C)!==!0&&L.set(C,!1)}},[H,w.length,w.join("-")]);const ae=[];if(T!==V){let se=[...T];for(let C=0;C<H.length;C++){const A=H[C],N=_f(A);w.includes(N)||(se.splice(C,0,A),ae.push(A))}return l==="wait"&&ae.length&&(se=ae),q(Sb(se)),B(T),null}const{forceRender:re}=I.useContext(Ly);return _.jsx(_.Fragment,{children:H.map(se=>{const C=_f(se),A=c&&!p?!1:T===H||w.includes(C),N=()=>{if(L.has(C))L.set(C,!0);else return;let P=!0;L.forEach(k=>{k||(P=!1)}),P&&(re?.(),q(D.current),c&&y?.(),s&&s())};return _.jsx(hk,{isPresent:A,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:A?void 0:N,anchorX:f,children:se},C)})})},fA=I.createContext({strict:!1}),Ab={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ol={};for(const t in Ab)ol[t]={isEnabled:e=>Ab[t].some(n=>!!e[n])};function dk(t){for(const e in t)ol[e]={...ol[e],...t[e]}}const mk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mk.has(t)}let dA=t=>!Xf(t);function pk(t){typeof t=="function"&&(dA=e=>e.startsWith("on")?!Xf(e):t(e))}try{pk(require("@emotion/is-prop-valid").default)}catch{}function gk(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(dA(a)||n===!0&&Xf(a)||!e&&!Xf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Sd=I.createContext({});function Ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ac(t){return typeof t=="string"||Array.isArray(t)}const lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uv=["initial",...lv];function xd(t){return Ad(t.animate)||uv.some(e=>ac(t[e]))}function mA(t){return!!(xd(t)||t.variants)}function yk(t,e){if(xd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ac(n)?n:void 0,animate:ac(s)?s:void 0}}return t.inherit!==!1?e:{}}function vk(t){const{initial:e,animate:n}=yk(t,I.useContext(Sd));return I.useMemo(()=>({initial:e,animate:n}),[xb(e),xb(n)])}function xb(t){return Array.isArray(t)?t.join(" "):t}const oc={};function _k(t){for(const e in t)oc[e]=t[e],$y(e)&&(oc[e].isCSSVariable=!0)}function pA(t,{layout:e,layoutId:n}){return Tl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oc[t]||t==="opacity")}const Tk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ek=_l.length;function bk(t,e,n){let s="",a=!0;for(let l=0;l<Ek;l++){const c=_l[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=rA(f,sv[c]);if(!m){a=!1;const y=Tk[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function cv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Tl.has(m)){c=!0;continue}else if($y(m)){a[m]=p;continue}else{const y=rA(p,sv[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=bk(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gA(t,e,n){for(const s in e)!dn(e[s])&&!pA(s,n)&&(t[s]=e[s])}function wk({transformTemplate:t},e){return I.useMemo(()=>{const n=hv();return cv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Sk(t,e){const n=t.style||{},s={};return gA(s,n,t),Object.assign(s,wk(t,e)),s}function Ak(t,e){const n={},s=Sk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const xk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ck(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?xk:Rk;t[l.offset]=Ee.transform(-s);const c=Ee.transform(e),f=Ee.transform(n);t[l.array]=`${c} ${f}`}function yA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(cv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:w}=t;T.transform&&(w.transform=T.transform,delete T.transform),(w.transform||T.transformOrigin)&&(w.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&Ck(T,a,l,c,!1)}const vA=()=>({...hv(),attrs:{}}),_A=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ik(t,e,n,s){const a=I.useMemo(()=>{const l=vA();return yA(l,e,_A(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};gA(l,t.style,t),a.style={...l,...a.style}}return a}const Nk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(t){return typeof t!="string"||t.includes("-")?!1:!!(Nk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Dk(t,e,n,{latestValues:s},a,l=!1){const f=(fv(t)?Ik:Ak)(e,s,a,t),m=gk(e,typeof t=="string",l),p=t!==I.Fragment?{...m,...f,ref:n}:{},{children:y}=e,T=I.useMemo(()=>dn(y)?y.get():y,[y]);return I.createElement(t,{...p,children:T})}function Rb(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function dv(t,e,n,s){if(typeof e=="function"){const[a,l]=Rb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Rb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Vf(t){return dn(t)?t.get():t}function Mk({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:kk(n,s,a,t),renderState:e()}}function kk(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Vf(l[w]);let{initial:c,animate:f}=t;const m=xd(t),p=mA(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?f:c;if(T&&typeof T!="boolean"&&!Ad(T)){const w=Array.isArray(T)?T:[T];for(let x=0;x<w.length;x++){const D=dv(t,w[x]);if(D){const{transitionEnd:L,transition:V,...B}=D;for(const H in B){let q=B[H];if(Array.isArray(q)){const ae=y?q.length-1:0;q=q[ae]}q!==null&&(a[H]=q)}for(const H in L)a[H]=L[H]}}}return a}const TA=t=>(e,n)=>{const s=I.useContext(Sd),a=I.useContext(wd),l=()=>Mk(t,e,s,a);return n?l():jy(l)};function mv(t,e,n){const{style:s}=t,a={};for(const l in s)(dn(s[l])||e.style&&dn(e.style[l])||pA(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const Vk=TA({scrapeMotionValuesFromProps:mv,createRenderState:hv});function EA(t,e,n){const s=mv(t,e,n);for(const a in t)if(dn(t[a])||dn(e[a])){const l=_l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const Ok=TA({scrapeMotionValuesFromProps:EA,createRenderState:vA}),Pk=Symbol.for("motionComponentSymbol");function Qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Lk(t,e,n){return I.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Qo(n)&&(n.current=s))},[e])}const pv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jk="framerAppearId",bA="data-"+pv(jk),wA=I.createContext({});function Uk(t,e,n,s,a){const{visualElement:l}=I.useContext(Sd),c=I.useContext(fA),f=I.useContext(wd),m=I.useContext(ov).reducedMotion,p=I.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=I.useContext(wA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Bk(p.current,n,a,T);const w=I.useRef(!1);I.useInsertionEffect(()=>{y&&w.current&&y.update(n,f)});const x=n[bA],D=I.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return TS(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),I.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),D.current=!1),y.enteringChildren=void 0)}),y}function Bk(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:SA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Qo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function SA(t){if(t)return t.options.allowProjection!==!1?t.projection:SA(t.parent)}function ug(t,{forwardMotionProps:e=!1}={},n,s){n&&dk(n);const a=fv(t)?Ok:Vk;function l(f,m){let p;const y={...I.useContext(ov),...f,layoutId:zk(f)},{isStatic:T}=y,w=vk(f),x=a(f,T);if(!T&&Uy){Fk();const D=Hk(y);p=D.MeasureLayout,w.visualElement=Uk(t,x,y,s,D.ProjectionNode)}return _.jsxs(Sd.Provider,{value:w,children:[p&&w.visualElement?_.jsx(p,{visualElement:w.visualElement,...y}):null,Dk(t,f,Lk(x,w.visualElement,m),x,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=I.forwardRef(l);return c[Pk]=t,c}function zk({layoutId:t}){const e=I.useContext(Ly).id;return e&&t!==void 0?e+"-"+t:t}function Fk(t,e){I.useContext(fA).strict}function Hk(t){const{drag:e,layout:n}=ol;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function qk(t,e){if(typeof Proxy>"u")return ug;const n=new Map,s=(l,c)=>ug(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,ug(c,void 0,t,e)),n.get(c))})}function AA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Gk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Kk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function cg(t){return t===void 0||t===1}function $g({scale:t,scaleX:e,scaleY:n}){return!cg(t)||!cg(e)||!cg(n)}function Na(t){return $g(t)||xA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xA(t){return Cb(t.x)||Cb(t.y)}function Cb(t){return t&&t!=="0%"}function Wf(t,e,n){const s=t-n,a=e*s;return n+a}function Ib(t,e,n,s,a){return a!==void 0&&(t=Wf(t,a,s)),Wf(t,n,s)+e}function Yg(t,e=0,n=1,s,a){t.min=Ib(t.min,e,n,s,a),t.max=Ib(t.max,e,n,s,a)}function RA(t,{x:e,y:n}){Yg(t.x,e.translate,e.scale,e.originPoint),Yg(t.y,n.translate,n.scale,n.originPoint)}const Nb=.999999999999,Db=1.0000000000001;function $k(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,RA(t,c)),s&&Na(l.latestValues)&&Wo(t,l.latestValues))}e.x<Db&&e.x>Nb&&(e.x=1),e.y<Db&&e.y>Nb&&(e.y=1)}function Xo(t,e){t.min=t.min+e,t.max=t.max+e}function Mb(t,e,n,s,a=.5){const l=pt(t.min,t.max,a);Yg(t,e,n,l,s)}function Wo(t,e){Mb(t.x,e.x,e.scaleX,e.scale,e.originX),Mb(t.y,e.y,e.scaleY,e.scale,e.originY)}function CA(t,e){return AA(Kk(t.getBoundingClientRect(),e))}function Yk(t,e,n){const s=CA(t,n),{scroll:a}=e;return a&&(Xo(s.x,a.offset.x),Xo(s.y,a.offset.y)),s}const kb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zo=()=>({x:kb(),y:kb()}),Vb=()=>({min:0,max:0}),Rt=()=>({x:Vb(),y:Vb()}),Qg={current:null},IA={current:!1};function Qk(){if(IA.current=!0,!!Uy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qg.current=t.matches;t.addEventListener("change",e),e()}else Qg.current=!1}const Xk=new WeakMap;function Wk(t,e,n){for(const s in e){const a=e[s],l=n[s];if(dn(a))t.addValue(s,a);else if(dn(l))t.addValue(s,al(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,al(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Ob=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zk{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Nn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,dt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=xd(n),this.isVariantNode=mA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in T){const x=T[w];m[w]!==void 0&&dn(x)&&x.set(m[w])}}mount(e){this.current=e,Xk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),IA.current||Qk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Tl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ol){const n=ol[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ob.length;s++){const a=Ob[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Wk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=al(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(ES(s)||wS(s))?s=parseFloat(s):!ak(s)&&Or.test(n)&&(s=sA(e,n)),this.setBaseTarget(e,dn(s)?s.get():s)),dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=dv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){rv.render(this.render)}}class NA extends Zk{constructor(){super(...arguments),this.KeyframeResolver=YM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DA(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function Jk(t){return window.getComputedStyle(t)}class eV extends NA{constructor(){super(...arguments),this.type="html",this.renderInstance=DA}readValueFromInstance(e,n){if(Tl.has(n))return this.projection?.isProjecting?Bg(n):dM(e,n);{const s=Jk(e),a=($y(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CA(e,n)}build(e,n,s){cv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return mv(e,n,s)}}const MA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tV(t,e,n,s){DA(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(MA.has(a)?a:pv(a),e.attrs[a])}class nV extends NA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tl.has(n)){const s=iA(n);return s&&s.default||0}return n=MA.has(n)?n:pv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return EA(e,n,s)}build(e,n,s){yA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){tV(e,n,s,a)}mount(e){this.isSVGTag=_A(e.tagName),super.mount(e)}}const iV=(t,e)=>fv(t)?new nV(e):new eV(e,{allowProjection:t!==I.Fragment});function Jo(t,e,n){const s=t.getProps();return dv(s,e,n!==void 0?n:s.custom,t)}const Xg=t=>Array.isArray(t);function sV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,al(n))}function rV(t){return Xg(t)?t[t.length-1]||0:t}function aV(t,e){const n=Jo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=rV(l[c]);sV(t,c,f)}}function oV(t){return!!(dn(t)&&t.add)}function Wg(t,e){const n=t.getValue("willChange");if(oV(n))return n.add(e);if(!n&&Os.WillChange){const s=new Os.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function kA(t){return t.props[bA]}const lV=t=>t!==null;function uV(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(lV),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const cV={type:"spring",stiffness:500,damping:25,restSpeed:10},hV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fV={type:"keyframes",duration:.8},dV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mV=(t,{keyframes:e})=>e.length>2?fV:Tl.has(t)?t.startsWith("scale")?hV(e[1]):cV:dV;function pV({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const gv=(t,e,n,s={},a,l)=>c=>{const f=iv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Wi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};pV(f)||Object.assign(y,mV(t,y)),y.duration&&(y.duration=Wi(y.duration)),y.repeatDelay&&(y.repeatDelay=Wi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Gg(y),y.delay===0&&(T=!0)),(Os.instantAnimations||Os.skipAnimations)&&(T=!0,Gg(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,T&&!l&&e.get()!==void 0){const w=uV(y.keyframes,f);if(w!==void 0){dt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new tv(y):new PM(y)};function gV({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function VA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const T=t.getValue(y,t.latestValues[y]??null),w=f[y];if(w===void 0||p&&gV(p,y))continue;const x={delay:n,...iv(l||{},y)},D=T.get();if(D!==void 0&&!T.isAnimating&&!Array.isArray(w)&&w===D&&!x.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const B=kA(t);if(B){const H=window.MotionHandoffAnimation(B,y,dt);H!==null&&(x.startTime=H,L=!0)}}Wg(t,y),T.start(gv(y,T,w,t.shouldReduceMotion&&eA.has(y)?{type:!1}:x,t,L));const V=T.animation;V&&m.push(V)}return c&&Promise.all(m).then(()=>{dt.update(()=>{c&&aV(t,c)})}),m}function OA(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function Zg(t,e,n={}){const s=Jo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(VA(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return yV(t,e,m,p,y,T,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function yV(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Zg(m,e,{...c,delay:n+(typeof s=="function"?0:s)+OA(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function vV(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Zg(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Zg(t,e,n);else{const a=typeof e=="function"?Jo(t,e,n.custom):e;s=Promise.all(VA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function PA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const _V=uv.length;function LA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_V;n++){const s=uv[n],a=t.props[s];(ac(a)||a===!1)&&(e[s]=a)}return e}const TV=[...lv].reverse(),EV=lv.length;function bV(t){return e=>Promise.all(e.map(({animation:n,options:s})=>vV(t,n,s)))}function wV(t){let e=bV(t),n=Pb(),s=!0;const a=m=>(p,y)=>{const T=Jo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:w,transitionEnd:x,...D}=T;p={...p,...D,...x}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=LA(t.parent)||{},T=[],w=new Set;let x={},D=1/0;for(let V=0;V<EV;V++){const B=TV[V],H=n[B],q=p[B]!==void 0?p[B]:y[B],ae=ac(q),re=B===m?H.isActive:null;re===!1&&(D=V);let se=q===y[B]&&q!==p[B]&&ae;if(se&&s&&t.manuallyAnimateOnMount&&(se=!1),H.protectedKeys={...x},!H.isActive&&re===null||!q&&!H.prevProp||Ad(q)||typeof q=="boolean")continue;const C=SV(H.prevProp,q);let A=C||B===m&&H.isActive&&!se&&ae||V>D&&ae,N=!1;const P=Array.isArray(q)?q:[q];let k=P.reduce(a(B),{});re===!1&&(k={});const{prevResolvedValues:z={}}=H,M={...z,...k},Qe=oe=>{A=!0,w.has(oe)&&(N=!0,w.delete(oe)),H.needsAnimating[oe]=!0;const de=t.getValue(oe);de&&(de.liveStyle=!1)};for(const oe in M){const de=k[oe],Ce=z[oe];if(x.hasOwnProperty(oe))continue;let ke=!1;Xg(de)&&Xg(Ce)?ke=!PA(de,Ce):ke=de!==Ce,ke?de!=null?Qe(oe):w.add(oe):de!==void 0&&w.has(oe)?Qe(oe):H.protectedKeys[oe]=!0}H.prevProp=q,H.prevResolvedValues=k,H.isActive&&(x={...x,...k}),s&&t.blockInitialAnimation&&(A=!1);const st=se&&C;A&&(!st||N)&&T.push(...P.map(oe=>{const de={type:B};if(typeof oe=="string"&&s&&!st&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,ke=Jo(Ce,oe);if(Ce.enteringChildren&&ke){const{delayChildren:U}=ke.transition||{};de.delay=OA(Ce.enteringChildren,t,U)}}return{animation:oe,options:de}}))}if(w.size){const V={};if(typeof p.initial!="boolean"){const B=Jo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(V.transition=B.transition)}w.forEach(B=>{const H=t.getBaseTarget(B),q=t.getValue(B);q&&(q.liveStyle=!0),V[B]=H??null}),T.push({animation:V})}let L=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(T):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Pb()}}}function SV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PA(e,t):!1}function Ca(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pb(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AV extends Gr{constructor(e){super(e),e.animationState||(e.animationState=wV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ad(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xV=0;class RV extends Gr{constructor(){super(...arguments),this.id=xV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CV={animation:{Feature:AV},exit:{Feature:RV}};function lc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ac(t){return{point:{x:t.pageX,y:t.pageY}}}const IV=t=>e=>av(e)&&t(e,Ac(e));function qu(t,e,n,s){return lc(t,e,IV(n),s)}const jA=1e-4,NV=1-jA,DV=1+jA,UA=.01,MV=0-UA,kV=0+UA;function Tn(t){return t.max-t.min}function VV(t,e,n){return Math.abs(t-e)<=n}function Lb(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=NV&&t.scale<=DV||isNaN(t.scale))&&(t.scale=1),(t.translate>=MV&&t.translate<=kV||isNaN(t.translate))&&(t.translate=0)}function Gu(t,e,n,s){Lb(t.x,e.x,n.x,s?s.originX:void 0),Lb(t.y,e.y,n.y,s?s.originY:void 0)}function jb(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function OV(t,e,n){jb(t.x,e.x,n.x),jb(t.y,e.y,n.y)}function Ub(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function Ku(t,e,n){Ub(t.x,e.x,n.x),Ub(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const BA=({current:t})=>t?t.ownerDocument.defaultView:null,Bb=(t,e)=>Math.abs(t-e);function PV(t,e){const n=Bb(t.x,e.x),s=Bb(t.y,e.y);return Math.sqrt(n**2+s**2)}class zA{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=fg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,D=PV(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!D)return;const{point:L}=w,{timestamp:V}=rn;this.history.push({...L,timestamp:V});const{onStart:B,onMove:H}=this.handlers;x||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=hg(x,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:D,onSessionEnd:L,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=fg(w.type==="pointercancel"?this.lastMoveEventInfo:hg(x,this.transformPagePoint),this.history);this.startEvent&&D&&D(w,B),L&&L(w,B)},!av(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Ac(e),m=hg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=rn;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,fg(m,this.history)),this.removeListeners=bc(qu(this.contextWindow,"pointermove",this.handlePointerMove),qu(this.contextWindow,"pointerup",this.handlePointerUp),qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vr(this.updatePoint)}}function hg(t,e){return e?{point:e(t.point)}:t}function zb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fg({point:t},e){return{point:t,delta:zb(t,FA(e)),offset:zb(t,LV(e)),velocity:jV(e,.1)}}function LV(t){return t[0]}function FA(t){return t[t.length-1]}function jV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=FA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Wi(e)));)n--;if(!s)return{x:0,y:0};const l=si(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function UV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function Fb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BV(t,{top:e,left:n,bottom:s,right:a}){return{x:Fb(t.x,n,a),y:Fb(t.y,e,s)}}function Hb(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function zV(t,e){return{x:Hb(t.x,e.x),y:Hb(t.y,e.y)}}function FV(t,e){let n=.5;const s=Tn(t),a=Tn(e);return a>s?n=nc(e.min,e.max-s,t.min):s>a&&(n=nc(t.min,t.max-a,e.min)),Vs(0,1,n)}function HV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jg=.35;function qV(t=Jg){return t===!1?t=0:t===!0&&(t=Jg),{x:qb(t,"left","right"),y:qb(t,"top","bottom")}}function qb(t,e,n){return{min:Gb(t,e),max:Gb(t,n)}}function Gb(t,e){return typeof t=="number"?t:t[e]||0}const GV=new WeakMap;class KV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ac(T).point)},c=(T,w)=>{const{drag:x,dragPropagation:D,onDragStart:L}=this.getProps();if(x&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZM(x),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(B=>{let H=this.getAxisMotionValue(B).get()||0;if(Zi.test(H)){const{projection:q}=this.visualElement;if(q&&q.layout){const ae=q.layout.layoutBox[B];ae&&(H=Tn(ae)*(parseFloat(H)/100))}}this.originPoint[B]=H}),L&&dt.postRender(()=>L(T,w)),Wg(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},f=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:D,onDirectionLock:L,onDrag:V}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:B}=w;if(D&&this.currentDirection===null){this.currentDirection=$V(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),V&&V(T,w)},m=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w,this.stop(T,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new zA(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:BA(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&dt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Tf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=UV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=BV(s.layoutBox,e):this.constraints=!1,this.elastic=qV(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Yk(s,a.root,this.visualElement.getTransformPagePoint());let c=zV(a.layout.layoutBox,l);if(n){const f=n(Gk(c));this.hasMutatedConstraints=!!f,f&&(c=AA(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ni(y=>{if(!Tf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const w=a?200:1e6,x=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Wg(this.visualElement,e),s.start(gv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:s}=this.getProps();if(!Tf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-pt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=FV({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(c=>{if(!Tf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(pt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;GV.set(this.visualElement,this);const e=this.visualElement.current,n=qu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const c=lc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Jg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Tf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $V(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YV extends Gr{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new KV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kb=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class QV extends Gr{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new zA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Kb(e),onStart:Kb(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Of={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $b(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=$b(t,e.target.x),s=$b(t,e.target.y);return`${n}% ${s}%`}},XV={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Or.parse(t);if(a.length>5)return s;const l=Or.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=pt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let dg=!1;class WV extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;_k(ZV),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Of.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,dg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HA(t){const[e,n]=hA(),s=I.useContext(Ly);return _.jsx(WV,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(wA),isPresent:e,safeToRemove:n})}const ZV={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:XV};function JV(t,e,n){const s=dn(t)?t:al(t);return s.start(gv("",s,e,n)),s.animation}const eO=(t,e)=>t.depth-e.depth;class tO{constructor(){this.children=[],this.isDirty=!1}add(e){By(this.children,e),this.isDirty=!0}remove(e){zy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eO),this.isDirty=!1,this.children.forEach(e)}}function nO(t,e){const n=Nn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Vr(s),t(l-e))};return dt.setup(s,!0),()=>Vr(s)}const qA=["TopLeft","TopRight","BottomLeft","BottomRight"],iO=qA.length,Yb=t=>typeof t=="string"?parseFloat(t):t,Qb=t=>typeof t=="number"||Ee.test(t);function sO(t,e,n,s,a,l){a?(t.opacity=pt(0,n.opacity??1,rO(s)),t.opacityExit=pt(e.opacity??1,0,aO(s))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,s));for(let c=0;c<iO;c++){const f=`border${qA[c]}Radius`;let m=Xb(e,f),p=Xb(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Qb(m)===Qb(p)?(t[f]=Math.max(pt(Yb(m),Yb(p),s),0),(Zi.test(p)||Zi.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function Xb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rO=GA(0,.5,DS),aO=GA(.5,.95,ri);function GA(t,e,n){return s=>s<t?0:s>e?1:n(nc(t,e,s))}function Wb(t,e){t.min=e.min,t.max=e.max}function ti(t,e){Wb(t.x,e.x),Wb(t.y,e.y)}function Zb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Jb(t,e,n,s,a){return t-=e,t=Wf(t,1/n,s),a!==void 0&&(t=Wf(t,1/a,s)),t}function oO(t,e=0,n=1,s=.5,a,l=t,c=t){if(Zi.test(e)&&(e=parseFloat(e),e=pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=pt(l.min,l.max,s);t===l&&(f-=e),t.min=Jb(t.min,e,n,f,a),t.max=Jb(t.max,e,n,f,a)}function e1(t,e,[n,s,a],l,c){oO(t,e[n],e[s],e[a],e.scale,l,c)}const lO=["x","scaleX","originX"],uO=["y","scaleY","originY"];function t1(t,e,n,s){e1(t.x,e,lO,n?n.x:void 0,s?s.x:void 0),e1(t.y,e,uO,n?n.y:void 0,s?s.y:void 0)}function n1(t){return t.translate===0&&t.scale===1}function KA(t){return n1(t.x)&&n1(t.y)}function i1(t,e){return t.min===e.min&&t.max===e.max}function cO(t,e){return i1(t.x,e.x)&&i1(t.y,e.y)}function s1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $A(t,e){return s1(t.x,e.x)&&s1(t.y,e.y)}function r1(t){return Tn(t.x)/Tn(t.y)}function a1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hO{constructor(){this.members=[]}add(e){By(this.members,e),e.scheduleRender()}remove(e){if(zy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fO(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:w,skewX:x,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),w&&(s+=`rotateY(${w}deg) `),x&&(s+=`skewX(${x}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const mg=["","X","Y","Z"],dO=1e3;let mO=0;function pg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function YA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&YA(s)}function QA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=mO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yO),this.nodes.forEach(EO),this.nodes.forEach(bO),this.nodes.forEach(vO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new tO)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=cA(c)&&!sk(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,T=0;const w=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{T=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==T&&(T=x,this.root.updateBlockedByResize=!0,y&&y(),y=nO(w,250),Of.hasAnimatedSinceResize&&(Of.hasAnimatedSinceResize=!1,this.nodes.forEach(u1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||RO,{onLayoutAnimationStart:L,onLayoutAnimationComplete:V}=p.getProps(),B=!this.targetLayout||!$A(this.targetLayout,x),H=!T&&w;if(this.options.layoutRoot||this.resumeFrom||H||T&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...iv(D,"layout"),onPlay:L,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,H)}else T||u1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(l1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TO),this.nodes.forEach(pO),this.nodes.forEach(gO)):this.nodes.forEach(l1),this.clearAllSnapshots();const f=Nn.now();rn.delta=Vs(0,1e3/60,f-rn.timestamp),rn.timestamp=f,rn.isProcessing=!0,ig.update.process(rn),ig.preRender.process(rn),ig.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_O),this.sharedNodes.forEach(SO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!KA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),CO(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Rt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(IO))){const{scroll:p}=this.root;p&&(Xo(f.x,p.offset.x),Xo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=Rt();if(ti(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ti(f,c),Xo(f.x,y.offset.x),Xo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=Rt();ti(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Wo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Wo(m,y.latestValues)}return Na(this.latestValues)&&Wo(m,this.latestValues),m}removeTransform(c){const f=Rt();ti(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Na(p.latestValues))continue;$g(p.latestValues)&&p.updateSnapshot();const y=Rt(),T=p.measurePageBox();ti(y,T),t1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&t1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Ku(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),RA(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Ku(this.relativeTargetOrigin,this.target,w.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$g(this.parent.latestValues)||xA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ti(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,w=this.treeScale.y;$k(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Rt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zb(this.prevProjectionDelta.x,this.projectionDelta.x),Zb(this.prevProjectionDelta.y,this.projectionDelta.y)),Gu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==w||!a1(this.projectionDelta.x,this.prevProjectionDelta.x)||!a1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zo(),this.projectionDelta=Zo(),this.projectionDeltaWithTransform=Zo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=Zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Rt(),x=m?m.source:void 0,D=this.layout?this.layout.source:void 0,L=x!==D,V=this.getStack(),B=!V||V.members.length<=1,H=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(xO));this.animationProgress=0;let q;this.mixTargetDelta=ae=>{const re=ae/1e3;c1(T.x,c.x,re),c1(T.y,c.y,re),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ku(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AO(this.relativeTarget,this.relativeTargetOrigin,w,re),q&&cO(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Rt()),ti(q,this.relativeTarget)),L&&(this.animationValues=y,sO(y,p,this.latestValues,re,H,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=JV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&XA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Rt();const T=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const w=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}ti(f,m),Wo(f,y),Gu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hO),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&pg("z",c,p,this.animationValues);for(let y=0;y<mg.length;y++)pg(`rotate${mg[y]}`,c,p,this.animationValues),pg(`skew${mg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Vf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Vf(f?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=fO(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:w,y:x}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in oc){if(y[D]===void 0)continue;const{correct:L,applyTo:V,isCSSVariable:B}=oc[D],H=T==="none"?y[D]:L(y[D],p);if(V){const q=V.length;for(let ae=0;ae<q;ae++)c[V[ae]]=H}else B?this.options.visualElement.renderState.vars[D]=H:c[D]=H}this.options.layoutId&&(c.pointerEvents=p===this?Vf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(o1),this.root.sharedNodes.clear()}}}function pO(t){t.updateLayout()}function gO(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],w=Tn(T);T.min=n[y].min,T.max=T.min+w}):XA(a,e.layoutBox,n)&&ni(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],w=Tn(n[y]);T.max=T.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const c=Zo();Gu(c,n,e.layoutBox);const f=Zo();l?Gu(f,t.applyTransform(s,!0),e.measuredBox):Gu(f,n,e.layoutBox);const m=!KA(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:w}=y;if(T&&w){const x=Rt();Ku(x,e.layoutBox,T.layoutBox);const D=Rt();Ku(D,n,w.layoutBox),$A(x,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=x,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function yO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _O(t){t.clearSnapshot()}function o1(t){t.clearMeasurements()}function l1(t){t.isLayoutDirty=!1}function TO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function u1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EO(t){t.resolveTargetDelta()}function bO(t){t.calcProjection()}function wO(t){t.resetSkewAndRotation()}function SO(t){t.removeLeadSnapshot()}function c1(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function h1(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function AO(t,e,n,s){h1(t.x,e.x,n.x,s),h1(t.y,e.y,n.y,s)}function xO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RO={duration:.45,ease:[.4,0,.1,1]},f1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),d1=f1("applewebkit/")&&!f1("chrome/")?Math.round:ri;function m1(t){t.min=d1(t.min),t.max=d1(t.max)}function CO(t){m1(t.x),m1(t.y)}function XA(t,e,n){return t==="position"||t==="preserve-aspect"&&!VV(r1(e),r1(n),.2)}function IO(t){return t!==t.root&&t.scroll?.wasRoot}const NO=QA({attachResizeListener:(t,e)=>lc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gg={current:void 0},WA=QA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new NO({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DO={pan:{Feature:QV},drag:{Feature:YV,ProjectionNode:WA,MeasureLayout:HA}};function p1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,Ac(e)))}class MO extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=JM(e,(n,s)=>(p1(this.node,s,"Start"),a=>p1(this.node,a,"End"))))}unmount(){}}class kO extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bc(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,Ac(e)))}class VO extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=ik(e,(n,s)=>(g1(this.node,s,"Start"),(a,{success:l})=>g1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ey=new WeakMap,yg=new WeakMap,OO=t=>{const e=ey.get(t.target);e&&e(t)},PO=t=>{t.forEach(OO)};function LO({root:t,...e}){const n=t||document;yg.has(n)||yg.set(n,{});const s=yg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(PO,{root:t,...e})),s[a]}function jO(t,e,n){const s=LO(e);return ey.set(t,n),s.observe(t),()=>{ey.delete(t),s.unobserve(t)}}const UO={some:0,all:1};class BO extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:UO[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),w=p?y:T;w&&w(m)};return jO(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zO(e,n))&&this.startObserver()}unmount(){}}function zO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FO={inView:{Feature:BO},tap:{Feature:VO},focus:{Feature:kO},hover:{Feature:MO}},HO={layout:{ProjectionNode:WA,MeasureLayout:HA}},qO={...CV,...FO,...DO,...HO},Tt=qk(qO,iV);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),y1=t=>{const e=KO(t);return e.charAt(0).toUpperCase()+e.slice(1)},ZA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),$O=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>I.createElement("svg",{ref:m,...YO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:ZA("lucide",a),...!l&&!$O(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>I.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(QO,{ref:l,iconNode:e,className:ZA(`lucide-${GO(y1(t))}`,`lucide-${t}`,s),...a}));return n.displayName=y1(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Zf=Fe("archive",XO);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JA=Fe("bell",WO);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ex=Fe("calendar",ZO);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],e4=Fe("camera",JO);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],n4=Fe("chevron-down",t4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tx=Fe("chevron-left",i4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],r4=Fe("code",s4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],o4=Fe("cpu",a4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],u4=Fe("database",l4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],nx=Fe("ellipsis",c4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ix=Fe("globe",h4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],d4=Fe("history",f4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],p4=Fe("key",m4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],yv=Fe("loader",g4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sx=Fe("lock",y4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_4=Fe("log-out",v4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rx=Fe("mail",T4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],v1=Fe("message-circle",E4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ax=Fe("message-square",b4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],vv=Fe("monitor",w4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Rd=Fe("moon",S4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],x4=Fe("plus",A4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],C4=Fe("refresh-cw",R4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_v=Fe("search",I4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ox=Fe("send",N4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ll=Fe("settings",D4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lx=Fe("shield",M4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],V4=Fe("smile",k4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],P4=Fe("star",O4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Cd=Fe("sun",L4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],U4=Fe("trash-2",j4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tv=Fe("user",B4);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ya=Fe("x",z4),F4=()=>{};var _1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},H4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},cx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let w=(f&15)<<2|p>>6,x=p&63;m||(x=64,c||(w=64)),s.push(n[y],n[T],n[w],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ux(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||T==null)throw new q4;const w=l<<2|f>>4;if(s.push(w),p!==64){const x=f<<4&240|p>>2;if(s.push(x),T!==64){const D=p<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G4=function(t){const e=ux(t);return cx.encodeByteArray(e,!0)},Jf=function(t){return G4(t).replace(/\./g,"")},hx=function(t){try{return cx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=()=>K4().__FIREBASE_DEFAULTS__,Y4=()=>{if(typeof process>"u"||typeof _1>"u")return;const t=_1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hx(t[1]);return e&&JSON.parse(e)},Id=()=>{try{return F4()||$4()||Y4()||Q4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fx=t=>Id()?.emulatorHosts?.[t],dx=t=>{const e=fx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},mx=()=>Id()?.config,px=t=>Id()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ev(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jf(JSON.stringify(n)),Jf(JSON.stringify(c)),""].join(".")}const $u={};function W4(){const t={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?t.emulator.push(e):t.prod.push(e);return t}function Z4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let T1=!1;function bv(t,e){if(typeof window>"u"||typeof document>"u"||!Kr(window.location.host)||$u[t]===e||$u[t]||T1)return;$u[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=W4().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{T1=!0,c()},w}function y(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Z4(s),x=n("text"),D=document.getElementById(x)||document.createElement("span"),L=n("learnmore"),V=document.getElementById(L)||document.createElement("a"),B=n("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;f(q),y(V,L);const ae=p();m(H,B),q.append(H,D,V,ae),document.body.appendChild(q)}l?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function eP(){const t=Id()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sP(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rP(){return!eP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aP(){try{return typeof indexedDB=="object"}catch{return!1}}function oP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="FirebaseError";class ls extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lP,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?uP(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ls(a,f,s)}}function uP(t,e){return t.replace(cP,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const cP=/\{\$([^}]+)}/g;function hP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ua(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(E1(l)&&E1(c)){if(!Ua(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Lu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ju(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fP(t,e){const n=new dP(t,e);return n.subscribe.bind(n)}class dP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=vg),a.error===void 0&&(a.error=vg),a.complete===void 0&&(a.complete=vg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Pr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new X4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yP(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gP(t){return t===Da?void 0:t}function yP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const _P={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},TP=Pe.INFO,EP={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},bP=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=EP[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wv{constructor(e){this.name=e,this._logLevel=TP,this._logHandler=bP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const wP=(t,e)=>e.some(n=>t instanceof n);let b1,w1;function SP(){return b1||(b1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AP(){return w1||(w1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,ty=new WeakMap,vx=new WeakMap,_g=new WeakMap,Sv=new WeakMap;function xP(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ir(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&yx.set(n,t)}).catch(()=>{}),Sv.set(e,t),e}function RP(t){if(ty.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CP(t){ny=t(ny)}function IP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Tg(this),e,...n);return vx.set(s,e.sort?e.sort():[e]),Ir(s)}:AP().includes(t)?function(...e){return t.apply(Tg(this),e),Ir(yx.get(this))}:function(...e){return Ir(t.apply(Tg(this),e))}}function NP(t){return typeof t=="function"?IP(t):(t instanceof IDBTransaction&&RP(t),wP(t,SP())?new Proxy(t,ny):t)}function Ir(t){if(t instanceof IDBRequest)return xP(t);if(_g.has(t))return _g.get(t);const e=NP(t);return e!==t&&(_g.set(t,e),Sv.set(e,t)),e}const Tg=t=>Sv.get(t);function DP(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Ir(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Ir(c.result),m.oldVersion,m.newVersion,Ir(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const MP=["get","getKey","getAll","getAllKeys","count"],kP=["put","add","delete","clear"],Eg=new Map;function S1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=kP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||MP.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Eg.set(e,l),l}CP(t=>({...t,get:(e,n,s)=>S1(e,n)||t.get(e,n,s),has:(e,n)=>!!S1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OP(t){return t.getComponent()?.type==="VERSION"}const iy="@firebase/app",A1="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new wv("@firebase/app"),PP="@firebase/app-compat",LP="@firebase/analytics-compat",jP="@firebase/analytics",UP="@firebase/app-check-compat",BP="@firebase/app-check",zP="@firebase/auth",FP="@firebase/auth-compat",HP="@firebase/database",qP="@firebase/data-connect",GP="@firebase/database-compat",KP="@firebase/functions",$P="@firebase/functions-compat",YP="@firebase/installations",QP="@firebase/installations-compat",XP="@firebase/messaging",WP="@firebase/messaging-compat",ZP="@firebase/performance",JP="@firebase/performance-compat",e6="@firebase/remote-config",t6="@firebase/remote-config-compat",n6="@firebase/storage",i6="@firebase/storage-compat",s6="@firebase/firestore",r6="@firebase/ai",a6="@firebase/firestore-compat",o6="firebase",l6="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="[DEFAULT]",u6={[iy]:"fire-core",[PP]:"fire-core-compat",[jP]:"fire-analytics",[LP]:"fire-analytics-compat",[BP]:"fire-app-check",[UP]:"fire-app-check-compat",[zP]:"fire-auth",[FP]:"fire-auth-compat",[HP]:"fire-rtdb",[qP]:"fire-data-connect",[GP]:"fire-rtdb-compat",[KP]:"fire-fn",[$P]:"fire-fn-compat",[YP]:"fire-iid",[QP]:"fire-iid-compat",[XP]:"fire-fcm",[WP]:"fire-fcm-compat",[ZP]:"fire-perf",[JP]:"fire-perf-compat",[e6]:"fire-rc",[t6]:"fire-rc-compat",[n6]:"fire-gcs",[i6]:"fire-gcs-compat",[s6]:"fire-fst",[a6]:"fire-fst-compat",[r6]:"fire-vertex","fire-js":"fire-js",[o6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,c6=new Map,ry=new Map;function x1(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ba(t){const e=t.name;if(ry.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(const n of ed.values())x1(n,t);for(const n of c6.values())x1(n,t);return!0}function Nd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new xc("app","Firebase",h6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=l6;function _x(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:sy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Nr.create("bad-app-name",{appName:String(a)});if(n||(n=mx()),!n)throw Nr.create("no-options");const l=ed.get(a);if(l){if(Ua(n,l.options)&&Ua(s,l.config))return l;throw Nr.create("duplicate-app",{appName:a})}const c=new vP(a);for(const m of ry.values())c.addComponent(m);const f=new f6(n,s,c);return ed.set(a,f),f}function Av(t=sy){const e=ed.get(t);if(!e&&t===sy&&mx())return _x();if(!e)throw Nr.create("no-app",{appName:t});return e}function Ji(t,e,n){let s=u6[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(c.join(" "));return}Ba(new Pr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="firebase-heartbeat-database",m6=1,uc="firebase-heartbeat-store";let bg=null;function Tx(){return bg||(bg=DP(d6,m6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),bg}async function p6(t){try{const n=(await Tx()).transaction(uc),s=await n.objectStore(uc).get(Ex(t));return await n.done,s}catch(e){if(e instanceof ls)Ps.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e?.message});Ps.warn(n.message)}}}async function R1(t,e){try{const s=(await Tx()).transaction(uc,"readwrite");await s.objectStore(uc).put(e,Ex(t)),await s.done}catch(n){if(n instanceof ls)Ps.warn(n.message);else{const s=Nr.create("idb-set",{originalErrorMessage:n?.message});Ps.warn(s.message)}}}function Ex(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=1024,y6=30;class v6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T6(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>y6){const a=E6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C1(),{heartbeatsToSend:n,unsentEntries:s}=_6(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ps.warn(e),""}}}function C1(){return new Date().toISOString().substring(0,10)}function _6(t,e=g6){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),I1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),I1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class T6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aP()?oP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return R1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return R1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function I1(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}function E6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){Ba(new Pr("platform-logger",e=>new VP(e),"PRIVATE")),Ba(new Pr("heartbeat",e=>new v6(e),"PRIVATE")),Ji(iy,A1,t),Ji(iy,A1,"esm2020"),Ji("fire-js","")}b6("");function bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w6=bx,wx=new xc("auth","Firebase",bx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new wv("@firebase/auth");function S6(t,...e){td.logLevel<=Pe.WARN&&td.warn(`Auth (${Qa}): ${t}`,...e)}function Pf(t,...e){td.logLevel<=Pe.ERROR&&td.error(`Auth (${Qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,...e){throw Rv(t,...e)}function bi(t,...e){return Rv(t,...e)}function xv(t,e,n){const s={...w6(),[e]:n};return new xc("auth","Firebase",s).create(e,{appName:t.name})}function es(t){return xv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A6(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ai(t,"argument-error"),xv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return wx.create(t,...e)}function _e(t,e,...n){if(!t)throw Rv(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function Ls(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){return typeof self<"u"&&self.location?.href||""}function x6(){return N1()==="http:"||N1()==="https:"}function N1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x6()||nP()||"connection"in navigator)?navigator.onLine:!0}function C6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=J4()||iP()}get(){return R6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D6=new Cc(3e4,6e4);function $r(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function us(t,e,n,s,a={}){return Ax(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Rc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return tP()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Kr(t.emulatorConfig.host)&&(p.credentials="include"),Sx.fetch()(await xx(t,t.config.apiHost,n,f),p)})}async function Ax(t,e,n){t._canInitEmulator=!1;const s={...I6,...e};try{const a=new k6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ef(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ef(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw xv(t,y,p);ai(t,y)}}catch(a){if(a instanceof ls)throw a;ai(t,"network-request-failed",{message:String(a)})}}async function Ic(t,e,n,s,a={}){const l=await us(t,e,n,s,a);return"mfaPendingCredential"in l&&ai(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function xx(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Cv(t.config,a):`${t.config.apiScheme}://${a}`;return N6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function M6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),D6.get())})}}function Ef(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=bi(t,e,s);return a.customData._tokenResponse=n,a}function D1(t){return t!==void 0&&t.enterprise!==void 0}class V6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O6(t,e){return us(t,"GET","/v2/recaptchaConfig",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function nd(t,e){return us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L6(t,e=!1){const n=ut(t),s=await n.getIdToken(e),a=Iv(s);_e(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Yu(wg(a.auth_time)),issuedAtTime:Yu(wg(a.iat)),expirationTime:Yu(wg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function wg(t){return Number(t)*1e3}function Iv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const a=hx(n);return a?JSON.parse(a):(Pf("Failed to decode base64 JWT payload"),null)}catch(a){return Pf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function M1(t){const e=Iv(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ls&&j6(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function j6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){const e=t.auth,n=await t.getIdToken(),s=await za(t,nd(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Rx(a.providerUserInfo):[],c=z6(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function B6(t){const e=ut(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z6(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Rx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e){const n=await Ax(t,{},async()=>{const s=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await xx(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Kr(t.emulatorConfig.host)&&(m.credentials="include"),Sx.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H6(t,e){return us(t,"POST","/v2/accounts:revokeToken",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=M1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await F6(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new el;return s&&(_e(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(_e(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new U6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await za(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L6(this,e)}reload(){return B6(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await za(this,P6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:x,providerData:D,stsTokenManager:L}=n;_e(T&&L,e,"internal-error");const V=el.fromJSON(this.name,L);_e(typeof T=="string",e,"internal-error"),Tr(s,e.name),Tr(a,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof x=="boolean",e,"internal-error"),Tr(l,e.name),Tr(c,e.name),Tr(f,e.name),Tr(m,e.name),Tr(p,e.name),Tr(y,e.name);const B=new Ei({uid:T,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(B.providerData=D.map(H=>({...H}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new el;a.updateFromServerResponse(n);const l=new Ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await id(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];_e(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Rx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new el;f.updateFromIdToken(s);const m=new Ei({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;function Ds(t){Ls(t instanceof Function,"Expected a class definition");let e=k1.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cx.type="NONE";const V1=Cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Lf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Lf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nd(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new tl(Ds(V1),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ds(V1);const c=Lf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const w=await nd(e,{idToken:y}).catch(()=>{});if(!w)break;T=await Ei._fromGetAccountInfoResponse(e,w,y)}else T=Ei._fromJSON(e,y);p!==l&&(f=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new tl(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new tl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ix(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vx(e))return"Blackberry";if(Ox(e))return"Webos";if(Nx(e))return"Safari";if((e.includes("chrome/")||Dx(e))&&!e.includes("edge/"))return"Chrome";if(kx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function Ix(t=mn()){return/firefox\//i.test(t)}function Nx(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dx(t=mn()){return/crios\//i.test(t)}function Mx(t=mn()){return/iemobile/i.test(t)}function kx(t=mn()){return/android/i.test(t)}function Vx(t=mn()){return/blackberry/i.test(t)}function Ox(t=mn()){return/webos/i.test(t)}function Nv(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q6(t=mn()){return Nv(t)&&!!window.navigator?.standalone}function G6(){return sP()&&document.documentMode===10}function Px(t=mn()){return Nv(t)||kx(t)||Ox(t)||Vx(t)||/windows phone/i.test(t)||Mx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t,e=[]){let n;switch(t){case"Browser":n=O1(mn());break;case"Worker":n=`${O1(mn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e={}){return us(t,"GET","/v2/passwordPolicy",$r(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=6;class Q6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P1(this),this.idTokenSubscription=new P1(this),this.beforeStateQueue=new K6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nd(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(es(this));const n=e?ut(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $6(this),n=new Q6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await H6(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&S6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yr(t){return ut(t)}class P1{constructor(e){this.auth=e,this.observer=null,this.addObserver=fP(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W6(t){Dd=t}function jx(t){return Dd.loadJS(t)}function Z6(){return Dd.recaptchaEnterpriseScript}function J6(){return Dd.gapiScript}function e3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t3{constructor(){this.enterprise=new n3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const i3="recaptcha-enterprise",Ux="NO_RECAPTCHA";class s3{constructor(e){this.type=i3,this.auth=Yr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{O6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new V6(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;D1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Ux)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t3().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&D1(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Z6();m.length!==0&&(m+=f),jx(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function L1(t,e,n,s=!1,a=!1){const l=new s3(t);let c;if(a)c=Ux;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ly(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await L1(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await L1(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){const n=Nd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ua(l,e??{}))return a;ai(a,"already-initialized")}return n.initialize({options:e})}function a3(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ds);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function o3(t,e,n){const s=Yr(t);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Bx(e),{host:c,port:f}=l3(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Ua(p,s.config.emulator)&&Ua(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Kr(c)?(Ev(`${l}//${c}${m}`),bv("Auth",!0)):u3()}function Bx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l3(t){const e=Bx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:j1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:j1(c)}}}function j1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function c3(t,e){return us(t,"POST","/v1/accounts:update",e)}async function h3(t,e){return us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e){return Ic(t,"POST","/v1/accounts:signInWithPassword",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return Ic(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}async function m3(t,e){return Ic(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Dv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,n,"signInWithPassword",f3);case"emailLink":return d3(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,s,"signUpPassword",h3);case"emailLink":return m3(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return Ic(t,"POST","/v1/accounts:signInWithIdp",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="http://localhost";class Fa extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Fa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,nl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:p3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y3(t){const e=Lu(ju(t)).link,n=e?Lu(ju(e)).deep_link_id:null,s=Lu(ju(t)).deep_link_id;return(s?Lu(ju(s)).link:null)||s||n||e||t}class Mv{constructor(e){const n=Lu(ju(e)),s=n.apiKey??null,a=n.oobCode??null,l=g3(n.mode??null);_e(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=y3(e);try{return new Mv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Mv.parseLink(n);return _e(s,"argument-error"),cc._fromEmailAndCode(e,s.code,s.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Nc{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Is.credential(n,s)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Nc{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Nc{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){return Ic(t,"POST","/v1/accounts:signUp",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ei._fromIdTokenResponse(e,s,a),c=U1(s);return new Ha({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=U1(s);return new Ha({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function U1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends ls{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new sd(e,n,s,a)}}function zx(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(t,l,e,s):l})}async function _3(t,e,n=!1){const s=await za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ha._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e,n=!1){const{auth:s}=t;if(_n(s.app))return Promise.reject(es(s));const a="reauthenticate";try{const l=await za(t,zx(s,a,e,t),n);_e(l.idToken,s,"internal-error");const c=Iv(l.idToken);_e(c,s,"internal-error");const{sub:f}=c;return _e(t.uid===f,s,"user-mismatch"),Ha._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e,n=!1){if(_n(t.app))return Promise.reject(es(t));const s="signIn",a=await zx(t,s,e),l=await Ha._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function E3(t,e){return Fx(Yr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t){const e=Yr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qx(t,e,n){if(_n(t.app))return Promise.reject(es(t));const s=Yr(t),c=await ly(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Hx(t),m}),f=await Ha._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function Gx(t,e,n){return _n(t.app)?Promise.reject(es(t)):E3(ut(t),El.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Hx(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e){return us(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ut(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await za(s,b3(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const f=s.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function Kx(t,e){const n=ut(t);return _n(n.auth.app)?Promise.reject(es(n.auth)):$x(n,e,null)}function w3(t,e){return $x(ut(t),null,e)}async function $x(t,e,n){const{auth:s}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(l.email=e),n&&(l.password=n);const c=await za(t,c3(s,l));await t._updateTokensIfNecessary(c,!0)}function S3(t,e,n,s){return ut(t).onIdTokenChanged(e,n,s)}function A3(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function Yx(t,e,n,s){return ut(t).onAuthStateChanged(e,n,s)}function Qx(t){return ut(t).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=1e3,R3=10;class Wx extends Xx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Px(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);G6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,R3):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},x3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wx.type="LOCAL";const C3=Wx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends Xx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zx.type="SESSION";const Jx=Zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Md(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await I3(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=Vv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function D3(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function M3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k3(){return navigator?.serviceWorker?.controller||null}function V3(){return eR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebaseLocalStorageDb",O3=1,ad="firebaseLocalStorage",nR="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function P3(){const t=indexedDB.deleteDatabase(tR);return new Dc(t).toPromise()}function uy(){const t=indexedDB.open(tR,O3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ad,{keyPath:nR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ad)?e(s):(s.close(),await P3(),e(await uy()))})})}async function B1(t,e,n){const s=kd(t,!0).put({[nR]:e,value:n});return new Dc(s).toPromise()}async function L3(t,e){const n=kd(t,!1).get(e),s=await new Dc(n).toPromise();return s===void 0?null:s.value}function z1(t,e){const n=kd(t,!0).delete(e);return new Dc(n).toPromise()}const j3=800,U3=3;class iR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>U3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(V3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await M3(),!this.activeServiceWorker)return;this.sender=new N3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await B1(e,rd,"1"),await z1(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>B1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>L3(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=kd(a,!1).getAll();return new Dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iR.type="LOCAL";const B3=iR;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){return e?Ds(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z3(t){return Fx(t.auth,new Ov(t),t.bypassAuthState)}function F3(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),T3(n,new Ov(t),t.bypassAuthState)}async function H3(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),_3(n,new Ov(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z3;case"linkViaPopup":case"linkViaRedirect":return H3;case"reauthViaPopup":case"reauthViaRedirect":return F3;default:ai(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Cc(2e3,1e4);async function G3(t,e,n){if(_n(t.app))return Promise.reject(bi(t,"operation-not-supported-in-this-environment"));const s=Yr(t);A6(t,e,kv);const a=sR(s,n);return new Va(s,"signInViaPopup",e,a).executeNotNull()}class Va extends rR{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=Vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q3.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="pendingRedirect",jf=new Map;class $3 extends rR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=jf.get(this.auth._key());if(!e){try{const s=await Y3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}jf.set(this.auth._key(),e)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y3(t,e){const n=W3(e),s=X3(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function Q3(t,e){jf.set(t._key(),e)}function X3(t){return Ds(t._redirectPersistence)}function W3(t){return Lf(K3,t.config.apiKey,t.name)}async function Z3(t,e,n=!1){if(_n(t.app))return Promise.reject(es(t));const s=Yr(t),a=sR(s,e),c=await new $3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=600*1e3;class eL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J3&&this.cachedEventUids.clear(),this.cachedEventUids.has(F1(e))}saveEventToCache(e){this.cachedEventUids.add(F1(e)),this.lastProcessedEventTime=Date.now()}}function F1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function tL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e={}){return us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sL=/^https?/;async function rL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nL(t);for(const n of e)try{if(aL(n))return}catch{}ai(t,"unauthorized-domain")}function aL(t){const e=ay(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!sL.test(n))return!1;if(iL.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=new Cc(3e4,6e4);function H1(){const t=ts().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lL(t){return new Promise((e,n)=>{function s(){H1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H1(),n(bi(t,"network-request-failed"))},timeout:oL.get()})}if(ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ts().gapi?.load)s();else{const a=e3("iframefcb");return ts()[a]=()=>{gapi.load?s():n(bi(t,"network-request-failed"))},jx(`${J6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function uL(t){return Uf=Uf||lL(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Cc(5e3,15e3),hL="__/auth/iframe",fL="emulator/auth/iframe",dL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pL(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,fL):`https://${t.config.authDomain}/${hL}`,s={apiKey:e.apiKey,appName:t.name,v:Qa},a=mL.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Rc(s).slice(1)}`}async function gL(t){const e=await uL(t),n=ts().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:pL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dL,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=bi(t,"network-request-failed"),f=ts().setTimeout(()=>{l(c)},cL.get());function m(){ts().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vL=500,_L=600,TL="_blank",EL="http://localhost";class q1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bL(t,e,n,s=vL,a=_L){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...yL,width:s.toString(),height:a.toString(),top:l,left:c},p=mn().toLowerCase();n&&(f=Dx(p)?TL:n),Ix(p)&&(e=e||EL,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[x,D])=>`${w}${x}=${D},`,"");if(q6(p)&&f!=="_self")return wL(e||"",f),new q1(null);const T=window.open(e||"",f,y);_e(T,t,"popup-blocked");try{T.focus()}catch{}return new q1(T)}function wL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="__/auth/handler",AL="emulator/auth/handler",xL=encodeURIComponent("fac");async function G1(t,e,n,s,a,l){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Qa,eventId:a};if(e instanceof kv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",hP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof Nc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${xL}=${encodeURIComponent(m)}`:"";return`${RL(t)}?${Rc(f).slice(1)}${p}`}function RL({config:t}){return t.emulator?Cv(t,AL):`https://${t.authDomain}/${SL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class CL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jx,this._completeRedirectFn=Z3,this._overrideRedirectResult=Q3}async _openPopup(e,n,s,a){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await G1(e,n,s,ay(),a);return bL(e,l,Vv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await G1(e,n,s,ay(),a);return D3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ls(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await gL(e),s=new eL(e);return n.register("authEvent",a=>(_e(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},a=>{const l=a?.[0]?.[Sg];l!==void 0&&n(!!l),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Px()||Nx()||Nv()}}const IL=CL;var K1="@firebase/auth",$1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ML(t){Ba(new Pr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(t)},p=new X6(s,a,l,m);return a3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ba(new Pr("auth-internal",e=>{const n=Yr(e.getProvider("auth").getImmediate());return(s=>new NL(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(K1,$1,DL(t)),Ji(K1,$1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=300,VL=px("authIdTokenMaxAge")||kL;let Y1=null;const OL=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VL)return;const a=n?.token;Y1!==a&&(Y1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function js(t=Av()){const e=Nd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r3(t,{popupRedirectResolver:IL,persistence:[B3,C3,Jx]}),s=px("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=OL(l.toString());A3(n,c,()=>c(n.currentUser)),S3(n,f=>c(f))}}const a=fx("auth");return a&&o3(n,`http://${a}`),n}function PL(){return document.getElementsByTagName("head")?.[0]??document}W6({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=bi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",PL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ML("Browser");function oR({onClose:t}){const e="https://karthikkallapiran-mutualfundchat.hf.space/chat",[n,s]=I.useState([]),[a,l]=I.useState(""),[c,f]=I.useState(!1),[m,p]=I.useState(null),[y,T]=I.useState(!1),w=I.useRef(null),x=I.useRef(null),D=I.useRef(null),L=js(),[V,B]=I.useState(null),[H,q]=I.useState(!0);I.useEffect(()=>{!H&&!V&&s([{id:"auth-warning-initial",role:"bot",text:" Login to your account and start the chat",time:new Date().toISOString()}])},[V,H]),I.useEffect(()=>{const se=Yx(L,C=>{B(C),q(!1)});return()=>se()},[]),I.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[n,y]);async function ae(se){if(!V){s(k=>[...k,{id:"auth-warning-"+Date.now(),role:"bot",text:" Login to your account and start the chat",time:new Date().toISOString()}]),l("");return}if(!se.trim())return;p(null),f(!0);const C=new Date().toISOString(),A={id:"user-"+Date.now(),role:"user",text:String(se),time:C},N="bot-temp-"+Date.now(),P={id:N,role:"bot",text:"",typing:!0,time:C};s(k=>[...k,A,P]),l("");try{const k=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:se})});if(!k.ok)throw new Error(`HTTP ${k.status}`);const z=await k.json(),M=typeof z.reply=="string"?z.reply:" Unexpected server response";s(Qe=>Qe.map(st=>st.id===N?{...st,text:M,typing:!1,time:new Date().toISOString()}:st))}catch(k){console.error(k),s(z=>z.map(M=>M.id===N?{...M,text:" Failed to get reply",typing:!1}:M)),p("Failed to fetch reply")}finally{f(!1)}}function re(se){se.preventDefault(),ae(a)}return H?null:V?_.jsx("div",{className:"fixed right-6 bottom-6 z-20",children:_.jsxs("div",{className:"flex flex-col w-[420px] sm:w-[520px] h-[600px] shadow-2xl rounded-2xl overflow-hidden bg-white ring-1 ring-black/10",children:[_.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-white",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{className:"p-1 rounded-md hover:bg-gray-100",onClick:()=>T(se=>!se),children:_.jsx(tx,{className:`w-5 h-5 ${y?"":"rotate-180"}`})}),_.jsx("div",{className:"w-9 h-9 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-semibold",children:"AI"}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:"Mutualfund chat"}),_.jsx("div",{className:"text-xs text-gray-500",children:"Online"})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-md",children:_.jsx(ll,{className:"w-5 h-5 text-gray-600"})}),_.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-md",children:_.jsx(nx,{className:"w-5 h-5 text-gray-600"})}),_.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-md",onClick:()=>{T(!0),t&&t()},children:_.jsx(Ya,{className:"w-5 h-5 text-gray-600"})})]})]}),!y&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex-1 min-h-0 p-4 overflow-y-auto overscroll-contain",style:{background:"linear-gradient(180deg, rgba(250,250,255,1), rgba(245,246,255,1))"},children:[_.jsxs(rc,{initial:!1,children:[n.length===0&&_.jsx(Tt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"bg-gray-100 p-3 rounded-xl max-w-[75%]",children:"Hey  Ask me anything!"}),n.filter(se=>V?!0:se.id.startsWith("auth-warning")).map(se=>_.jsx(Tt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:`flex ${se.role==="user"?"justify-end":"justify-start"} mb-3`,children:_.jsxs("div",{className:`max-w-[75%] w-fit p-3 rounded-2xl shadow-sm ${se.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-gray-100 text-gray-900 rounded-bl-none"}`,children:[_.jsx("div",{className:"whitespace-pre-wrap break-words overflow-hidden",children:typeof se.text=="string"?se.text:" Invalid message"}),se.typing&&_.jsxs("div",{className:"mt-2 flex gap-1",children:[_.jsx(Tt.span,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:.9},className:"w-2 h-2 rounded-full bg-gray-400"}),_.jsx(Tt.span,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:.9,delay:.2},className:"w-2 h-2 rounded-full bg-gray-400"}),_.jsx(Tt.span,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:.9,delay:.4},className:"w-2 h-2 rounded-full bg-gray-400"})]}),_.jsx("div",{className:"text-[10px] opacity-60 mt-1",children:new Date(se.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},se.id))]}),_.jsx("div",{ref:w})]}),_.jsxs("div",{className:"p-3 border-t bg-white",children:[_.jsxs("form",{onSubmit:re,className:"flex gap-2 items-center",children:[_.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 rounded-full",onClick:()=>l("Explain like I'm five"),children:_.jsx(V4,{className:"w-5 h-5 text-gray-500"})}),_.jsx("input",{ref:x,className:"flex-1 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"Type your message...",value:a,onChange:se=>l(se.target.value),disabled:c}),_.jsx("input",{ref:D,type:"file",className:"hidden"}),_.jsxs("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded-full bg-indigo-600 text-white flex items-center gap-2",children:[_.jsx(ox,{className:"w-4 h-4"}),"Send"]})]}),m&&_.jsx("div",{className:"mt-2 text-xs text-red-600",children:m})]})]})]})}):_.jsx("div",{className:"fixed right-6 bottom-6 z-20",children:_.jsxs("div",{className:"w-[360px] p-6 bg-white rounded-2xl shadow-2xl ring-1 ring-black/10 text-center",children:[_.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold",children:""}),_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Login required"}),_.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please sign in to start chatting with Mutualfund chat."}),_.jsx("button",{onClick:()=>window.location.href="/login",className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",children:"Go to Login"})]})})}var Q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,lR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function N(){}N.prototype=A.prototype,C.F=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(P,k,z){for(var M=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)M[Qe-2]=arguments[Qe];return A.prototype[k].apply(P,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,N){N||(N=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(k=0;k<16;++k)P[k]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],k=C.g[2];let z=C.g[3],M;M=A+(z^N&(k^z))+P[0]+3614090360&4294967295,A=N+(M<<7&4294967295|M>>>25),M=z+(k^A&(N^k))+P[1]+3905402710&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(N^z&(A^N))+P[2]+606105819&4294967295,k=z+(M<<17&4294967295|M>>>15),M=N+(A^k&(z^A))+P[3]+3250441966&4294967295,N=k+(M<<22&4294967295|M>>>10),M=A+(z^N&(k^z))+P[4]+4118548399&4294967295,A=N+(M<<7&4294967295|M>>>25),M=z+(k^A&(N^k))+P[5]+1200080426&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(N^z&(A^N))+P[6]+2821735955&4294967295,k=z+(M<<17&4294967295|M>>>15),M=N+(A^k&(z^A))+P[7]+4249261313&4294967295,N=k+(M<<22&4294967295|M>>>10),M=A+(z^N&(k^z))+P[8]+1770035416&4294967295,A=N+(M<<7&4294967295|M>>>25),M=z+(k^A&(N^k))+P[9]+2336552879&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(N^z&(A^N))+P[10]+4294925233&4294967295,k=z+(M<<17&4294967295|M>>>15),M=N+(A^k&(z^A))+P[11]+2304563134&4294967295,N=k+(M<<22&4294967295|M>>>10),M=A+(z^N&(k^z))+P[12]+1804603682&4294967295,A=N+(M<<7&4294967295|M>>>25),M=z+(k^A&(N^k))+P[13]+4254626195&4294967295,z=A+(M<<12&4294967295|M>>>20),M=k+(N^z&(A^N))+P[14]+2792965006&4294967295,k=z+(M<<17&4294967295|M>>>15),M=N+(A^k&(z^A))+P[15]+1236535329&4294967295,N=k+(M<<22&4294967295|M>>>10),M=A+(k^z&(N^k))+P[1]+4129170786&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^k&(A^N))+P[6]+3225465664&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^N&(z^A))+P[11]+643717713&4294967295,k=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(k^z))+P[0]+3921069994&4294967295,N=k+(M<<20&4294967295|M>>>12),M=A+(k^z&(N^k))+P[5]+3593408605&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^k&(A^N))+P[10]+38016083&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^N&(z^A))+P[15]+3634488961&4294967295,k=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(k^z))+P[4]+3889429448&4294967295,N=k+(M<<20&4294967295|M>>>12),M=A+(k^z&(N^k))+P[9]+568446438&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^k&(A^N))+P[14]+3275163606&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^N&(z^A))+P[3]+4107603335&4294967295,k=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(k^z))+P[8]+1163531501&4294967295,N=k+(M<<20&4294967295|M>>>12),M=A+(k^z&(N^k))+P[13]+2850285829&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^k&(A^N))+P[2]+4243563512&4294967295,z=A+(M<<9&4294967295|M>>>23),M=k+(A^N&(z^A))+P[7]+1735328473&4294967295,k=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(k^z))+P[12]+2368359562&4294967295,N=k+(M<<20&4294967295|M>>>12),M=A+(N^k^z)+P[5]+4294588738&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^k)+P[8]+2272392833&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^N)+P[11]+1839030562&4294967295,k=z+(M<<16&4294967295|M>>>16),M=N+(k^z^A)+P[14]+4259657740&4294967295,N=k+(M<<23&4294967295|M>>>9),M=A+(N^k^z)+P[1]+2763975236&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^k)+P[4]+1272893353&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^N)+P[7]+4139469664&4294967295,k=z+(M<<16&4294967295|M>>>16),M=N+(k^z^A)+P[10]+3200236656&4294967295,N=k+(M<<23&4294967295|M>>>9),M=A+(N^k^z)+P[13]+681279174&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^k)+P[0]+3936430074&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^N)+P[3]+3572445317&4294967295,k=z+(M<<16&4294967295|M>>>16),M=N+(k^z^A)+P[6]+76029189&4294967295,N=k+(M<<23&4294967295|M>>>9),M=A+(N^k^z)+P[9]+3654602809&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^k)+P[12]+3873151461&4294967295,z=A+(M<<11&4294967295|M>>>21),M=k+(z^A^N)+P[15]+530742520&4294967295,k=z+(M<<16&4294967295|M>>>16),M=N+(k^z^A)+P[2]+3299628645&4294967295,N=k+(M<<23&4294967295|M>>>9),M=A+(k^(N|~z))+P[0]+4096336452&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~k))+P[7]+1126891415&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~N))+P[14]+2878612391&4294967295,k=z+(M<<15&4294967295|M>>>17),M=N+(z^(k|~A))+P[5]+4237533241&4294967295,N=k+(M<<21&4294967295|M>>>11),M=A+(k^(N|~z))+P[12]+1700485571&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~k))+P[3]+2399980690&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~N))+P[10]+4293915773&4294967295,k=z+(M<<15&4294967295|M>>>17),M=N+(z^(k|~A))+P[1]+2240044497&4294967295,N=k+(M<<21&4294967295|M>>>11),M=A+(k^(N|~z))+P[8]+1873313359&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~k))+P[15]+4264355552&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~N))+P[6]+2734768916&4294967295,k=z+(M<<15&4294967295|M>>>17),M=N+(z^(k|~A))+P[13]+1309151649&4294967295,N=k+(M<<21&4294967295|M>>>11),M=A+(k^(N|~z))+P[4]+4149444226&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~k))+P[11]+3174756917&4294967295,z=A+(M<<10&4294967295|M>>>22),M=k+(A^(z|~N))+P[2]+718787259&4294967295,k=z+(M<<15&4294967295|M>>>17),M=N+(z^(k|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const N=A-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<A;){if(k==0)for(;z<=N;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(P[k++]=C.charCodeAt(z++),k==this.blockSize){a(this,P),k=0;break}}else for(;z<A;)if(P[k++]=C[z++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)C[A++]=this.g[N]>>>P&255;return C};function l(C,A){var N=f;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function c(C,A){this.h=A;const N=[];let P=!0;for(let k=C.length-1;k>=0;k--){const z=C[k]|0;P&&z==A||(N[k]=z,P=!1)}this.g=N}var f={};function m(C){return-128<=C&&C<128?l(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return V(p(-C));const A=[];let N=1;for(let P=0;C>=N;P++)A[P]=C/N|0,N*=4294967296;return new c(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return V(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(A,8));let P=T;for(let z=0;z<C.length;z+=8){var k=Math.min(8,C.length-z);const M=parseInt(C.substring(z,z+k),A);k<8?(k=p(Math.pow(A,k)),P=P.j(k).add(p(M))):(P=P.j(N),P=P.add(p(M)))}return P}var T=m(0),w=m(1),x=m(16777216);t=c.prototype,t.m=function(){if(L(this))return-V(this).m();let C=0,A=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(L(this))return"-"+V(this).toString(C);const A=p(Math.pow(C,6));var N=this;let P="";for(;;){const k=ae(N,A).g;N=B(N,k.j(A));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=k,D(N))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function L(C){return C.h==-1}t.l=function(C){return C=B(this,C),L(C)?-1:D(C)?0:1};function V(C){const A=C.g.length,N=[];for(let P=0;P<A;P++)N[P]=~C.g[P];return new c(N,~C.h).add(w)}t.abs=function(){return L(this)?V(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),N=[];let P=0;for(let k=0;k<=A;k++){let z=P+(this.i(k)&65535)+(C.i(k)&65535),M=(z>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=M>>>16,z&=65535,M&=65535,N[k]=M<<16|z}return new c(N,N[N.length-1]&-2147483648?-1:0)};function B(C,A){return C.add(V(A))}t.j=function(C){if(D(this)||D(C))return T;if(L(this))return L(C)?V(this).j(V(C)):V(V(this).j(C));if(L(C))return V(this.j(V(C)));if(this.l(x)<0&&C.l(x)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,N=[];for(var P=0;P<2*A;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const z=this.i(P)>>>16,M=this.i(P)&65535,Qe=C.i(k)>>>16,st=C.i(k)&65535;N[2*P+2*k]+=M*st,H(N,2*P+2*k),N[2*P+2*k+1]+=z*st,H(N,2*P+2*k+1),N[2*P+2*k+1]+=M*Qe,H(N,2*P+2*k+1),N[2*P+2*k+2]+=z*Qe,H(N,2*P+2*k+2)}for(C=0;C<A;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=A;C<2*A;C++)N[C]=0;return new c(N,0)};function H(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function q(C,A){this.g=C,this.h=A}function ae(C,A){if(D(A))throw Error("division by zero");if(D(C))return new q(T,T);if(L(C))return A=ae(V(C),A),new q(V(A.g),V(A.h));if(L(A))return A=ae(C,V(A)),new q(V(A.g),A.h);if(C.g.length>30){if(L(C)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,P=A;P.l(C)<=0;)N=re(N),P=re(P);var k=se(N,1),z=se(P,1);for(P=se(P,2),N=se(N,2);!D(P);){var M=z.add(P);M.l(C)<=0&&(k=k.add(N),z=M),P=se(P,1),N=se(N,1)}return A=B(C,k.j(A)),new q(k,A)}for(k=T;C.l(A)>=0;){for(N=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=p(N),M=z.j(A);L(M)||M.l(C)>0;)N-=P,z=p(N),M=z.j(A);D(z)&&(z=w),k=k.add(z),C=B(C,M)}return new q(k,C)}t.B=function(C){return ae(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)&C.i(P);return new c(N,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)|C.i(P);return new c(N,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)^C.i(P);return new c(N,this.h^C.h)};function re(C){const A=C.g.length+1,N=[];for(let P=0;P<A;P++)N[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(N,C.h)}function se(C,A){const N=A>>5;A%=32;const P=C.g.length-N,k=[];for(let z=0;z<P;z++)k[z]=A>0?C.i(z+N)>>>A|C.i(z+N+1)<<32-A:C.i(z+N);return new c(k,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lR=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Dr=c}).apply(typeof Q1<"u"?Q1:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uR,Uu,cR,Bf,cy,hR,fR,dR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var b=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var G=h[R];if(!(G in b))break e;b=b[G]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var b=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&b.push([R,v[R]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,b){return h.call.apply(h.bind,arguments)}function p(h,v,b){return p=m,p.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function T(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(R,G,Q){for(var le=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)le[xe-2]=arguments[xe];return v.prototype[G].apply(R,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const v=h.length;if(v>0){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function D(h,v){for(let R=1;R<arguments.length;R++){const G=arguments[R];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=h.length||0;const Q=G.length||0;h.length=b+Q;for(let le=0;le<Q;le++)h[b+le]=G[le]}else h.push(G)}}class L{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,b){const R=q.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new L(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,se=!1,C=new H,A=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(N)}};function N(){for(var h;h=B();){try{h.h.call(h.g)}catch(b){V(b)}var v=q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}se=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Qe(h,v){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(Qe,k),Qe.prototype.init=function(h,v){const b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(h,v,b,R,G){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=G,this.key=++Z,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function ke(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function U(h){const v={};for(const b in h)v[b]=h[b];return v}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,v){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)h[b]=R[b];for(let Q=0;Q<ne.length;Q++)b=ne[Q],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,b,R,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=Ie(h,v,R,G);return le>-1?(v=h[le],b||(v.fa=!1)):(v=new oe(v,this.src,Q,!!R,G),v.fa=b,h.push(v)),v};function be(h,v){const b=v.type;if(b in h.g){var R=h.g[b],G=Array.prototype.indexOf.call(R,v,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(R,G,1),Q&&(de(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ie(h,v,b,R){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==R)return G}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ft={};function ct(h,v,b,R,G){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ct(h,v[Q],b,R,G);return null}return b=Il(b),h&&h[st]?h.J(v,b,f(R)?!!R.capture:!1,G):Wr(h,v,b,!1,R,G)}function Wr(h,v,b,R,G,Q){if(!v)throw Error("Invalid event type");const le=f(G)?!!G.capture:!!G;let xe=Zr(h);if(xe||(h[Be]=xe=new fe(h)),b=xe.add(v,b,R,le,Q),b.proxy)return b;if(R=Ja(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)z||(G=le),G===void 0&&(G=!1),h.addEventListener(v.toString(),R,G);else if(h.attachEvent)h.attachEvent(Ri(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ja(){function h(b){return v.call(h.src,h.listener,b)}const v=Rl;return h}function eo(h,v,b,R,G){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)eo(h,v[Q],b,R,G);else R=f(R)?!!R.capture:!!R,b=Il(b),h&&h[st]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],b=Ie(v,b,R,G),b>-1&&(de(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Zr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ie(v,b,R,G)),(b=h>-1?v[h]:null)&&to(b))}function to(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[st])be(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Ri(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=Zr(v))?(be(b,h),b.h==0&&(b.src=null,v[Be]=null)):de(h)}}}function Ri(h){return h in Ft?Ft[h]:Ft[h]="on"+h}function Rl(h,v){if(h.da)h=!0;else{v=new Qe(v,this);const b=h.listener,R=h.ha||h.src;h.fa&&to(h),h=b.call(R,v)}return h}function Zr(h){return h=h[Be],h instanceof fe?h:null}var Cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Il(h){return typeof h=="function"?h:(h[Cl]||(h[Cl]=function(v){return h.handleEvent(v)}),h[Cl])}function It(){P.call(this),this.i=new fe(this),this.M=this,this.G=null}T(It,P),It.prototype[st]=!0,It.prototype.removeEventListener=function(h,v,b,R){eo(this,h,v,b,R)};function Ht(h,v){var b,R=h.G;if(R)for(b=[];R;R=R.G)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var G=v;v=new k(R,h),ue(v,G)}G=!0;let Q,le;if(b)for(le=b.length-1;le>=0;le--)Q=v.g=b[le],G=zs(Q,R,!0,v)&&G;if(Q=v.g=h,G=zs(Q,R,!0,v)&&G,G=zs(Q,R,!1,v)&&G,b)for(le=0;le<b.length;le++)Q=v.g=b[le],G=zs(Q,R,!1,v)&&G}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let R=0;R<b.length;R++)de(b[R]);delete h.g[v],h.h--}}this.G=null},It.prototype.J=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},It.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function zs(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let Q=0;Q<v.length;++Q){const le=v[Q];if(le&&!le.da&&le.capture==b){const xe=le.listener,St=le.ha||le.src;le.fa&&be(h.i,le),G=xe.call(St,R)!==!1&&G}}return G&&!R.defaultPrevented}function Wd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Bc(h){h.g=Wd(()=>{h.g=null,h.i&&(h.i=!1,Bc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class pn extends P{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(h){P.call(this),this.h=h,this.g={}}T(Jr,P);var Nl=[];function Dl(h){Ce(h.g,function(v,b){this.g.hasOwnProperty(b)&&to(v)},h),h.g={}}Jr.prototype.N=function(){Jr.Z.N.call(this),Dl(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=c.JSON.stringify,Zd=c.JSON.parse,zc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Fc(){}function Hc(){}var oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){k.call(this,"d")}T(Zt,k);function Fn(){k.call(this,"c")}T(Fn,k);var wt={},qc=null;function no(){return qc=qc||new It}wt.Ia="serverreachability";function Gc(h){k.call(this,wt.Ia,h)}T(Gc,k);function Ci(h){const v=no();Ht(v,new Gc(v))}wt.STAT_EVENT="statevent";function ea(h,v){k.call(this,wt.STAT_EVENT,h),this.stat=v}T(ea,k);function Nt(h){const v=no();Ht(v,new ea(v,h))}wt.Ja="timingevent";function Ii(h,v){k.call(this,wt.Ja,h),this.size=v}T(Ii,k);function Ni(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function Jd(h,v,b,R,G,Q){h.info(function(){if(h.g)if(Q){var le="",xe=Q.split("&");for(let Ge=0;Ge<xe.length;Ge++){var St=xe[Ge].split("=");if(St.length>1){const ht=St[0];St=St[1];const Kn=ht.split("_");le=Kn.length>=2&&Kn[1]=="type"?le+(ht+"="+St+"&"):le+(ht+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+b+`
`+le})}function Kc(h,v,b,R,G,Q,le){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+b+`
`+Q+" "+le})}function Di(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+em(h,b)+(R?" "+R:"")})}function ta(h,v){h.info(function(){return"TIMEOUT: "+v})}li.prototype.info=function(){};function em(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var b=Q[h];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let le=1;le<R.length;le++)R[le]=""}}}}return Fs(Q)}catch{return v}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kl;function ia(){}T(ia,Fc),ia.prototype.g=function(){return new XMLHttpRequest},kl=new ia;function cs(h){return encodeURIComponent(String(h))}function $c(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function ui(h,v,b,R){this.j=h,this.i=v,this.l=b,this.S=R||1,this.V=new Jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Dt={},$t={};function Mi(h,v,b){h.M=1,h.A=sa(kt(v)),h.u=b,h.R=!0,io(h,null)}function io(h,v){h.F=Date.now(),ki(h),h.B=kt(h.A);var b=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),oo(b.i,"t",R),h.C=0,b=h.j.L,h.h=new ci,h.g=lh(h.j,b?v:null,!h.u),h.P>0&&(h.O=new pn(p(h.Y,h,h.g),h.P)),v=h.V,b=h.g,R=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Nl[0]=G.toString()),G=Nl);for(let Q=0;Q<G.length;Q++){const le=ct(b,G[Q],R||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ci(),Jd(h.i,h.v,h.B,h.l,h.S,h.u)}ui.prototype.ba=function(h){h=h.target;const v=this.O;v&&di(h)==3?v.j():this.Y(h)},ui.prototype.Y=function(h){try{if(h==this.g)e:{const xe=di(this.g),St=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||xe!=4||St==7||(St==8||Ge<=0?Ci(3):Ci(2)),Vi(this);var v=this.g.ca();this.X=v;var b=tm(this);if(this.o=v==200,Kc(this.i,this.v,this.B,this.l,this.S,xe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var Q=R;break t}}Q=null}if(h=Q)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,Nt(12),Dn(this),Hn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<b.length;)if(ht=Qc(this,b),ht==$t){xe==4&&(this.m=4,Nt(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Dt){this.m=4,Nt(15),Di(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,ht,null),Oi(this,ht);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||b.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,b,"[Invalid Chunked Response]"),Dn(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Yl(le),le.P=!0,Nt(11))}}else Di(this.i,this.l,b,null),Oi(this,b);xe==4&&Dn(this),this.o&&!this.K&&(xe==4?sh(this.j,this):(this.o=!1,ki(this)))}else fs(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Dn(this),Hn(this)}}}catch{}finally{}};function tm(h){if(!Yc(h))return h.g.la();const v=Jt(h.g);if(v==="")return"";let b="";const R=v.length,G=di(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),Hn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<R;Q++)h.h.h=!0,b+=h.h.i.decode(v[Q],{stream:!(G&&Q==R-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function Yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qc(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?$t:(b=Number(v.substring(b,R)),isNaN(b)?Dt:(R+=1,R+b>v.length?$t:(v=v.slice(R,R+b),h.C=R+b,v)))}ui.prototype.cancel=function(){this.K=!0,Dn(this)};function ki(h){h.T=Date.now()+h.H,so(h,h.H)}function so(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ni(p(h.aa,h),v)}function Vi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ui.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ta(this.i,this.B),this.M!=2&&(Ci(),Nt(17)),Dn(this),this.m=2,Hn(this)):so(this,this.T-h)};function Hn(h){h.j.I==0||h.K||sh(h.j,h)}function Dn(h){Vi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Dl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Oi(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Li(b.h,h))){if(!h.L&&Li(b.h,h)&&b.I==3){try{var R=b.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)fo(b),Xs(b);else break e;ha(b),Nt(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ni(p(b.Va,b),6e3));Pi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Hi(b,11)}else if((h.L||b.g==h)&&fo(b),!M(v))for(G=b.Ba.g.parse(v),v=0;v<G.length;v++){let Ge=G[v];const ht=Ge[0];if(!(ht<=b.K))if(b.K=ht,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Kn=Ge[3];Kn!=null&&(b.ka=Kn,b.j.info("VER="+b.ka));const qi=Ge[4];qi!=null&&(b.za=qi,b.j.info("SVER="+b.za));const mi=Ge[5];mi!=null&&typeof mi=="number"&&mi>0&&(R=1.5*mi,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const pi=h.g;if(pi){const fa=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var Q=R.h;Q.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Pl(Q,Q.h),Q.h=null))}if(R.G){const mo=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(R.wa=mo,Xe(R.J,R.G,mo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var le=h;if(R.na=oh(R,R.L?R.ba:null,R.W),le.L){Ll(R.h,le);var xe=le,St=R.O;St&&(xe.H=St),xe.D&&(Vi(xe),ki(xe)),R.g=le}else nh(R);b.i.length>0&&Fi(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Hi(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Hi(b,7):Kl(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}Ci(4)}catch{}}var Mt=class{constructor(h,v){this.g=h,this.map=v}};function Vl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pi(h){return h.h?1:h.g?h.g.size:0}function Li(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Pl(h,v){h.g?h.g.add(v):h.h=v}function Ll(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return x(h.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ro(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const R=h[b].indexOf("=");let G,Q=null;R>=0?(G=h[b].substring(0,R),Q=h[b].substring(R+1)):G=h[b],v(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Mn?(this.l=h.l,Yt(this,h.j),this.o=h.o,this.g=h.g,Hs(this,h.u),this.h=h.h,Ul(this,eh(h.i)),this.m=h.m):h&&(v=String(h).match(Xc))?(this.l=!1,Yt(this,v[1]||"",!0),this.o=ji(v[2]||""),this.g=ji(v[3]||"",!0),Hs(this,v[4]),this.h=ji(v[5]||"",!0),Ul(this,v[6]||"",!0),this.m=ji(v[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}Mn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ra(v,ao,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ra(v,ao,!0),"@"),h.push(cs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ra(b,b.charAt(0)=="/"?Bl:Wc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ra(b,Zc)),h.join("")},Mn.prototype.resolve=function(h){const v=kt(this);let b=!!h.j;b?Yt(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var R=h.h;if(b)Hs(v,h.u);else if(b=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=v.h.lastIndexOf("/");G!=-1&&(R=v.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let le=0;le<G.length;){const xe=G[le++];xe=="."?R&&le==G.length&&Q.push(""):xe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&le==G.length&&Q.push("")):(Q.push(xe),R=!0)}R=Q.join("/")}else R=G}return b?v.h=R:b=h.i.toString()!=="",b?Ul(v,eh(h.i)):b=!!h.m,b&&(v.m=h.m),v};function kt(h){return new Mn(h)}function Yt(h,v,b){h.j=b?ji(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Hs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Ul(h,v,b){v instanceof Gs?(h.i=v,lo(h.i,h.l)):(b||(v=ra(v,qs)),h.i=new Gs(v,h.l))}function Xe(h,v,b){h.i.set(v,b)}function sa(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ra(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,En),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function En(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ao=/[#\/\?@]/g,Wc=/[#\?:]/g,Bl=/[#\?]/g,qs=/[#\?@]/g,Zc=/#/g;function Gs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&ro(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Gs.prototype,t.add=function(h,v){bn(this),this.i=null,h=Ks(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Jc(h,v){bn(h),v=Ks(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function zl(h,v){return bn(h),v=Ks(h,v),h.g.has(v)}t.forEach=function(h,v){bn(this),this.g.forEach(function(b,R){b.forEach(function(G){h.call(v,G,R,this)},this)},this)};function Fl(h,v){bn(h);let b=[];if(typeof v=="string")zl(h,v)&&(b=b.concat(h.g.get(Ks(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}t.set=function(h,v){return bn(this),this.i=null,h=Ks(this,h),zl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=Fl(this,h),h.length>0?String(h[0]):v):v};function oo(h,v,b){Jc(h,v),b.length>0&&(h.i=null,h.g.set(Ks(h,v),x(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var b=v[R];const G=cs(b);b=Fl(this,b);for(let Q=0;Q<b.length;Q++){let le=G;b[Q]!==""&&(le+="="+cs(b[Q])),h.push(le)}}return this.i=h.join("&")};function eh(h){const v=new Gs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ks(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function lo(h,v){v&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(b,R){const G=R.toLowerCase();R!=G&&(Jc(this,R),oo(this,G,b))},h)),h.j=v}function hi(h,v){const b=new li;if(c.Image){const R=new Image;R.onload=y(qn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=y(qn,b,"TestLoadImage: error",!1,v,R),R.onabort=y(qn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(qn,b,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function Hl(h,v){const b=new li,R=new AbortController,G=setTimeout(()=>{R.abort(),qn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(Q=>{clearTimeout(G),Q.ok?qn(b,"TestPingServer: ok",!0,v):qn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),qn(b,"TestPingServer: error",!1,v)})}function qn(h,v,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function $s(){this.g=new zc}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ui,Fc),Ui.prototype.g=function(){return new aa(this.i,this.h)};function aa(h,v){It.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(aa,It),t=aa.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,fi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ys(this):fi(this),this.readyState==3&&uo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ys(this))},t.Na=function(h){this.g&&(this.response=h,Ys(this))},t.ga=function(){this.g&&Ys(this)};function Ys(h){h.readyState=4,h.l=null,h.j=null,h.B=null,fi(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let v="";return Ce(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function oa(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Gn(b),typeof h=="string"?b!=null&&cs(b):Xe(h,v,b))}function Je(h){It.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,It);var Bi=/^https?$/i,ql=["POST","PUT"];t=Je.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){la(this,Q);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())b.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ql,v,void 0)>=0)||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of b)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){la(this,Q)}};function la(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Gl(h),hs(h)}function Gl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},t.Xa=function(){ua(this)};function ua(h){if(h.h&&typeof l<"u"){if(h.v&&di(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),di(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=Q===0){let le=String(h.D).match(Xc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),R=!Bi.test(le?le.toLowerCase():"")}b=R}if(b)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var G=di(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Gl(h)}}finally{hs(h)}}}}function hs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||Ht(h,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function di(h){return h.g?h.g.readyState:0}t.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Zd(v)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const v={};h=(h.g&&di(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(M(h[R]))continue;var b=$c(h[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[G]||[];v[G]=Q,Q.push(b)}ke(v,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Qs(h){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,h),this.Za=zi("retryDelaySeedMs",1e4,h),this.Ta=zi("forwardChannelMaxRetries",2,h),this.va=zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Ba=new $s,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qs.prototype,t.ka=8,t.I=1,t.connect=function(h,v,b,R){Nt(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=oh(this,null,this.W),Fi(this)};function Kl(h){if(co(h),h.I==3){var v=h.V++,b=kt(h.J);if(Xe(b,"SID",h.M),Xe(b,"RID",v),Xe(b,"TYPE","terminate"),ca(h,b),v=new ui(h,h.j,v),v.M=2,v.A=sa(kt(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.A,b=!0),b||(v.g=lh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ki(v)}ah(h)}function Xs(h){h.g&&(Yl(h),h.g.cancel(),h.g=null)}function co(h){Xs(h),h.v&&(c.clearTimeout(h.v),h.v=null),fo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fi(h){if(!Ol(h.h)&&!h.m){h.m=!0;var v=h.Ea;re||A(),se||(re(),se=!0),C.add(v,h),h.D=0}}function ho(h,v){return Pi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ni(p(h.Ea,h,v),rh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new ui(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=th(this,G,v),b=kt(this.J),Xe(b,"RID",h),Xe(b,"CVER",22),this.G&&Xe(b,"X-HTTP-Session-Id",this.G),ca(this,b),Q&&(this.R?v="headers="+cs(Gn(Q))+"&"+v:this.u&&oa(b,this.u,Q)),Pl(this.h,G),this.Ra&&Xe(b,"TYPE","init"),this.S?(Xe(b,"$req",v),Xe(b,"SID","null"),G.U=!0,Mi(G,b,null)):Mi(G,b,v),this.I=2}}else this.I==3&&(h?$l(this,h):this.i.length==0||Ol(this.h)||$l(this))};function $l(h,v){var b;v?b=v.l:b=h.V++;const R=kt(h.J);Xe(R,"SID",h.M),Xe(R,"RID",b),Xe(R,"AID",h.K),ca(h,R),h.u&&h.o&&oa(R,h.u,h.o),b=new ui(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=th(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Pl(h.h,b),Mi(b,R,v)}function ca(h,v){h.H&&Ce(h.H,function(b,R){Xe(v,R,b)}),h.l&&Ce({},function(b,R){Xe(v,R,b)})}function th(h,v,b){b=Math.min(h.i.length,b);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let xe=-1;for(;;){const St=["count="+b];xe==-1?b>0?(xe=G[0].g,St.push("ofs="+xe)):xe=0:St.push("ofs="+xe);let Ge=!0;for(let ht=0;ht<b;ht++){var Q=G[ht].g;const Kn=G[ht].map;if(Q-=xe,Q<0)xe=Math.max(0,G[ht].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var le=Kn instanceof Map?Kn:Object.entries(Kn);for(const[qi,mi]of le){let pi=mi;f(mi)&&(pi=Fs(mi)),St.push(Q+qi+"="+encodeURIComponent(pi))}}catch(qi){throw St.push(Q+"type="+encodeURIComponent("_badmap")),qi}}catch{R&&R(Kn)}}if(Ge){le=St.join("&");break e}}le=void 0}return h=h.i.splice(0,b),v.G=h,le}function nh(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;re||A(),se||(re(),se=!0),C.add(v,h),h.A=0}}function ha(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ni(p(h.Da,h),rh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ih(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ni(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Xs(this),ih(this))};function Yl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ih(h){h.g=new ui(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=kt(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),ca(h,v),h.u&&h.o&&oa(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=sa(kt(v)),b.u=null,b.R=!0,io(b,h)}t.Va=function(){this.C!=null&&(this.C=null,Xs(this),ha(this),Nt(19))};function fo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sh(h,v){var b=null;if(h.g==v){fo(h),Yl(h),h.g=null;var R=2}else if(Li(h.h,v))b=v.G,Ll(h.h,v),R=1;else return;if(h.I!=0){if(v.o)if(R==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var G=h.D;R=no(),Ht(R,new Ii(R,b)),Fi(h)}else nh(h);else if(G=v.m,G==3||G==0&&v.X>0||!(R==1&&ho(h,v)||R==2&&ha(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),G){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function rh(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function Hi(h,v){if(h.j.info("Error code "+v),v==2){var b=p(h.bb,h),R=h.Ua;const G=!R;R=new Mn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yt(R,"https"),sa(R),G?hi(R.toString(),b):Hl(R.toString(),b)}else Nt(2);h.I=0,h.l&&h.l.pa(v),ah(h),co(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function ah(h){if(h.I=0,h.ja=[],h.l){const v=jl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function oh(h,v,b){var R=b instanceof Mn?kt(b):new Mn(b);if(R.g!="")v&&(R.g=v+"."+R.g),Hs(R,R.u);else{var G=c.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const Q=new Mn(null);R&&Yt(Q,R),v&&(Q.g=v),G&&Hs(Q,G),b&&(Q.h=b),R=Q}return b=h.G,v=h.wa,b&&v&&Xe(R,b,v),Xe(R,"VER",h.ka),ca(h,R),R}function lh(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Je(new Ui({ab:b})):new Je(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ws(){}Ws.prototype.g=function(h,v){return new gn(h,v)};function gn(h,v){It.call(this),this.g=new Qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!M(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ds(this)}T(gn,It),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Kl(this.g)},gn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Fs(h),h=b);v.i.push(new Mt(v.Ya++,h)),v.I==3&&Fi(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,gn.Z.N.call(this)};function ch(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(ch,Zt);function hh(){Fn.call(this),this.status=1}T(hh,Fn);function ds(h){this.g=h}T(ds,uh),ds.prototype.ra=function(){Ht(this.g,"a")},ds.prototype.qa=function(h){Ht(this.g,new ch(h))},ds.prototype.pa=function(h){Ht(this.g,new hh)},ds.prototype.oa=function(){Ht(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,dR=function(){return new Ws},fR=function(){return no()},hR=wt,cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Bf=na,Ml.COMPLETE="complete",cR=Ml,Hc.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",It.prototype.listen=It.prototype.J,Uu=Hc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,uR=Je}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const X1="@firebase/firestore",W1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new wv("@firebase/firestore");function qo(){return qa.logLevel}function he(t,...e){if(qa.logLevel<=Pe.DEBUG){const n=e.map(Pv);qa.debug(`Firestore (${bl}): ${t}`,...n)}}function Us(t,...e){if(qa.logLevel<=Pe.ERROR){const n=e.map(Pv);qa.error(`Firestore (${bl}): ${t}`,...n)}}function ul(t,...e){if(qa.logLevel<=Pe.WARN){const n=e.map(Pv);qa.warn(`Firestore (${bl}): ${t}`,...n)}}function Pv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,mR(t,s,n)}function mR(t,e,n){let s=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Us(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||mR(e,a,s)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class jL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UL{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new pR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class BL{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zL{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new BL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=HL(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function hy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ag(a)===Ag(l)?Le(a,l):Ag(a)?1:-1}return Le(t.length,e.length)}const qL=55296,GL=57343;function Ag(t){const e=t.charCodeAt(0);return e>=qL&&e<=GL}function cl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="__name__";class Qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const s=Qi.isNumericId(e),a=Qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class rt extends Qi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const KL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Qi{construct(e,n,s){return new on(e,n,s)}static isValidIdentifier(e){return KL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J1}static keyField(){return new on([J1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $L(t,e,n,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ew(t){if(!ye.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tw(t){if(ye.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Ga(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vd(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mc(t,e){if(!yR(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-62135596800,iw=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iw);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nw)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:zt("string",lt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function YL(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Lr(a,ye.empty(),e)}function QL(t){return new Lr(t.readTime,t.key,fc)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(we.min(),ye.empty(),fc)}static max(){return new Lr(we.max(),ye.empty(),fc)}}function XL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==WL)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((a=>a?ie.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ie(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function JL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-1;function Pd(t){return t==null}function od(t){return t===0&&1/t==-1/0}function ej(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="";function tj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sw(e)),e=nj(t.get(n),e);return sw(e)}function nj(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case vR:n+="";break;default:n+=l}}return n}function sw(t){return t+vR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _R(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new an(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aw(this.data.getIterator())}getIteratorFrom(e){return new aw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class aw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Kt(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new TR("Invalid base64 string: "+l):l}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=ij.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="server_timestamp",bR="__type__",wR="__previous_value__",SR="__local_write_time__";function Uv(t){return(t?.mapValue?.fields||{})[bR]?.stringValue===ER}function Ld(t){const e=t.mapValue.fields[wR];return Uv(e)?Ld(e):e}function dc(t){const e=jr(t.mapValue.fields[SR].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n,s,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const ld="(default)";class mc{constructor(e,n){this.projectId=e,this.database=n||ld}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="__type__",rj="__max__",Sf={mapValue:{}},xR="__vector__",ud="value";function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:oj(t)?9007199254740991:aj(t)?10:11:Te(28295,{value:t})}function as(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=jr(a.timestampValue),f=jr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ur(a.bytesValue).isEqual(Ur(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ct(a.doubleValue),f=Ct(l.doubleValue);return c===f?od(c)===od(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(rw(c)!==rw(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!as(c[m],f[m])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function pc(t,e){return(t.values||[]).find((n=>as(n,e)))!==void 0}function hl(t,e){if(t===e)return 0;const n=Br(t),s=Br(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return ow(t.timestampValue,e.timestampValue);case 4:return ow(dc(t),dc(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ur(l),m=Ur(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Le(f[p],m[p]);if(y!==0)return y}return Le(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Le(Ct(l.latitude),Ct(c.latitude));return f!==0?f:Le(Ct(l.longitude),Ct(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[ud]?.arrayValue,y=m[ud]?.arrayValue,T=Le(p?.values?.length||0,y?.values?.length||0);return T!==0?T:lw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Sf.mapValue&&c===Sf.mapValue)return 0;if(l===Sf.mapValue)return 1;if(c===Sf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const w=hy(m[T],y[T]);if(w!==0)return w;const x=hl(f[m[T]],p[y[T]]);if(x!==0)return x}return Le(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function ow(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=jr(t),s=jr(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function lw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=hl(n[a],s[a]);if(l)return l}return Le(n.length,s.length)}function fl(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ur(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=fy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${fy(n.fields[c])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function zf(t){switch(Br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Qr(s.fields,((l,c)=>{a+=l.length+zf(c)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function uw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dy(t){return!!t&&"integerValue"in t}function Bv(t){return!!t&&"arrayValue"in t}function cw(t){return!!t&&"nullValue"in t}function hw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function aj(t){return(t?.mapValue?.fields||{})[AR]?.stringValue===xR}function Qu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Qu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qu(t.arrayValue.values[n]);return e}return{...t}}function oj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(n)}setAll(e){let n=on.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Qu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Qr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new In(Qu(this.value))}}function RR(t){const e=[];return Qr(t.fields,((n,s)=>{const a=new on([n]);if(Ff(s)){const l=RR(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new fn(e,0,we.min(),we.min(),we.min(),In.empty(),0)}static newFoundDocument(e,n,s,a){return new fn(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new fn(e,2,n,we.min(),we.min(),In.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,we.min(),we.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.position=e,this.inclusive=n}}function fw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=hl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function dw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function lj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{}class Bt extends CR{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cj(e,n,s):n==="array-contains"?new dj(e,s):n==="in"?new mj(e,s):n==="not-in"?new pj(e,s):n==="array-contains-any"?new gj(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hj(e,s):new fj(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hl(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends CR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ai(e,n)}matches(e){return IR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IR(t){return t.op==="and"}function NR(t){return uj(t)&&IR(t)}function uj(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function my(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(NR(t))return t.filters.map((e=>my(e))).join(",");{const e=t.filters.map((n=>my(n))).join(",");return`${t.op}(${e})`}}function DR(t,e){return t instanceof Bt?(function(s,a){return a instanceof Bt&&s.op===a.op&&s.field.isEqual(a.field)&&as(s.value,a.value)})(t,e):t instanceof Ai?(function(s,a){return a instanceof Ai&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&DR(c,a.filters[f])),!0):!1})(t,e):void Te(19439)}function MR(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`})(t):t instanceof Ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(MR).join(" ,")+"}"})(t):"Filter"}class cj extends Bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class hj extends Bt{constructor(e,n){super(e,"in",n),this.keys=kR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fj extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=kR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kR(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class dj extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bv(n)&&pc(n.arrayValue,this.value)}}class mj extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class pj extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class gj extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function mw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new yj(t,e,n,s,a,l,c)}function zv(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>my(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fl(s))).join(",")),e.Te=n}return e.Te}function Fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dw(t.startAt,e.startAt)&&dw(t.endAt,e.endAt)}function py(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vj(t,e,n,s,a,l,c,f){return new Al(t,e,n,s,a,l,c,f)}function VR(t){return new Al(t)}function pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OR(t){return t.collectionGroup!==null}function Xu(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Kt(on.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new gc(l,s))})),n.has(on.keyField().canonicalString())||e.Ie.push(new gc(on.keyField(),s))}return e.Ie}function ns(t){const e=Ae(t);return e.Ee||(e.Ee=_j(e,Xu(t))),e.Ee}function _j(t,e){if(t.limitType==="F")return mw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new gc(a.field,l)}));const n=t.endAt?new cd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new cd(t.startAt.position,t.startAt.inclusive):null;return mw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function gy(t,e){const n=t.filters.concat([e]);return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yy(t,e,n){return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jd(t,e){return Fv(ns(t),ns(e))&&t.limitType===e.limitType}function PR(t){return`${zv(ns(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>MR(a))).join(", ")}]`),Pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>fl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>fl(a))).join(",")),`Target(${s})`})(ns(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Xu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=fw(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Xu(s),a)||s.endAt&&!(function(c,f,m){const p=fw(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Xu(s),a))})(t,e)}function Tj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LR(t){return(e,n)=>{let s=!1;for(const a of Xu(t)){const l=Ej(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function Ej(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?hl(m,p):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return _R(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new gt(ye.comparator);function Bs(){return bj}const jR=new gt(ye.comparator);function Bu(...t){let e=jR;for(const n of t)e=e.insert(n.key,n);return e}function UR(t){let e=jR;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Oa(){return Wu()}function BR(){return Wu()}function Wu(){return new Xa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const wj=new gt(ye.comparator),Sj=new Kt(ye.comparator);function je(...t){let e=Sj;for(const n of t)e=e.add(n);return e}const Aj=new Kt(Le);function xj(){return Aj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function zR(t){return{integerValue:""+t}}function Rj(t,e){return ej(e)?zR(e):Hv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function Cj(t,e,n){return t instanceof hd?(function(a,l){const c={fields:{[bR]:{stringValue:ER},[SR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uv(l)&&(l=Ld(l)),l&&(c.fields[wR]=l),{mapValue:c}})(n,e):t instanceof yc?HR(t,e):t instanceof vc?qR(t,e):(function(a,l){const c=FR(a,l),f=gw(c)+gw(a.Ae);return dy(c)&&dy(a.Ae)?zR(f):Hv(a.serializer,f)})(t,e)}function Ij(t,e,n){return t instanceof yc?HR(t,e):t instanceof vc?qR(t,e):n}function FR(t,e){return t instanceof fd?(function(s){return dy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class hd extends Bd{}class yc extends Bd{constructor(e){super(),this.elements=e}}function HR(t,e){const n=GR(e);for(const s of t.elements)n.some((a=>as(a,s)))||n.push(s);return{arrayValue:{values:n}}}class vc extends Bd{constructor(e){super(),this.elements=e}}function qR(t,e){let n=GR(e);for(const s of t.elements)n=n.filter((a=>!as(a,s)));return{arrayValue:{values:n}}}class fd extends Bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gw(t){return Ct(t.integerValue||t.doubleValue)}function GR(t){return Bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Nj(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof yc&&a instanceof yc||s instanceof vc&&a instanceof vc?cl(s.elements,a.elements,as):s instanceof fd&&a instanceof fd?as(s.Ae,a.Ae):s instanceof hd&&a instanceof hd})(t.transform,e.transform)}class Dj{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zd{}function KR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qv(t.key,wi.none()):new kc(t.key,t.data,wi.none());{const n=t.data,s=In.empty();let a=new Kt(on.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Xr(t.key,s,new Bn(a.toArray()),wi.none())}}function Mj(t,e,n){t instanceof kc?(function(a,l,c){const f=a.value.clone(),m=vw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Xr?(function(a,l,c){if(!Hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=vw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll($R(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Zu(t,e,n,s){return t instanceof kc?(function(l,c,f,m){if(!Hf(l.precondition,c))return f;const p=l.value.clone(),y=_w(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Xr?(function(l,c,f,m){if(!Hf(l.precondition,c))return f;const p=_w(l.fieldTransforms,m,c),y=c.data;return y.setAll($R(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,s):(function(l,c,f){return Hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function kj(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=FR(s.transform,a||null);l!=null&&(n===null&&(n=In.empty()),n.set(s.field,l))}return n||null}function yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&cl(s,a,((l,c)=>Nj(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kc extends zd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xr extends zd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $R(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function vw(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,Ij(c,f,n[a]))}return s}function _w(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,Cj(l,c,e))}return s}class qv extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vj extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Mj(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=BR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=KR(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,s)=>yw(n,s)))&&cl(this.baseMutations,e.baseMutations,((n,s)=>yw(n,s)))}}class Gv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return wj})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Gv(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,ze;function jj(t){switch(t){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function YR(t){if(t===void 0)return Us("GRPC error has no .code"),te.UNKNOWN;switch(t){case jt.OK:return te.OK;case jt.CANCELLED:return te.CANCELLED;case jt.UNKNOWN:return te.UNKNOWN;case jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case jt.INTERNAL:return te.INTERNAL;case jt.UNAVAILABLE:return te.UNAVAILABLE;case jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case jt.NOT_FOUND:return te.NOT_FOUND;case jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case jt.ABORTED:return te.ABORTED;case jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case jt.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:t})}}(ze=jt||(jt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Dr([4294967295,4294967295],0);function Tw(t){const e=Uj().encode(t),n=new lR;return n.update(e),new Uint8Array(n.digest())}function Ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Dr([n,s],0),new Dr([a,l],0)]}class Kv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zu(`Invalid padding: ${n}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Dr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Dr.fromNumber(s)));return a.compare(Bj)===1&&(a=new Dr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tw(e),[s,a]=Ew(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Kv(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=Tw(e),[s,a]=Ew(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fd(we.min(),a,new gt(Le),Bs(),je())}}class Vc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vc(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class QR{constructor(e,n){this.targetId=e,this.Ce=n}}class XR{constructor(e,n,s=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class bw{constructor(){this.ve=0,this.Fe=ww(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}})),new Vc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=ww()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=Af(),this.He=Af(),this.Ye=new gt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(py(l))if(s===0){const c=new ye(l.path);this.et(n,c,fn.newNoDocument(c,we.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ur(s).toUint8Array()}catch(m){if(m instanceof TR)return ul("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Kv(c,a,l)}catch(m){return ul(m instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&py(f.target)){const m=new ye(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,fn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=je();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Fd(e,n,this.Ye,this.je,s);return this.je=Bs(),this.Je=Af(),this.He=Af(),this.Ye=new gt(Le),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Af(){return new gt(ye.comparator)}function ww(){return new gt(ye.comparator)}const Fj={asc:"ASCENDING",desc:"DESCENDING"},Hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qj={and:"AND",or:"OR"};class Gj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kj(t,e){return dd(t,e.toTimestamp())}function is(t){return Ye(!!t,49232),we.fromTimestamp((function(n){const s=jr(n);return new lt(s.seconds,s.nanos)})(t))}function $v(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZR(t){const e=rt.fromString(t);return Ye(iC(e),10190,{key:e.toString()}),e}function Ty(t,e){return $v(t.databaseId,e.path)}function xg(t,e){const n=ZR(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(eC(n))}function JR(t,e){return $v(t.databaseId,e)}function $j(t){const e=ZR(t);return e.length===4?rt.emptyPath():eC(e)}function Ey(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eC(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sw(t,e,n){return{name:Ty(t,e),fields:n.value.mapValue.fields}}function Yj(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ye(y===void 0||typeof y=="string",58123),ln.fromBase64String(y||"")):(Ye(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ln.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?te.UNKNOWN:YR(p.code);return new ce(y,p.message||"")})(c);n=new XR(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=xg(t,s.document.name),l=is(s.document.updateTime),c=s.document.createTime?is(s.document.createTime):we.min(),f=new In({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new qf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=xg(t,s.document),l=s.readTime?is(s.readTime):we.min(),c=fn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new qf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=xg(t,s.document),l=s.removedTargetIds||[];n=new qf([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Lj(a,l),f=s.targetId;n=new QR(f,c)}}return n}function Qj(t,e){let n;if(e instanceof kc)n={update:Sw(t,e.key,e.value)};else if(e instanceof qv)n={delete:Ty(t,e.key)};else if(e instanceof Xr)n={update:Sw(t,e.key,e.data),updateMask:s5(e.fieldMask)};else{if(!(e instanceof Vj))return Te(16599,{Vt:e.type});n={verify:Ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof hd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof yc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof vc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Te(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Kj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function Xj(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?is(a.updateTime):is(l);return c.isEqual(we.min())&&(c=is(l)),new Dj(c,a.transformResults||[])})(n,e)))):[]}function Wj(t,e){return{documents:[JR(t,e.path)]}}function Zj(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JR(t,a);const l=(function(p){if(p.length!==0)return nC(Ai.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:Ko(w.field),direction:t5(w.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=vy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function Jj(t){let e=$j(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const w=tC(T);return w instanceof Ai&&NR(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((w=>(function(D){return new gc($o(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(T){let w;return w=typeof T=="object"?T.value:T,Pd(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(T){const w=!!T.before,x=T.values||[];return new cd(x,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const w=!T.before,x=T.values||[];return new cd(x,w)})(n.endAt)),vj(e,a,c,l,f,"F",m,p)}function e5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$o(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=$o(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(n.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create($o(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ai.create(n.compositeFilter.filters.map((s=>tC(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function t5(t){return Fj[t]}function n5(t){return Hj[t]}function i5(t){return qj[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function $o(t){return on.fromServerFormat(t.fieldPath)}function nC(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(hw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(cw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(cw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:n5(n.op),value:n.value}}})(t):t instanceof Ai?(function(n){const s=n.getFilters().map((a=>nC(a)));return s.length===1?s[0]:{compositeFilter:{op:i5(n.op),filters:s}}})(t):Te(54877,{filter:t})}function s5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s,a,l=we.min(),c=we.min(),f=ln.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.yt=e}}function a5(t){const e=Jj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.Cn=new l5}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Lr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class l5{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Kt(rt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Kt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sC=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(sC,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="LruGarbageCollector",u5=1048576;function Rw([t,e],[n,s]){const a=Le(t,n);return a===0?Le(e,s):a}class c5{constructor(e){this.Ir=e,this.buffer=new Kt(Rw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Rw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h5{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(xw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?he(xw,"Ignoring IndexedDB error during garbage collection: ",n):await wl(n)}await this.Vr(3e5)}))}}class f5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Od.ce);const s=new c5(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Aw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Aw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,f=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),qo()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function d5(t,e){return new f5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.changes=new Xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Zu(s.mutation,a,Bn.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const a=Oa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Bu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Bs();const c=Wu(),f=(function(){return Wu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Xr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Zu(y.mutation,p,y.mutation.getFieldMask(),lt.now())):c.set(p.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new p5(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Wu();let a=new gt(((c,f)=>c-f)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Bn.empty();y=f.applyToLocalView(p,y),s.set(m,y);const T=(a.get(f.batchId)||je()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,T=BR();y.forEach((w=>{if(!l.has(w)){const x=KR(n.get(w),s.get(w));x!==null&&T.set(w,x),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(Oa());let f=fc,m=l;return c.next((p=>ie.forEach(p,((y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,je()))).next((y=>({batchId:f,changes:UR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Bu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Bu();return this.indexManager.getCollectionParents(e,l).next((f=>ie.forEach(f,(m=>{const p=(function(T,w){return new Al(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,fn.newInvalidDocument(y)))}));let f=Bu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Zu(y.mutation,p,Bn.empty(),lt.now()),Ud(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:is(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:a5(a.bundledQuery),readTime:is(a.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.overlays=new gt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Oa();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=Oa(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new gt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Oa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Oa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return ie.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Pj(n,s));let l=this.qr.get(n);l===void 0&&(l=je(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.Qr=new Kt(Wt.$r),this.Ur=new Kt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Wt(n,e),a=new Wt(n,e+1);let l=je();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Wt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Oj(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Wt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?jv:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(Le);return n.forEach((a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new ye(l),0);let f=new Kt(Le);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),ie.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),a=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.ri=e,this.docs=(function(){return new gt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=Bs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Bs();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||XL(QL(y),s)<=0||(a.has(y.key)||Ud(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new b5(this)}getSize(e){return ie.resolve(this.size)}}class b5 extends m5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.persistence=e,this.si=new Xa((n=>zv(n)),Fv),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Yv,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Od(0),this.li=!1,this.li=!0,this.hi=new _5,this.referenceDelegate=e(this),this.Pi=new w5(this),this.indexManager=new o5,this.remoteDocumentCache=(function(a){return new E5(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new r5(n),this.Ii=new y5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new T5(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const a=new S5(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class S5 extends ZL{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.Ri=new Yv,this.Vi=null}static mi(e){return new Qv(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class md{constructor(e,n){this.persistence=e,this.pi=new Xa((s=>tj(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=d5(this,n)}static mi(e,n){return new md(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=je(),a=je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xv(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rP()?8:JL(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new A5;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(qo()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(qo()<=Pe.DEBUG&&he("QueryEngine","Query:",Go(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(qo()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):ie.resolve())}ys(e,n){if(pw(n))return ie.resolve(null);let s=ns(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),s=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=je(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,yy(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return pw(n)||a.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ie.resolve(null):(qo()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.vs(e,c,n,YL(a,fc)).next((f=>f)))}))}Ds(e,n){let s=new Kt(LR(e));return n.forEach(((a,l)=>{Ud(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return qo()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(e,n,Lr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LocalStore",R5=3e8;class C5{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(Le),this.xs=new Xa((l=>zv(l)),Fv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function I5(t,e,n,s){return new C5(t,e,n,s)}async function aC(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=je();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function N5(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const T=p.batch,w=T.keys();let x=ie.resolve();return w.forEach((D=>{x=x.next((()=>y.getEntry(m,D))).next((L=>{const V=p.docVersions.get(D);Ye(V!==null,48541),L.version.compareTo(V)<0&&(T.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),x.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=je();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function oC(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function D5(t,e){const n=Ae(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,T)=>{const w=a.get(T);if(!w)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(ln.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,s)),a=a.insert(T,x),(function(L,V,B){return L.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=R5?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,x,y)&&f.push(n.Pi.updateTargetData(l,x))}));let m=Bs(),p=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(M5(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(we.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return ie.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function M5(t,e,n){let s=je(),a=je();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Bs();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):he(Wv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function k5(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=jv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function V5(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new xr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function by(t,e,n){const s=Ae(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Sl(c))throw c;he(Wv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Cw(t,e,n){const s=Ae(t);let a=we.min(),l=je();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const T=Ae(m),w=T.xs.get(y);return w!==void 0?ie.resolve(T.Ms.get(w)):T.Pi.getTargetData(p,y)})(s,c,ns(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:we.min(),n?l:je()))).next((f=>(O5(s,Tj(e),f),{documents:f,Qs:l})))))}function O5(t,e,n){let s=t.Os.get(e)||we.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Iw{constructor(){this.activeTargetIds=xj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P5{constructor(){this.Mo=new Iw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Iw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="ConnectivityMonitor";class Dw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function wy(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="RestConnection",j5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ld?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=wy(),f=this.zo(e,n.toUriEncodedString());he(Rg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Kr(p);return this.Jo(e,f,m,s,y).then((T=>(he(Rg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw ul(Rg,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",s),T}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=j5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class z5 extends U5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=wy();return new Promise(((f,m)=>{const p=new uR;p.setWithCredentials(!0),p.listenOnce(cR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Bf.NO_ERROR:const T=p.getResponseJson();he(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Bf.TIMEOUT:he(cn,`RPC '${e}' ${c} timed out`),m(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const w=p.getStatus();if(he(cn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x?.error;if(D&&D.status&&D.message){const L=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN})(D.status);m(new ce(L,D.message))}else m(new ce(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(cn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);he(cn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=wy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=dR(),f=fR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");he(cn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let w=!1,x=!1;const D=new B5({Yo:V=>{x?he(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(w||(he(cn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),he(cn,`RPC '${e}' stream ${a} sending:`,V),T.send(V))},Zo:()=>T.close()}),L=(V,B,H)=>{V.listen(B,(q=>{try{H(q)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return L(T,Uu.EventType.OPEN,(()=>{x||(he(cn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),L(T,Uu.EventType.CLOSE,(()=>{x||(x=!0,he(cn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(T))})),L(T,Uu.EventType.ERROR,(V=>{x||(x=!0,ul(cn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),D.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),L(T,Uu.EventType.MESSAGE,(V=>{if(!x){const B=V.data[0];Ye(!!B,16349);const H=B,q=H?.error||H[0]?.error;if(q){he(cn,`RPC '${e}' stream ${a} received error:`,q);const ae=q.status;let re=(function(A){const N=jt[A];if(N!==void 0)return YR(N)})(ae),se=q.message;re===void 0&&(re=te.INTERNAL,se="Unknown error status: "+ae+" with message "+q.message),x=!0,D.a_(new ce(re,se)),T.close()}else he(cn,`RPC '${e}' stream ${a} received:`,B),D.u_(B)}})),L(f,hR.STAT_EVENT,(V=>{V.stat===cy.PROXY?he(cn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===cy.NOPROXY&&he(cn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){return new Gj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="PersistentStream";class uC{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F5 extends uC{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Yj(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?is(c.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Ey(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=py(m)?{documents:Wj(l,m)}:{query:Zj(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=WR(l,c.resumeToken);const p=vy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){f.readTime=dd(l,c.snapshotVersion.toTimestamp());const p=vy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=e5(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.q_(n)}}class H5 extends uC{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Xj(e.writeResults,e.commitTime),s=is(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ey(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Qj(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{}class G5 extends q5{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,_y(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(te.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,_y(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class K5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="RemoteStore";class $5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Wa(this)&&(he(Ka,"Restarting streams for network reachability change."),await(async function(m){const p=Ae(m);p.Ea.add(4),await Oc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qd(p)})(this))}))})),this.Ra=new K5(s,a)}}async function qd(t){if(Wa(t))for(const e of t.da)await e(!0)}async function Oc(t){for(const e of t.da)await e(!1)}function cC(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),t0(n)?e0(n):xl(n).O_()&&Jv(n,e))}function Zv(t,e){const n=Ae(t),s=xl(n);n.Ia.delete(e),s.O_()&&hC(n,e),n.Ia.size===0&&(s.O_()?s.L_():Wa(n)&&n.Ra.set("Unknown"))}function Jv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).Y_(e)}function hC(t,e){t.Va.Ue(e),xl(t).Z_(e)}function e0(t){t.Va=new zj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.Ra.ua()}function t0(t){return Wa(t)&&!xl(t).x_()&&t.Ia.size>0}function Wa(t){return Ae(t).Ea.size===0}function fC(t){t.Va=void 0}async function Y5(t){t.Ra.set("Online")}async function Q5(t){t.Ia.forEach(((e,n)=>{Jv(t,e)}))}async function X5(t,e){fC(t),t0(t)?(t.Ra.ha(e),e0(t)):t.Ra.set("Unknown")}async function W5(t,e,n){if(t.Ra.set("Online"),e instanceof XR&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){he(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pd(t,s)}else if(e instanceof qf?t.Va.Ze(e):e instanceof QR?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const s=await oC(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(ln.EMPTY_BYTE_STRING,y.snapshotVersion)),hC(l,m);const T=new xr(y.target,m,p,y.sequenceNumber);Jv(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){he(Ka,"Failed to raise snapshot:",s),await pd(t,s)}}async function pd(t,e,n){if(!Sl(e))throw e;t.Ea.add(1),await Oc(t),t.Ra.set("Offline"),n||(n=()=>oC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ka,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qd(t)}))}function dC(t,e){return e().catch((n=>pd(t,n,e)))}async function Gd(t){const e=Ae(t),n=zr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jv;for(;Z5(e);)try{const a=await k5(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,J5(e,a)}catch(a){await pd(e,a)}mC(e)&&pC(e)}function Z5(t){return Wa(t)&&t.Ta.length<10}function J5(t,e){t.Ta.push(e);const n=zr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mC(t){return Wa(t)&&!zr(t).x_()&&t.Ta.length>0}function pC(t){zr(t).start()}async function eU(t){zr(t).ra()}async function tU(t){const e=zr(t);for(const n of t.Ta)e.ea(n.mutations)}async function nU(t,e,n){const s=t.Ta.shift(),a=Gv.from(s,e,n);await dC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Gd(t)}async function iU(t,e){e&&zr(t).X_&&await(async function(s,a){if((function(c){return jj(c)&&c!==te.ABORTED})(a.code)){const l=s.Ta.shift();zr(s).B_(),await dC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Gd(s)}})(t,e),mC(t)&&pC(t)}async function kw(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),he(Ka,"RemoteStore received new credentials");const s=Wa(n);n.Ea.add(3),await Oc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qd(n)}async function sU(t,e){const n=Ae(t);e?(n.Ea.delete(2),await qd(n)):e||(n.Ea.add(2),await Oc(n),n.Ra.set("Unknown"))}function xl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ae(n);return l.sa(),new F5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Y5.bind(null,t),t_:Q5.bind(null,t),r_:X5.bind(null,t),H_:W5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),t0(t)?e0(t):t.Ra.set("Unknown")):(await t.ma.stop(),fC(t))}))),t.ma}function zr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ae(n);return l.sa(),new H5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eU.bind(null,t),r_:iU.bind(null,t),ta:tU.bind(null,t),na:nU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ka,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new n0(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i0(t,e){if(Us("AsyncQueue",`${e}: ${t}`),Sl(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Bu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new il;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ga=new gt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ml{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new ml(e,n,il.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aU{constructor(){this.queries=Ow(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ae(n),l=a.queries;a.queries=Ow(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function Ow(){return new Xa((t=>PR(t)),jd)}async function oU(t,e){const n=Ae(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new rU,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=i0(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&s0(n)}async function lU(t,e){const n=Ae(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uU(t,e){const n=Ae(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&s0(n)}function cU(t,e,n){const s=Ae(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function s0(t){t.Ca.forEach((e=>{e.next()}))}var Sy,Pw;(Pw=Sy||(Sy={})).Ma="default",Pw.Cache="cache";class hU{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ml(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.key=e}}class yC{constructor(e){this.key=e}}class fU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=LR(e),this.tu=new il(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Vw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const w=a.get(y),x=Ud(this.query,T)?T:null,D=!!w&&this.mutatedKeys.has(w.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let V=!1;w&&x?w.data.isEqual(x.data)?D!==L&&(s.track({type:3,doc:x}),V=!0):this.su(w,x)||(s.track({type:2,doc:x}),V=!0,(m&&this.eu(x,m)>0||p&&this.eu(x,p)<0)&&(f=!0)):!w&&x?(s.track({type:0,doc:x}),V=!0):w&&!x&&(s.track({type:1,doc:w}),V=!0,(m||p)&&(f=!0)),V&&(x?(c=c.add(x),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(x,D){const L=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:V})}};return L(x)-L(D)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new ml(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new yC(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new gC(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const r0="SyncEngine";class dU{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mU{constructor(e){this.key=e,this.hu=!1}}class pU{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xa((f=>PR(f)),jd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ye.comparator),this.Au=new Map,this.Ru=new Yv,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gU(t,e,n=!0){const s=wC(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await vC(s,e,n,!0),a}async function yU(t,e){const n=wC(t);await vC(n,e,!0,!1)}async function vC(t,e,n,s){const a=await V5(t.localStore,ns(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await vU(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&cC(t.remoteStore,a),f}async function vU(t,e,n,s,a){t.pu=(T,w,x)=>(async function(L,V,B,H){let q=V.view.ru(B);q.Cs&&(q=await Cw(L.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,q))));const ae=H&&H.targetChanges.get(V.targetId),re=H&&H.targetMismatches.get(V.targetId)!=null,se=V.view.applyChanges(q,L.isPrimaryClient,ae,re);return jw(L,V.targetId,se.au),se.snapshot})(t,T,w,x);const l=await Cw(t.localStore,e,!0),c=new fU(e,l.Qs),f=c.ru(l.documents),m=Vc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);jw(t,n,p.au);const y=new dU(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function _U(t,e,n){const s=Ae(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!jd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await by(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Zv(s.remoteStore,a.targetId),Ay(s,a.targetId)})).catch(wl)):(Ay(s,a.targetId),await by(s.localStore,a.targetId,!0))}async function TU(t,e){const n=Ae(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zv(n.remoteStore,s.targetId))}async function EU(t,e,n){const s=CU(t);try{const a=await(function(c,f){const m=Ae(c),p=lt.now(),y=f.reduce(((x,D)=>x.add(D.key)),je());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let D=Bs(),L=je();return m.Ns.getEntries(x,y).next((V=>{D=V,D.forEach(((B,H)=>{H.isValidDocument()||(L=L.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,D))).next((V=>{T=V;const B=[];for(const H of f){const q=kj(H,T.get(H.key).overlayedDocument);q!=null&&B.push(new Xr(H.key,q,RR(q.value.mapValue),wi.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,B,f)})).next((V=>{w=V;const B=V.applyToLocalDocumentSet(T,L);return m.documentOverlayCache.saveOverlays(x,V.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:UR(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new gt(Le)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Pc(s,a.changes),await Gd(s.remoteStore)}catch(a){const l=i0(a,"Failed to persist write");n.reject(l)}}async function _C(t,e){const n=Ae(t);try{const s=await D5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Pc(n,s,e)}catch(s){await wl(s)}}function Lw(t,e,n){const s=Ae(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Ae(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,T)=>{for(const w of T.Sa)w.va(f)&&(p=!0)})),p&&s0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bU(t,e,n){const s=Ae(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new gt(ye.comparator);c=c.insert(l,fn.newNoDocument(l,we.min()));const f=je().add(l),m=new Fd(we.min(),new Map,new gt(Le),c,f);await _C(s,m),s.du=s.du.remove(l),s.Au.delete(e),a0(s)}else await by(s.localStore,e,!1).then((()=>Ay(s,e,n))).catch(wl)}async function wU(t,e){const n=Ae(t),s=e.batch.batchId;try{const a=await N5(n.localStore,e);EC(n,s,null),TC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pc(n,a)}catch(a){await wl(a)}}async function SU(t,e,n){const s=Ae(t);try{const a=await(function(c,f){const m=Ae(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((T=>(Ye(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);EC(s,e,n),TC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pc(s,a)}catch(a){await wl(a)}}function TC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function EC(t,e,n){const s=Ae(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||bC(t,s)}))}function bC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),a0(t))}function jw(t,e,n){for(const s of n)s instanceof gC?(t.Ru.addReference(s.key,e),AU(t,s)):s instanceof yC?(he(r0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||bC(t,s.key)):Te(19791,{wu:s})}function AU(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(he(r0,"New document in limbo: "+n),t.Eu.add(s),a0(t))}function a0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new mU(n)),t.du=t.du.insert(n,s),cC(t.remoteStore,new xr(ns(VR(n.path)),s,"TargetPurposeLimboResolution",Od.ce))}}async function Pc(t,e,n){const s=Ae(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Xv.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Ae(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(p,(w=>ie.forEach(w.Es,(x=>y.persistence.referenceDelegate.addReference(T,w.targetId,x))).next((()=>ie.forEach(w.ds,(x=>y.persistence.referenceDelegate.removeReference(T,w.targetId,x)))))))))}catch(T){if(!Sl(T))throw T;he(Wv,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const x=y.Ms.get(w),D=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(w,L)}}})(s.localStore,l))}async function xU(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){he(r0,"User change. New user:",e.toKey());const s=await aC(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ce(te.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pc(n,s.Ls)}}function RU(t,e){const n=Ae(t),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let a=je();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function wC(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_C.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bU.bind(null,e),e.Pu.H_=uU.bind(null,e.eventManager),e.Pu.yu=cU.bind(null,e.eventManager),e}function CU(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SU.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I5(this.persistence,new x5,e.initialUser,this.serializer)}Cu(e){return new rC(Qv.mi,this.serializer)}Du(e){return new P5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class IU extends gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof md,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new h5(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new rC((s=>md.mi(s,n)),this.serializer)}}class xy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xU.bind(null,this.syncEngine),await sU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aU})()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),s=(function(l){return new z5(l)})(e.databaseInfo);return(function(l,c,f,m){return new G5(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new $5(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Lw(this.syncEngine,n,0)),(function(){return Dw.v()?new Dw:new L5})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,y){const T=new pU(a,l,c,f,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);he(Ka,"RemoteStore shutting down."),s.Ea.add(5),await Oc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xy.provider={build:()=>new xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class DU{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Lv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{he(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=i0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ig(t,e){t.asyncQueue.verifyOperationInProgress(),he(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await aC(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MU(t);he(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>kw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>kw(e.remoteStore,a))),t._onlineComponents=e}async function MU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Fr,"Using user provided OfflineComponentProvider");try{await Ig(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Ig(t,new gd)}}else he(Fr,"Using default OfflineComponentProvider"),await Ig(t,new IU(void 0));return t._offlineComponents}async function SC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Fr,"Using user provided OnlineComponentProvider"),await Uw(t,t._uninitializedComponentsProvider._online)):(he(Fr,"Using default OnlineComponentProvider"),await Uw(t,new xy))),t._onlineComponents}function kU(t){return SC(t).then((e=>e.syncEngine))}async function VU(t){const e=await SC(t),n=e.eventManager;return n.onListen=gU.bind(null,e.syncEngine),n.onUnlisten=_U.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TU.bind(null,e.syncEngine),n}function OU(t,e,n={}){const s=new Mr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new NU({next:w=>{y.Nu(),c.enqueueAndForget((()=>lU(l,T))),w.fromCache&&m.source==="server"?p.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new hU(f,y,{includeMetadataChanges:!0,qa:!0});return oU(l,T)})(await VU(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firestore.googleapis.com",zw=!0;class Fw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xC,this.ssl=zw}else this.host=e.host,this.ssl=e.ssl??zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u5)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new LL;switch(s.type){case"firstParty":return new zL(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Bw.get(n);s&&(he("ComponentProvider","Removing Datastore"),Bw.delete(n),s.terminate())})(this),Promise.resolve()}}function PU(t,e,n,s={}){t=Ga(t,Kd);const a=Kr(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Ev(`https://${f}`),bv("Firestore",!0)),l.host!==xC&&l.host!==f&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ua(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=hn.MOCK_USER;else{p=gx(s.mockUserToken,t._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new hn(T)}t._authCredentials=new jL(new pR(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class Gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Mc(n,Gt._jsonSchema))return new Gt(e,s||null,new ye(rt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:zt("string",Gt._jsonSchemaVersion),referencePath:zt("string")};class kr extends Za{constructor(e,n,s){super(e,n,VR(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ye(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function Ju(t,e,...n){if(t=ut(t),gR("collection","path",e),t instanceof Kd){const s=rt.fromString(e,...n);return tw(s),new kr(t,null,s)}{if(!(t instanceof Gt||t instanceof kr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return tw(s),new kr(t.firestore,null,s)}}function yd(t,e,...n){if(t=ut(t),arguments.length===1&&(e=Lv.newId()),gR("doc","path",e),t instanceof Kd){const s=rt.fromString(e,...n);return ew(s),new Gt(t,null,new ye(s))}{if(!(t instanceof Gt||t instanceof kr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return ew(s),new Gt(t.firestore,t instanceof kr?t.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="AsyncQueue";class qw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lC(this,"async_queue_retry"),this._c=()=>{const s=Cg();s&&he(Hw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;he(Hw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",Gw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=n0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:Gw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lc extends Kd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new qw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qw(e),this._firestoreClient=void 0,await e}}}function Rr(t,e){const n=typeof t=="object"?t:Av(),s=typeof t=="string"?t:ld,a=Nd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=dx("firestore");l&&PU(a,...l)}return a}function RC(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LU(t),t._firestoreClient}function LU(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new sj(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,AC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(ln.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:zt("string",ii._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:zt("string",ss._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rs(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:zt("string",rs._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=/^__.*__$/;class UU{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new kc(e,this.data,n,this.fieldTransforms)}}class CC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class l0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new l0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IC(this.Ac)&&jU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BU{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hd(e)}Cc(e,n,s,a=!1){return new l0({Ac:e,methodName:n,Dc:s,path:on.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u0(t){const e=t._freezeSettings(),n=Hd(t._databaseId);return new BU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zU(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);c0("Data must be an object, but it was:",c,s);const f=NC(s,c);let m,p;if(l.merge)m=new Bn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const w=Ry(e,T,n);if(!c.contains(w))throw new ce(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);MC(y,w)||y.push(w)}m=new Bn(y),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new UU(new In(f),m,p)}class Yd extends o0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function FU(t,e,n,s){const a=t.Cc(1,e,n);c0("Data must be an object, but it was:",a,s);const l=[],c=In.empty();Qr(s,((m,p)=>{const y=h0(e,m,n);p=ut(p);const T=a.yc(y);if(p instanceof Yd)l.push(y);else{const w=jc(p,T);w!=null&&(l.push(y),c.set(y,w))}}));const f=new Bn(l);return new CC(c,f,a.fieldTransforms)}function HU(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[Ry(e,s,n)],m=[a];if(l.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Ry(e,l[w])),m.push(l[w+1]);const p=[],y=In.empty();for(let w=f.length-1;w>=0;--w)if(!MC(p,f[w])){const x=f[w];let D=m[w];D=ut(D);const L=c.yc(x);if(D instanceof Yd)p.push(x);else{const V=jc(D,L);V!=null&&(p.push(x),y.set(x,V))}}const T=new Bn(p);return new CC(y,T,c.fieldTransforms)}function qU(t,e,n,s=!1){return jc(n,t.Cc(s?4:3,e))}function jc(t,e){if(DC(t=ut(t)))return c0("Unsupported field value:",e,t),NC(t,e);if(t instanceof o0)return(function(s,a){if(!IC(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=jc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rj(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:dd(a.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dd(a.serializer,l)}}if(s instanceof ss)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ii)return{bytesValue:WR(a.serializer,s._byteString)};if(s instanceof Gt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$v(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof rs)return(function(c,f){return{mapValue:{fields:{[AR]:{stringValue:xR},[ud]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Hv(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Vd(s)}`)})(t,e)}function NC(t,e){const n={};return _R(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,((s,a)=>{const l=jc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function DC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof ss||t instanceof ii||t instanceof Gt||t instanceof o0||t instanceof rs)}function c0(t,e,n){if(!DC(n)||!yR(n)){const s=Vd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Ry(t,e,n){if((e=ut(e))instanceof $d)return e._internalPath;if(typeof e=="string")return h0(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const GU=new RegExp("[~\\*/\\[\\]]");function h0(t,e,n){if(e.search(GU)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ce(te.INVALID_ARGUMENT,f+t+m)}function MC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KU extends kC{data(){return super.data()}}function Qd(t,e){return typeof e=="string"?h0(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f0{}class VC extends f0{}function _c(t,e,...n){let s=[];e instanceof f0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof d0)).length,f=l.filter((m=>m instanceof Xd)).length;if(c>1||c>0&&f>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Xd extends VC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Xd(e,n,s)}_apply(e){const n=this._parse(e);return OC(e._query,n),new Za(e.firestore,e.converter,gy(e._query,n))}_parse(e){const n=u0(e.firestore);return(function(l,c,f,m,p,y,T){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){$w(T,y);const D=[];for(const L of T)D.push(Kw(m,l,L));w={arrayValue:{values:D}}}else w=Kw(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||$w(T,y),w=qU(f,c,T,y==="in"||y==="not-in");return Bt.create(p,y,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cr(t,e,n){const s=e,a=Qd("where",t);return Xd._create(a,s,n)}class d0 extends f0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new d0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)OC(c,m),c=gy(c,m)})(e._query,n),new Za(e.firestore,e.converter,gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m0 extends VC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new m0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(l,c)})(e._query,this._field,this._direction);return new Za(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Al(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function _d(t,e="asc"){const n=e,s=Qd("orderBy",t);return m0._create(s,n)}function Kw(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OR(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uw(t,new ye(s))}if(n instanceof Gt)return uw(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vd(n)}.`)}function $w(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OC(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YU{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[ud].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new rs(n)}convertGeoPoint(e){return new ss(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ld(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=jr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ye(iC(s),9688,{name:e});const a=new mc(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Us(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Rf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sl extends kC{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Qd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sl._jsonSchemaVersion="firestore/documentSnapshot/1.0",sl._jsonSchema={type:zt("string",sl._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Gf extends sl{data(e={}){return super.data(e)}}class rl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Rf(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Gf(this._firestore,this._userDataWriter,s.key,s,new Rf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Gf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Rf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Gf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Rf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:XU(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:zt("string",rl._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class WU extends YU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Td(t){t=Ga(t,Za);const e=Ga(t.firestore,Lc),n=RC(e),s=new WU(e);return $U(t._query),OU(n,t._query).then((a=>new rl(e,s,t,a)))}function PC(t,e,n,...s){t=Ga(t,Gt);const a=Ga(t.firestore,Lc),l=u0(a);let c;return c=typeof(e=ut(e))=="string"||e instanceof $d?HU(l,"updateDoc",t._key,e,n,s):FU(l,"updateDoc",t._key,e),p0(a,[c.toMutation(t._key,wi.exists(!0))])}function ZU(t){return p0(Ga(t.firestore,Lc),[new qv(t._key,wi.none())])}function JU(t,e){const n=Ga(t.firestore,Lc),s=yd(t),a=QU(t.converter,e);return p0(n,[zU(u0(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function p0(t,e){return(function(s,a){const l=new Mr;return s.asyncQueue.enqueueAndForget((async()=>EU(await kU(s),a,l))),l.promise})(RC(t),e)}(function(e,n=!0){(function(a){bl=a})(Qa),Ba(new Pr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Lc(new UL(s.getProvider("auth-internal")),new FL(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ji(X1,W1,e),Ji(X1,W1,"esm2020")})();const e9="_backdrop_1ahvk_3",t9="_settingsRoot_1ahvk_25",n9="_sidebar_1ahvk_47",i9="_sidebarTitle_1ahvk_59",s9="_tab_1ahvk_71",r9="_activeTab_1ahvk_103",a9="_content_1ahvk_113",o9="_header_1ahvk_125",l9="_closeBtn_1ahvk_139",u9="_scroll_1ahvk_155",c9="_sectionTitle_1ahvk_167",h9="_label_1ahvk_179",f9="_select_1ahvk_191",d9="_themeGrid_1ahvk_211",m9="_themeCard_1ahvk_223",p9="_themeActive_1ahvk_247",g9="_accountForm_1ahvk_441",y9="_avatarRow_1ahvk_449",v9="_avatar_1ahvk_449",_9="_input_1ahvk_513",T9="_primaryBtn_1ahvk_533",E9="_error_1ahvk_557",b9="_success_1ahvk_567",w9="_avatarInfo_1ahvk_639",S9="_avatarName_1ahvk_649",A9="_avatarEmail_1ahvk_659",$e={backdrop:e9,settingsRoot:t9,sidebar:n9,sidebarTitle:i9,tab:s9,activeTab:r9,content:a9,header:o9,closeBtn:l9,scroll:u9,sectionTitle:c9,label:h9,select:f9,themeGrid:d9,themeCard:m9,themeActive:p9,accountForm:g9,avatarRow:y9,avatar:v9,input:_9,primaryBtn:T9,error:E9,success:b9,avatarInfo:w9,avatarName:S9,avatarEmail:A9};function Yw({isOpen:t,onClose:e}){const[n,s]=I.useState("account"),[a,l]=I.useState(!1),[c,f]=I.useState(null),[m,p]=I.useState(null),[y,T]=I.useState(""),[w,x]=I.useState(""),[D,L]=I.useState(()=>localStorage.getItem("theme")||"system"),[V,B]=I.useState("english"),q=js().currentUser;if(I.useEffect(()=>{q&&(T(q.displayName||""),x(q.email||""))},[q]),!t)return null;const ae=[{id:"account",label:"Account",icon:Tv},{id:"general",label:"General",icon:ix},{id:"privacy",label:"Privacy",icon:lx},{id:"security",label:"Security",icon:p4},{id:"data",label:"Data & Storage",icon:u4},{id:"advanced",label:"Advanced",icon:r4}],re=async()=>{if(q){l(!0),f(null),p(null);try{y!==q.displayName&&await hc(q,{displayName:y}),w!==q.email&&await Kx(q,w),p("Account details updated successfully")}catch(C){console.error(C),f(C.message||"Failed to update profile")}finally{l(!1)}}},se=y?.charAt(0)||w?.charAt(0)||"U";return _.jsx("div",{className:$e.backdrop,children:_.jsxs("div",{className:$e.settingsRoot,children:[_.jsxs("aside",{className:$e.sidebar,children:[_.jsx("h2",{className:$e.sidebarTitle,children:"Settings"}),ae.map(C=>_.jsxs("button",{className:`${$e.tab} ${n===C.id?$e.activeTab:""}`,onClick:()=>s(C.id),children:[_.jsx(C.icon,{size:16}),_.jsx("span",{children:C.label})]},C.id))]}),_.jsxs("section",{className:$e.content,children:[_.jsx("div",{className:$e.header,children:_.jsx("button",{onClick:e,className:$e.closeBtn,children:_.jsx(Ya,{size:18})})}),_.jsxs("div",{className:$e.scroll,children:[n==="account"&&_.jsxs("div",{className:$e.accountForm,children:[_.jsx("h3",{className:$e.sectionTitle,children:"Account Details"}),_.jsxs("div",{className:$e.avatarRow,children:[_.jsx("div",{className:$e.avatar,children:se.toUpperCase()}),_.jsxs("div",{className:$e.avatarInfo,children:[_.jsx("div",{className:$e.avatarName,children:y||"Unnamed User"}),_.jsx("div",{className:$e.avatarEmail,children:w})]})]}),_.jsx("label",{className:$e.label,children:"Display Name"}),_.jsx("input",{className:$e.input,value:y,onChange:C=>T(C.target.value)}),_.jsx("label",{className:$e.label,children:"Email"}),_.jsx("input",{className:$e.input,value:w,onChange:C=>x(C.target.value)}),c&&_.jsx("div",{className:$e.error,children:c}),m&&_.jsx("div",{className:$e.success,children:m}),_.jsx("button",{className:$e.primaryBtn,onClick:re,disabled:a,children:a?"Saving...":"Save Changes"})]}),n==="general"&&_.jsxs(_.Fragment,{children:[_.jsx("h3",{className:$e.sectionTitle,children:"Theme"}),_.jsx("div",{className:$e.themeGrid,children:[{id:"light",icon:Cd},{id:"dark",icon:Rd},{id:"system",icon:vv}].map(({id:C,icon:A})=>_.jsxs("button",{className:`${$e.themeCard} ${D===C?$e.themeActive:""}`,onClick:()=>L(C),children:[_.jsx(A,{size:20}),_.jsx("span",{children:C})]},C))}),_.jsx("label",{className:$e.label,children:"Language"}),_.jsxs("select",{className:$e.select,value:V,onChange:C=>B(C.target.value),children:[_.jsx("option",{value:"english",children:"English"}),_.jsx("option",{value:"spanish",children:"Spanish"}),_.jsx("option",{value:"french",children:"French"})]})]})]})]})]})})}function x9({isOpen:t,onClose:e,user:n}){const[s,a]=Ti.useState([]),[l,c]=Ti.useState(!0),[f,m]=Ti.useState("all"),[p,y]=Ti.useState("");Ti.useEffect(()=>{t&&n&&w()},[t,n,f]);const T=Ti.useMemo(()=>s.filter(x=>{const D=x.title?.toLowerCase().includes(p.toLowerCase())||x.lastMessage?.toLowerCase().includes(p.toLowerCase());if(f==="starred")return D&&x.starred;if(f==="recent"){const L=new Date;return L.setDate(L.getDate()-7),D&&x.lastMessageAt?.toDate()>L}return D}),[s,p,f]),w=async()=>{c(!0);try{const x=Rr();let D=_c(Ju(x,"conversations"),Cr("userId","==",n.uid),_d("lastMessageAt","desc"));f==="starred"&&(D=_c(D,Cr("starred","==",!0)));const V=(await Td(D)).docs.map(B=>({id:B.id,...B.data()}));a(V)}catch(x){console.error("Error loading conversations:",x)}finally{c(!1)}};return _.jsx(rc,{children:t&&_.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:_.jsxs("div",{className:"min-h-screen px-4 text-center",children:[_.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:""}),_.jsxs(Tt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"inline-block w-full max-w-2xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white/90 dark:bg-gray-900/90 backdrop-blur-md rounded-xl shadow-xl",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[_.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Conversations"}),_.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:_.jsx(Ya,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[_.jsxs("div",{className:"relative",children:[_.jsx(_v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{type:"text",value:p,onChange:x=>y(x.target.value),placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-600"})]}),_.jsx("div",{className:"flex gap-2 mt-4",children:["all","starred","recent"].map(x=>_.jsx("button",{onClick:()=>m(x),className:`px-4 py-2 rounded-lg text-sm ${f===x?"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l?_.jsx("div",{className:"flex items-center justify-center h-full",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):T.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[_.jsx(v1,{className:"w-12 h-12 mb-2"}),_.jsx("p",{children:"No conversations found"})]}):_.jsx("div",{className:"space-y-2",children:T.map(x=>_.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:"p-4 rounded-lg bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 cursor-pointer",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-500/20 flex items-center justify-center",children:_.jsx(v1,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:x.title||"Untitled Conversation"}),_.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[_.jsx(ex,{className:"w-3 h-3"}),new Date(x.lastMessageAt?.toDate()).toLocaleDateString()]})]})]}),x.starred&&_.jsx(P4,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"})]})},x.id))})})]})]})})})}function R9({isOpen:t,onClose:e,user:n}){const[s,a]=Ti.useState([]),[l,c]=Ti.useState(!0),[f,m]=Ti.useState("");Ti.useEffect(()=>{t&&n&&p()},[t,n]);const p=async()=>{c(!0);try{const w=Rr(),x=_c(Ju(w,"conversations"),Cr("userId","==",n.uid),Cr("archived","==",!0),_d("archivedAt","desc")),L=(await Td(x)).docs.map(V=>({id:V.id,...V.data()}));a(L)}catch(w){console.error("Error loading archived chats:",w)}finally{c(!1)}},y=async w=>{try{const x=Rr();await PC(yd(x,"conversations",w),{archived:!1,archivedAt:null}),await p()}catch(x){console.error("Error unarchiving chat:",x)}},T=s.filter(w=>w.title?.toLowerCase().includes(f.toLowerCase()));return t?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:_.jsxs(Tt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl h-[600px] bg-white/90 dark:bg-gray-900/90 backdrop-blur-md rounded-xl shadow-xl flex flex-col",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[_.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Archived Chats"}),_.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:_.jsx(Ya,{className:"w-5 h-5"})})]}),_.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:_.jsxs("div",{className:"relative",children:[_.jsx(_v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{type:"text",value:f,onChange:w=>m(w.target.value),placeholder:"Search archived chats...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-600"})]})}),_.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l?_.jsx("div",{className:"flex items-center justify-center h-full",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):T.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[_.jsx(Zf,{className:"w-12 h-12 mb-2"}),_.jsx("p",{children:f?"No matching archived chats":"No archived chats"})]}):_.jsx("div",{className:"space-y-2",children:T.map(w=>_.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:"p-4 rounded-lg bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:_.jsx(Zf,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.title||"Untitled Chat"}),_.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[_.jsx(ex,{className:"w-3 h-3"}),"Archived on ",new Date(w.archivedAt?.toDate()).toLocaleDateString()]})]})]}),_.jsx(Tt.button,{whileHover:{scale:1.1,rotate:360},whileTap:{scale:.9},onClick:()=>y(w.id),className:"p-2 text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300",title:"Unarchive",children:_.jsx(C4,{className:"w-5 h-5"})})]})},w.id))})})]})}):null}const Qw={hidden:{opacity:0,scale:.95,y:-10,transition:{duration:.1,ease:"easeOut"}},visible:{opacity:1,scale:1,y:0,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:-10,transition:{duration:.1,ease:"easeIn"}}},C9={initial:{scale:1},animate:{scale:[1,1.2,1],transition:{duration:.3,times:[0,.5,1]}}};function I9({user:t}){const e=qr(),[n,s]=I.useState(!1),[a,l]=I.useState(!1),[c,f]=I.useState(!1),[m,p]=I.useState(!1),[y,T]=I.useState(!1),[w,x]=I.useState(!1),D=I.useRef(null),L=I.useRef(null);I.useEffect(()=>{function B(H){D.current&&!D.current.contains(H.target)&&s(!1),L.current&&!L.current.contains(H.target)&&l(!1)}return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const V=async()=>{try{const B=js();await Qx(B),e("/login")}catch(B){console.error("Logout failed:",B)}};return _.jsxs("header",{className:"chat-header",children:[_.jsxs("div",{className:"chat-header-container",children:[_.jsxs(Tt.div,{className:"logo-container",children:[_.jsx(Tt.div,{className:"logo-icon",children:"A"}),_.jsx("span",{className:"logo-text",children:"Mutualfund chat"})]}),_.jsxs("div",{className:"center-actions",children:[_.jsx("button",{className:"icon-button",title:"Chat History",children:_.jsx(d4,{size:20})}),_.jsx("button",{className:"icon-button",title:"Settings",onClick:()=>f(!0),children:_.jsx(ll,{size:20})}),_.jsxs("div",{className:"notification-wrapper",ref:L,children:[_.jsxs(Tt.button,{className:"icon-button",onClick:()=>l(!a),variants:C9,initial:"initial",animate:"animate",children:[_.jsx(JA,{size:20}),_.jsx("span",{className:"notification-dot"})]}),_.jsx(rc,{children:a&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"overlay",onClick:()=>l(!1)}),_.jsxs(Tt.div,{className:"dropdown notification-dropdown",variants:Qw,initial:"hidden",animate:"visible",exit:"exit",children:[_.jsx("div",{className:"dropdown-header",children:"Notifications"}),_.jsxs("div",{className:"dropdown-item",children:[_.jsx("div",{className:"dropdown-title",children:"New feature available: File sharing"}),_.jsx("div",{className:"dropdown-time",children:"2 hours ago"})]})]})]})})]})]}),_.jsxs("div",{className:"user-menu-wrapper",ref:D,children:[_.jsxs("button",{className:"user-button",onClick:()=>s(!n),children:[_.jsx("div",{className:"user-avatar",children:t?.displayName?.[0]?.toUpperCase()||t?.email?.[0]?.toUpperCase()||"U"}),_.jsxs("div",{className:"user-info",children:[_.jsx("div",{className:"user-name",children:t?.displayName||"User"}),_.jsx("div",{className:"user-email",children:t?.email})]}),_.jsx(n4,{className:`chevron ${n?"rotate":""}`,size:16})]}),_.jsx(rc,{children:n&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"overlay",onClick:()=>s(!1)}),_.jsxs(Tt.div,{className:"dropdown user-dropdown",variants:Qw,initial:"hidden",animate:"visible",exit:"exit",children:[_.jsxs("button",{className:"dropdown-action",onClick:()=>{s(!1),x(!0)},children:[_.jsx(Tv,{size:16}),"Profile Settings"]}),_.jsxs("button",{className:"dropdown-action",onClick:()=>{s(!1),p(!0)},children:[_.jsx(ax,{size:16}),"Conversations"]}),_.jsxs("button",{className:"dropdown-action",onClick:()=>{s(!1),T(!0)},children:[_.jsx(Zf,{size:16}),"Archived Chats"]}),_.jsxs("button",{className:"dropdown-action",onClick:()=>{s(!1),f(!0)},children:[_.jsx(ll,{size:16}),"Preferences"]}),_.jsxs("button",{className:"dropdown-action logout",onClick:V,children:[_.jsx(_4,{size:16}),"Sign Out"]})]})]})})]})]}),_.jsx(Yw,{isOpen:c,onClose:()=>f(!1)}),_.jsx(Yw,{isOpen:w,onClose:()=>x(!1),initialTab:"account"}),_.jsx(x9,{isOpen:m,onClose:()=>p(!1),user:t}),_.jsx(R9,{isOpen:y,onClose:()=>T(!1),user:t})]})}const N9="_backdrop_obg50_1",D9="_modal_obg50_27",M9="_header_obg50_57",k9="_body_obg50_75",V9="_sidebar_obg50_87",O9="_tab_obg50_99",P9="_active_obg50_135",L9="_content_obg50_145",j9="_options_obg50_157",U9="_toggle_obg50_215",B9="_title_obg50_333",z9="_sectionTitle_obg50_439",F9="_helperText_obg50_515",H9="_settingsRoot_obg50_627",Xt={backdrop:N9,modal:D9,header:M9,body:k9,sidebar:V9,tab:O9,active:P9,content:L9,options:j9,toggle:U9,title:B9,sectionTitle:z9,helperText:F9,settingsRoot:H9};function q9({isOpen:t,onClose:e}){const[n,s]=I.useState("general"),[a,l]=I.useState(localStorage.getItem("theme")||"system"),[c,f]=I.useState("English"),[m,p]=I.useState("gpt-4");if(I.useEffect(()=>{localStorage.setItem("theme",a),document.documentElement.dataset.theme=a},[a]),!t)return null;const y=[{id:"general",label:"General",icon:ix},{id:"model",label:"Model",icon:o4},{id:"privacy",label:"Privacy",icon:lx},{id:"notifications",label:"Notifications",icon:JA}];return cD.createPortal(_.jsx("div",{className:Xt.settingsRoot,children:_.jsx("div",{className:Xt.backdrop,onClick:e,children:_.jsxs("div",{className:Xt.modal,onClick:T=>T.stopPropagation(),children:[_.jsxs("div",{className:Xt.header,children:[_.jsx("h2",{className:Xt.title,children:"Settings"}),_.jsx("button",{type:"button",className:Xt.closeButton,onClick:e,children:_.jsx(Ya,{size:18})})]}),_.jsxs("div",{className:Xt.body,children:[_.jsx("aside",{className:Xt.sidebar,children:y.map(T=>_.jsxs("button",{type:"button",className:`${Xt.tab} ${n===T.id?Xt.active:""}`,onClick:()=>s(T.id),children:[_.jsx(T.icon,{size:18}),_.jsx("span",{children:T.label})]},T.id))}),_.jsxs("section",{className:Xt.content,children:[n==="general"&&_.jsxs(_.Fragment,{children:[_.jsx("h3",{className:Xt.sectionTitle,children:"Theme"}),_.jsxs("div",{className:Xt.options,children:[_.jsxs("button",{type:"button",onClick:()=>l("light"),children:[_.jsx(Cd,{size:16}),_.jsx("span",{children:"Light"})]}),_.jsxs("button",{type:"button",onClick:()=>l("dark"),children:[_.jsx(Rd,{size:16}),_.jsx("span",{children:"Dark"})]}),_.jsxs("button",{type:"button",onClick:()=>l("system"),children:[_.jsx(vv,{size:16}),_.jsx("span",{children:"System"})]})]}),_.jsx("h3",{className:Xt.sectionTitle,children:"Language"}),_.jsxs("select",{value:c,onChange:T=>f(T.target.value),children:[_.jsx("option",{value:"English",children:"English"}),_.jsx("option",{value:"Hindi",children:"Hindi"}),_.jsx("option",{value:"Spanish",children:"Spanish"})]})]}),n==="model"&&_.jsxs(_.Fragment,{children:[_.jsx("h3",{className:Xt.sectionTitle,children:"Default Model"}),_.jsxs("select",{value:m,onChange:T=>p(T.target.value),children:[_.jsx("option",{value:"gpt-4",children:"GPT-4"}),_.jsx("option",{value:"gpt-3.5",children:"GPT-3.5"})]}),_.jsx("p",{className:Xt.helperText,children:"GPT-4 is more accurate but slower."})]}),n==="privacy"&&_.jsxs("label",{className:Xt.toggle,children:[_.jsx("input",{type:"checkbox",defaultChecked:!0}),_.jsx("span",{children:"Save chat history"})]}),n==="notifications"&&_.jsxs("label",{className:Xt.toggle,children:[_.jsx("input",{type:"checkbox",defaultChecked:!0}),_.jsx("span",{children:"Enable notifications"})]})]})]})]})})}),document.getElementById("modal-root"))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebasestorage.googleapis.com",jC="storageBucket",G9=120*1e3,K9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt extends ls{constructor(e,n,s=0){super(Ng(e),`Firebase Storage: ${n} (${Ng(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ng(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function Ng(t){return"storage/"+t}function g0(){const t="An unknown error occurred, please check the error payload for server response.";return new bt(Et.UNKNOWN,t)}function $9(t){return new bt(Et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Y9(t){return new bt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt(Et.UNAUTHENTICATED,t)}function X9(){return new bt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W9(t){return new bt(Et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Z9(){return new bt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J9(){return new bt(Et.CANCELED,"User canceled the upload/download.")}function e8(t){return new bt(Et.INVALID_URL,"Invalid URL '"+t+"'.")}function t8(t){return new bt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function n8(){return new bt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jC+"' property when initializing the app?")}function i8(){return new bt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function s8(){return new bt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r8(t){return new bt(Et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cy(t){return new bt(Et.INVALID_ARGUMENT,t)}function UC(){return new bt(Et.APP_DELETED,"The Firebase app was deleted.")}function a8(t){return new bt(Et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ec(t,e){return new bt(Et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ou(t){throw new bt(Et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=zn.makeFromUrl(e,n)}catch{return new zn(e,"")}if(s.path==="")return s;throw t8(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(ae){ae.path_=decodeURIComponent(ae.path)}const y="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${T}/${y}/b/${a}/o${w}`,"i"),D={bucket:1,path:3},L=n===LC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",B=new RegExp(`^https?://${L}/${a}/${V}`,"i"),q=[{regex:f,indices:m,postModify:l},{regex:x,indices:D,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let ae=0;ae<q.length;ae++){const re=q[ae],se=re.regex.exec(e);if(se){const C=se[re.indices.bucket];let A=se[re.indices.path];A||(A=""),s=new zn(C,A),re.postModify(s);break}}if(s==null)throw e8(e);return s}}class o8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...V){p||(p=!0,e.apply(null,V))}function T(V){a=setTimeout(()=>{a=null,t(x,m())},V)}function w(){l&&clearTimeout(l)}function x(V,...B){if(p){w();return}if(V){w(),y.call(null,V,...B);return}if(m()||c){w(),y.call(null,V,...B);return}s<64&&(s*=2);let q;f===1?(f=2,q=0):q=(s+Math.random())*1e3,T(q)}let D=!1;function L(V){D||(D=!0,w(),!p&&(a!==null?(V||(f=2),clearTimeout(a),T(0)):V||(f=1)))}return T(0),l=setTimeout(()=>{c=!0,L(!0)},n),L}function u8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){return t!==void 0}function h8(t){return typeof t=="object"&&!Array.isArray(t)}function y0(t){return typeof t=="string"||t instanceof String}function Xw(t){return v0()&&t instanceof Blob}function v0(){return typeof Blob<"u"}function Ww(t,e,n,s){if(s<e)throw Cy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Cy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function BC(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var ja;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ja||(ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,s,a,l,c,f,m,p,y,T,w=!0,x=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,L)=>{this.resolve_=D,this.reject_=L,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Cf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===ja.NO_ERROR,m=l.getStatus();if(!f||f8(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===ja.ABORT;s(!1,new Cf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Cf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());c8(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=g0();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?UC():J9();c(m)}else{const m=Z9();c(m)}};this.canceled_?n(!1,new Cf(!1,null,!0)):this.backoffId_=l8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function m8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function y8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v8(t,e,n,s,a,l,c=!0,f=!1){const m=BC(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return g8(y,e),m8(y,n),p8(y,l),y8(y,s),new d8(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T8(...t){const e=_8();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(v0())return new Blob(t);throw new bt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){if(typeof atob>"u")throw r8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dg{constructor(e,n){this.data=e,this.contentType=n||null}}function w8(t,e){switch(t){case Xi.RAW:return new Dg(zC(e));case Xi.BASE64:case Xi.BASE64URL:return new Dg(FC(t,e));case Xi.DATA_URL:return new Dg(A8(e),x8(e))}throw g0()}function zC(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function S8(t){let e;try{e=decodeURIComponent(t)}catch{throw ec(Xi.DATA_URL,"Malformed data URL.")}return zC(e)}function FC(t,e){switch(t){case Xi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw ec(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw ec(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=b8(e)}catch(a){throw a.message.includes("polyfill")?a:ec(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class HC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ec(Xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=R8(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function A8(t){const e=new HC(t);return e.base64?FC(Xi.BASE64,e.rest):S8(e.rest)}function x8(t){return new HC(t).contentType}function R8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){let s=0,a="";Xw(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(Xw(this.data_)){const s=this.data_,a=E8(s,e,n);return a===null?null:new Ar(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Ar(s,!0)}}static getBlob(...e){if(v0()){const n=e.map(s=>s instanceof Ar?s.data_:s);return new Ar(T8.apply(null,n))}else{const n=e.map(c=>y0(c)?w8(Xi.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Ar(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){let e;try{e=JSON.parse(t)}catch{return null}return h8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I8(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function GC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t,e){return e}class vn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||N8}}let If=null;function D8(t){return!y0(t)||t.length<2?t:GC(t)}function KC(){if(If)return If;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(l,c){return D8(c)}const n=new vn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new vn("size");return a.xform=s,t.push(a),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),If=t,If}function M8(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new zn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function k8(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return M8(s,t),s}function $C(t,e,n){const s=qC(e);return s===null?null:k8(t,s,n)}function V8(t,e,n,s){const a=qC(e);if(a===null||!y0(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=t.bucket,T=t.fullPath,w="/b/"+c(y)+"/o/"+c(T),x=_0(w,n,s),D=BC({alt:"media",token:p});return x+D})[0]}function O8(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class YC{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){if(!t)throw g0()}function P8(t,e){function n(s,a){const l=$C(t,a,e);return QC(l!==null),l}return n}function L8(t,e){function n(s,a){const l=$C(t,a,e);return QC(l!==null),V8(l,a,t.host,t._protocol)}return n}function XC(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=X9():a=Q9():n.getStatus()===402?a=Y9(t.bucket):n.getStatus()===403?a=W9(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function j8(t){const e=XC(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=$9(t.path)),l.serverResponse=a.serverResponse,l}return n}function U8(t,e,n){const s=e.fullServerUrl(),a=_0(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new YC(a,l,L8(t,n),c);return f.errorHandler=j8(e),f}function B8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function z8(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=B8(null,e)),s}function F8(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let q="";for(let ae=0;ae<2;ae++)q=q+Math.random().toString().slice(2);return q}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=z8(e,s,a),y=O8(p,n),T="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+m+"--",x=Ar.getBlob(T,s,w);if(x===null)throw i8();const D={name:p.fullPath},L=_0(l,t.host,t._protocol),V="POST",B=t.maxUploadRetryTime,H=new YC(L,V,P8(t,n),B);return H.urlParams=D,H.headers=c,H.body=x.uploadData(),H.errorHandler=XC(e),H}class H8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Ou("cannot .send() more than once");if(Kr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ou("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ou("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ou("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ou("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class q8 extends H8{initXhr(){this.xhr_.responseType="text"}}function WC(){return new q8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this._service=e,n instanceof zn?this._location=n:this._location=zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $a(e,n)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GC(this._location.path)}get storage(){return this._service}get parent(){const e=C8(this._location.path);if(e===null)return null;const n=new zn(this._location.bucket,e);return new $a(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw a8(e)}}function G8(t,e,n){t._throwIfRoot("uploadBytes");const s=F8(t.storage,t._location,KC(),new Ar(e,!0),n);return t.storage.makeRequestWithTokens(s,WC).then(a=>({metadata:a,ref:t}))}function K8(t){t._throwIfRoot("getDownloadURL");const e=U8(t.storage,t._location,KC());return t.storage.makeRequestWithTokens(e,WC).then(n=>{if(n===null)throw s8();return n})}function $8(t,e){const n=I8(t._location.path,e),s=new zn(t._location.bucket,n);return new $a(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){return/^[A-Za-z]+:\/\//.test(t)}function Q8(t,e){return new $a(t,e)}function ZC(t,e){if(t instanceof T0){const n=t;if(n._bucket==null)throw n8();const s=new $a(n,n._bucket);return e!=null?ZC(s,e):s}else return e!==void 0?$8(t,e):t}function X8(t,e){if(e&&Y8(e)){if(t instanceof T0)return Q8(t,e);throw Cy("To use ref(service, url), the first argument must be a Storage instance.")}else return ZC(t,e)}function Zw(t,e){const n=e?.[jC];return n==null?null:zn.makeFromBucketSpec(n,t)}function W8(t,e,n,s={}){t.host=`${e}:${n}`;const a=Kr(e);a&&(Ev(`https://${t.host}/b`),bv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:gx(l,t.app.options.projectId))}class T0{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=LC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G9,this._maxUploadRetryTime=K9,this._requests=new Set,a!=null?this._bucket=zn.makeFromBucketSpec(a,this._host):this._bucket=Zw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=Zw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ww("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ww("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $a(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new o8(UC());{const c=v8(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const Jw="@firebase/storage",eS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="storage";function Z8(t,e,n){return t=ut(t),G8(t,e,n)}function J8(t){return t=ut(t),K8(t)}function eB(t,e){return t=ut(t),X8(t,e)}function tB(t=Av(),e){t=ut(t);const s=Nd(t,JC).getImmediate({identifier:e}),a=dx("storage");return a&&nB(s,...a),s}function nB(t,e,n,s={}){W8(t,e,n,s)}function iB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new T0(n,s,a,e,Qa)}function sB(){Ba(new Pr(JC,iB,"PUBLIC").setMultipleInstances(!0)),Ji(Jw,eS,""),Ji(Jw,eS,"esm2020")}sB();function rB({isOpen:t,onClose:e,user:n}){const[s,a]=I.useState(!1),[l,c]=I.useState(n?.displayName||""),[f,m]=I.useState(n?.email||""),[p,y]=I.useState(""),[T,w]=I.useState(""),[x,D]=I.useState(null),[L,V]=I.useState(null),B=async q=>{q.preventDefault(),a(!0),D(null),V(null);try{const re=js().currentUser;if(l!==re.displayName&&await hc(re,{displayName:l}),f!==re.email&&await Kx(re,f),p){if(p!==T)throw new Error("Passwords do not match");await w3(re,p)}V("Profile updated successfully!")}catch(ae){console.error(ae),D(ae.message)}finally{a(!1)}},H=async q=>{const ae=q.target.files[0];if(ae){a(!0),D(null);try{const re=tB(),se=eB(re,`profile-photos/${n.uid}`);await Z8(se,ae);const C=await J8(se),A=js();await hc(A.currentUser,{photoURL:C}),V("Profile photo updated successfully!")}catch(re){console.error(re),D("Failed to update profile photo")}finally{a(!1)}}};return t?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:_.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 rounded-xl shadow-xl",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[_.jsx("h2",{className:"text-xl font-semibold",children:"Profile Settings"}),_.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:_.jsx(Ya,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("div",{className:"flex flex-col items-center mb-6",children:_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:n?.photoURL?_.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl font-semibold text-gray-600 dark:text-gray-300",children:n?.displayName?.[0]?.toUpperCase()||n?.email?.[0]?.toUpperCase()})}),_.jsxs("label",{className:"absolute bottom-0 right-0 p-1 bg-white dark:bg-gray-800 rounded-full shadow-lg cursor-pointer",children:[_.jsx(e4,{className:"w-4 h-4"}),_.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:H})]})]})}),_.jsxs("form",{onSubmit:B,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Display Name"}),_.jsx("input",{type:"text",value:l,onChange:q=>c(q.target.value),className:"w-full p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),_.jsx("input",{type:"email",value:f,onChange:q=>m(q.target.value),className:"w-full p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Password"}),_.jsx("input",{type:"password",value:p,onChange:q=>y(q.target.value),placeholder:"Leave blank to keep current password",className:"w-full p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),p&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Confirm Password"}),_.jsx("input",{type:"password",value:T,onChange:q=>w(q.target.value),className:"w-full p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),x&&_.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:x}),L&&_.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:L}),_.jsxs("button",{type:"submit",disabled:s,className:"w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s&&_.jsx(yv,{className:"w-4 h-4 animate-spin"}),s?"Saving...":"Save Changes"]})]})]})]})}):null}function tS(){const t=qr(),[e,n]=I.useState(null),[s,a]=I.useState(null),[l,c]=I.useState([]),[f,m]=I.useState([]),[p,y]=I.useState(!1),[T,w]=I.useState(!1),[x,D]=I.useState(""),[L,V]=I.useState("recent"),[B,H]=I.useState(!1);I.useEffect(()=>(p||T?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[p,T]),I.useEffect(()=>{const A=js();if(!A.currentUser){t("/login");return}n(A.currentUser)},[t]),I.useEffect(()=>{e&&q()},[e]);const q=async()=>{try{H(!0);const A=Rr(),N=_c(Ju(A,"chats"),Cr("userId","==",e.uid),Cr("archived","==",!1),_d("updatedAt","desc")),P=_c(Ju(A,"chats"),Cr("userId","==",e.uid),Cr("archived","==",!0),_d("updatedAt","desc")),[k,z]=await Promise.all([Td(N),Td(P)]);c(k.docs.map(M=>({id:M.id,...M.data()}))),m(z.docs.map(M=>({id:M.id,...M.data()})))}catch(A){console.error(A)}finally{H(!1)}},ae=async()=>{const A=Rr(),P={id:(await JU(Ju(A,"chats"),{userId:e.uid,title:"New Chat",preview:"",messages:[],archived:!1,createdAt:new Date,updatedAt:new Date})).id,title:"New Chat",preview:"",archived:!1,messages:[]};c(k=>[P,...k]),a(P)},re=async A=>{const N=Rr();await PC(yd(N,"chats",A),{archived:!0,updatedAt:new Date});const P=l.find(k=>k.id===A);c(k=>k.filter(z=>z.id!==A)),m(k=>[P,...k])},se=async A=>{if(!window.confirm("Delete this chat?"))return;const N=Rr();await ZU(yd(N,"chats",A)),c(P=>P.filter(k=>k.id!==A)),m(P=>P.filter(k=>k.id!==A)),s?.id===A&&a(null)};if(!e)return null;const C=L==="archived"?f:l;return _.jsxs("div",{className:"chat-window",children:[_.jsx(I9,{user:e,onSettings:()=>y(!0),onProfile:()=>w(!0)}),_.jsxs("div",{className:"chat-body",children:[_.jsxs("aside",{className:"sidebar",children:[_.jsxs("button",{className:"new-chat-btn",onClick:ae,children:[_.jsx(x4,{size:18})," New Chat"]}),_.jsxs("div",{className:"search-box",children:[_.jsx(_v,{size:16}),_.jsx("input",{placeholder:"Search conversations",value:x,onChange:A=>D(A.target.value)})]}),_.jsx("div",{className:"tabs",children:["recent","saved","archived"].map(A=>_.jsx("button",{className:L===A?"tab active":"tab",onClick:()=>V(A),children:A},A))}),_.jsx("div",{className:"chat-list",children:B?_.jsx("div",{className:"loading",children:"Loading..."}):C.filter(A=>(A.title+A.preview).toLowerCase().includes(x.toLowerCase())).map(A=>_.jsxs("div",{className:`chat-item ${s?.id===A.id?"active":""}`,children:[_.jsxs("button",{onClick:()=>a(A),children:[_.jsx(ax,{size:16}),_.jsxs("div",{children:[_.jsx("strong",{children:A.title}),_.jsx("p",{children:A.preview||"No messages yet"})]})]}),_.jsxs("div",{className:"chat-actions",children:[L!=="archived"&&_.jsx(Zf,{onClick:()=>re(A.id)}),_.jsx(U4,{onClick:()=>se(A.id)})]})]},A.id))})]}),_.jsx("main",{className:"chat-main",children:_.jsx(oR,{chatId:s?.id},s?.id)})]}),_.jsx(q9,{isOpen:p,onClose:()=>y(!1)}),_.jsx(rB,{isOpen:T,onClose:()=>w(!1),user:e})]})}function aB({onAuthClick:t}){const e=qr(),[n,s]=I.useState(!1),[a,l]=I.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"system"),c=f=>{l(f),f==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):f==="light"?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(localStorage.setItem("theme","system"),window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))};return Ti.useEffect(()=>{if(a==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)"),m=p=>{p.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return f.addListener(m),()=>f.removeListener(m)}},[a]),_.jsx("header",{className:"w-full bg-white/90 backdrop-blur-lg shadow-lg border-b border-gray-100 dark:bg-gray-900/90 dark:border-gray-800 sticky top-0 z-50",children:_.jsx("div",{className:"max-w-7xl mx-auto px-8 py-6",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer",onClick:()=>e("/"),children:[_.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 p-0.5 shadow-xl shadow-indigo-500/20 group-hover:shadow-indigo-500/30 transition-shadow",children:_.jsx("div",{className:"w-full h-full rounded-2xl bg-white dark:bg-gray-900 flex items-center justify-center",children:_.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-indigo-600 to-pink-600",children:"A"})})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Mutualfund chat"}),_.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Enterprise AI Platform"})]})]}),_.jsxs("nav",{className:"hidden md:flex items-center gap-10",children:[_.jsx("a",{href:"#features",className:"text-lg font-medium text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors",children:"Features"}),_.jsx("a",{href:"#preview",className:"text-lg font-medium text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors",children:"Live Demo"}),_.jsx("a",{href:"#security",className:"text-lg font-medium text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400 transition-colors",children:"Security"})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 text-lg font-semibold text-white bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl hover:opacity-90 transition-opacity shadow-lg shadow-indigo-500/20 hover:shadow-xl hover:shadow-indigo-500/30",children:"Sign In"}),_.jsxs("div",{className:"relative",children:[_.jsx("button",{onClick:()=>s(!n),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Settings",children:_.jsx(ll,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),n&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0",onClick:()=>s(!1)}),_.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-gray-800 shadow-lg border border-gray-100 dark:border-gray-700 py-2",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Theme"}),_.jsxs("button",{onClick:()=>c("light"),className:`w-full flex items-center gap-3 px-3 py-2 text-sm ${a==="light"?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-500/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[_.jsx(Cd,{className:"w-4 h-4"}),"Light"]}),_.jsxs("button",{onClick:()=>c("dark"),className:`w-full flex items-center gap-3 px-3 py-2 text-sm ${a==="dark"?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-500/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[_.jsx(Rd,{className:"w-4 h-4"}),"Dark"]}),_.jsxs("button",{onClick:()=>c("system"),className:`w-full flex items-center gap-3 px-3 py-2 text-sm ${a==="system"?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-500/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[_.jsx(vv,{className:"w-4 h-4"}),"System"]}),_.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-2"}),_.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[_.jsx(ll,{className:"w-4 h-4"}),"Account Settings"]})]})]})]})]})]})})})}function oB(){return _.jsx("footer",{className:"mt-12 py-10 bg-transparent",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-6 text-sm text-gray-500",children:[" ",new Date().getFullYear()," Mutualfund chat  Built with Tailwind"]})})}const e2=I.createContext();function lB({children:t}){const[e,n]=I.useState(()=>{const a=localStorage.getItem("darkMode");return a!==null?JSON.parse(a):window.matchMedia("(prefers-color-scheme: dark)").matches});I.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const s=()=>{n(!e)};return _.jsx(e2.Provider,{value:{darkMode:e,toggleDarkMode:s},children:t})}const uB=()=>I.useContext(e2),nS=[{role:"bot",text:"Hi there! I'm your AI assistant. How can I help you today?",time:"12:01 PM",code:!1},{role:"user",text:"Can you help me write some JavaScript code?",time:"12:02 PM",code:!1},{role:"bot",text:"Of course! I'd be happy to help you with JavaScript. What kind of code would you like to create?",time:"12:02 PM",code:!1},{role:"user",text:"I need to create a function that sorts an array of objects by date",time:"12:03 PM",code:!1},{role:"bot",text:`Here's a simple function that sorts an array of objects by their date property:

\`\`\`javascript
function sortByDate(array, dateKey = 'date') {
  return array.sort((a, b) => {
    return new Date(b[dateKey]) - new Date(a[dateKey]);
  });
}

// Example usage:
const items = [
  { date: '2023-01-01', title: 'A' },
  { date: '2023-12-31', title: 'B' }
];

sortByDate(items);
\`\`\``,time:"12:03 PM",code:!0}];function cB(){const{darkMode:t,toggleDarkMode:e}=uB(),[n,s]=I.useState([]),[a,l]=I.useState(""),[c,f]=I.useState(!1),m=I.useRef(null);I.useEffect(()=>{let y=[],T=0;const w=1;function x(){T>=w||nS.forEach((D,L)=>{const V=setTimeout(()=>{L>0&&(f(!0),setTimeout(()=>f(!1),1e3)),s(B=>{const H=[...B,{id:`demo-${Date.now()}-${L}`,...D}];return setTimeout(()=>{m.current&&m.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},10),H}),L===nS.length-1&&T++},L*2e3+(L>0?1e3:0));y.push(V)})}return x(),()=>y.forEach(D=>clearTimeout(D))},[]);function p(){a.trim()&&(s(y=>[...y,{id:Date.now(),role:"user",text:a,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}]),l(""),f(!0),setTimeout(()=>{f(!1),s(y=>[...y,{id:Date.now()+1,role:"bot",text:"This is a demo preview. The actual chatbot will provide more detailed responses.",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},1500))}return _.jsxs("div",{className:"w-full bg-white rounded-2xl shadow-xl overflow-hidden ring-1 ring-black/10 dark:bg-gray-800 dark:ring-white/10 flex flex-col h-[900px]",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700 flex-shrink-0",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:_.jsx(tx,{className:"w-5 h-5"})}),_.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-r from-indigo-500 to-pink-500 flex items-center justify-center text-white font-semibold",children:"AB"}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium dark:text-white",children:"Mutualfund chat"}),_.jsx("div",{className:"text-xs text-gray-500",children:"Smart assistant  Online"})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:t?"Switch to light mode":"Switch to dark mode",children:t?_.jsx(Cd,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):_.jsx(Rd,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),_.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Settings",children:_.jsx(ll,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),_.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"More",children:_.jsx(nx,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),_.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Close",children:_.jsx(Ya,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),_.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[_.jsx("div",{className:"flex-1 min-h-0 p-4 overflow-y-auto custom-scrollbar bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(156, 163, 175, 0.5) transparent"},children:_.jsxs("div",{className:"space-y-4",children:[_.jsx(rc,{initial:!1,children:n.map(y=>_.jsx(Tt.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[80%] ${y.role==="user"?"text-right":"text-left"}`,children:_.jsxs("div",{className:`inline-block p-3 rounded-2xl shadow-sm ${y.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none"}`,children:[y.code?_.jsx("div",{className:"prose dark:prose-invert max-w-none",children:_.jsx("div",{dangerouslySetInnerHTML:{__html:y.text.replace(/\n/g,"<br/>")}})}):_.jsx("div",{className:"whitespace-pre-wrap",children:y.text}),_.jsx("div",{className:"text-[10px] opacity-60 mt-1",children:y.time})]})})},y.id))}),c&&_.jsx(Tt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex justify-start",children:_.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-2",children:[_.jsx(Tt.span,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:.9},className:"w-2 h-2 rounded-full bg-gray-400"}),_.jsx(Tt.span,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:.9,delay:.2},className:"w-2 h-2 rounded-full bg-gray-400"}),_.jsx(Tt.span,{animate:{y:[0,-6,0]},transition:{repeat:1/0,duration:.9,delay:.4},className:"w-2 h-2 rounded-full bg-gray-400"})]})}),_.jsx("div",{ref:m})]})}),_.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 flex-shrink-0",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"text",placeholder:"Type your message...",className:"flex-1 px-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:a,onChange:y=>l(y.target.value),onKeyPress:y=>y.key==="Enter"&&p()}),_.jsx("button",{onClick:p,className:"p-2 rounded-full bg-indigo-600 text-white hover:bg-indigo-700",children:_.jsx(ox,{className:"w-5 h-5"})})]})})]})]})}function hB(){const t=[{title:"Context-aware",desc:"Keep conversations in context with memory and conversation state."},{title:"Integrations",desc:"Connect to APIs and data sources to provide real answers."},{title:"Secure",desc:"Enterprise-ready controls and auditing."},{title:"Fast",desc:"Low-latency responses and streaming support."}];return _.jsxs("section",{id:"features",className:"max-w-6xl mx-auto px-6 py-12",children:[_.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Features"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>_.jsxs("div",{className:"p-4 bg-white rounded-md shadow-sm",children:[_.jsx("div",{className:"font-medium",children:e.title}),_.jsx("div",{className:"text-sm text-gray-500",children:e.desc})]},e.title))})]})}var fB="firebase",dB="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(fB,dB,"app");const mB={apiKey:"AIzaSyAm-7PsNeI7OmMf8gBme_zKbHcHKJODb1w",authDomain:"chatbot-81409.firebaseapp.com",projectId:"chatbot-81409",storageBucket:"chatbot-81409.firebasestorage.app",messagingSenderId:"752396559827",appId:"1:752396559827:web:c97195fd0161e638cabb26"};let E0;try{E0=_x(mB)}catch{}const Uc=js(E0);Rr(E0);const pB=new Is;function t2(t){return Yx(Uc,t)}async function gB(t,e){return Gx(Uc,t,e)}async function yB(t,e){return qx(Uc,t,e)}async function vB(){return Qx(Uc)}async function b0(){return G3(Uc,pB)}function _B({onClose:t}){const[e,n]=I.useState("login"),[s,a]=I.useState(""),[l,c]=I.useState(""),[f,m]=I.useState(null),[p,y]=I.useState(null);I.useEffect(()=>{const D=t2(L=>m(L));return()=>D()},[]);async function T(D){D.preventDefault(),y(null);try{await gB(s,l),a(""),c(""),t?.()}catch(L){y(L.message)}}async function w(D){D.preventDefault(),y(null);try{await yB(s,l),a(""),c(""),t?.()}catch(L){y(L.message)}}async function x(){await vB()}return f?_.jsxs("div",{className:"p-4 bg-white rounded-md shadow",children:[_.jsxs("div",{className:"font-medium",children:["Signed in as ",f.email]}),_.jsxs("div",{className:"mt-2",children:[_.jsx("button",{className:"px-3 py-1 rounded-md bg-gray-100 mr-2",onClick:x,children:"Sign out"}),_.jsx("button",{className:"px-3 py-1 rounded-md bg-indigo-600 text-white",onClick:t,children:"Close"})]})]}):_.jsxs("div",{className:"p-4 bg-white rounded-md shadow",children:[_.jsxs("div",{className:"flex gap-2 mb-4",children:[_.jsx("button",{className:`px-3 py-1 rounded-md ${e==="login"?"bg-indigo-600 text-white":"bg-gray-100"}`,onClick:()=>n("login"),children:"Login"}),_.jsx("button",{className:`px-3 py-1 rounded-md ${e==="signup"?"bg-indigo-600 text-white":"bg-gray-100"}`,onClick:()=>n("signup"),children:"Sign up"})]}),_.jsxs("form",{onSubmit:e==="login"?T:w,className:"space-y-2",children:[_.jsx("input",{className:"w-full px-3 py-2 border rounded",placeholder:"Email",value:s,onChange:D=>a(D.target.value)}),_.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded",placeholder:"Password",value:l,onChange:D=>c(D.target.value)}),p&&_.jsx("div",{className:"text-xs text-red-600",children:p}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-indigo-600 text-white",children:e==="login"?"Login":"Create account"}),_.jsx("button",{type:"button",className:"px-4 py-2 rounded-md bg-gray-100",onClick:t,children:"Cancel"})]})]})]})}const TB=[{id:"1",title:"Welcome convo",last:"How can I help you today?"},{id:"2",title:"Billing question",last:"I need help with my invoice."}];function EB({onSelect:t}){return _.jsxs("aside",{className:"w-64 bg-white border-r h-full p-3 hidden md:block",children:[_.jsx("div",{className:"font-semibold mb-3",children:"Conversations"}),_.jsx("div",{className:"space-y-2",children:TB.map(e=>_.jsxs("button",{className:"w-full text-left p-2 rounded hover:bg-gray-100",onClick:()=>t?.(e),children:[_.jsx("div",{className:"font-medium",children:e.title}),_.jsx("div",{className:"text-xs text-gray-500",children:e.last})]},e.id))})]})}function bB({user:t}){const e=qr(),[n,s]=I.useState(!1),[a,l]=I.useState(null),c=()=>{e(t?"/conversations":"/signup")};return _.jsxs("main",{className:"min-h-screen w-full bg-gradient-to-tr from-indigo-50 to-pink-50 text-gray-900",children:[_.jsx(aB,{onAuthClick:()=>s(!0)}),_.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 flex gap-6",children:[_.jsx(EB,{onSelect:f=>l(f)}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-4xl font-extrabold leading-tight",children:"Smart conversations, built into your product"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Use Mutualfund chat to provide helpful, contextual AI assistance to your users  with a beautiful UI and powerful integrations."}),_.jsxs("div",{className:"mt-8 flex gap-3",children:[_.jsx("button",{onClick:c,className:"px-5 py-3 rounded-md bg-indigo-600 text-white font-semibold",children:t?"Go to Chat":"Start Free"}),_.jsx("button",{onClick:()=>window.scrollTo({top:document.getElementById("preview").offsetTop,behavior:"smooth"}),className:"px-5 py-3 rounded-md bg-white border border-gray-200 text-gray-700",children:"Live demo"})]}),_.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"p-4 bg-white rounded-md shadow-sm",children:[_.jsx("div",{className:"text-sm font-semibold",children:"Context-aware"}),_.jsx("div",{className:"text-xs text-gray-500",children:"Keep conversations in context with memory"})]}),_.jsxs("div",{className:"p-4 bg-white rounded-md shadow-sm",children:[_.jsx("div",{className:"text-sm font-semibold",children:"Secure"}),_.jsx("div",{className:"text-xs text-gray-500",children:"Enterprise-ready controls and auditing"})]}),_.jsxs("div",{className:"p-4 bg-white rounded-md shadow-sm",children:[_.jsx("div",{className:"text-sm font-semibold",children:"Fast"}),_.jsx("div",{className:"text-xs text-gray-500",children:"Low-latency responses and streaming support"})]})]})]}),_.jsxs("div",{id:"preview",className:"flex flex-col min-h-0 h-[500px]",children:[_.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:_.jsx(cB,{})}),_.jsxs("div",{className:"mt-4",children:[_.jsx("h4",{className:"text-sm font-medium",children:"How it works"}),_.jsxs("ol",{className:"mt-2 text-sm text-gray-600 list-decimal list-inside space-y-1",children:[_.jsx("li",{children:"Install and configure the widget."}),_.jsx("li",{children:"Provide an API endpoint or connect your data sources."}),_.jsx("li",{children:"Customize prompts and behavior in the dashboard."})]})]})]})]}),_.jsx(hB,{})]})]}),_.jsx(oB,{}),t&&_.jsx("div",{className:"mt-8",children:_.jsx(vS,{to:"/chatui",className:`inline-flex items-center gap-2 px-6 py-3 rounded-lg\r
                       bg-indigo-600 text-white font-semibold\r
                       hover:bg-indigo-700 transition`,children:" Open Chatbot"})}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4",children:_.jsx("div",{className:"w-full max-w-md",children:_.jsx(_B,{onClose:()=>s(!1),onSignIn:async()=>{try{await b0(),s(!1),e("/conversations")}catch(f){console.error("Sign in error:",f)}},user:t})})})]})}const wB=js();function SB(){const t=qr(),[e,n]=I.useState(null),[s,a]=I.useState(!1),[l,c]=I.useState(""),[f,m]=I.useState("");async function p(){a(!0),n(null);try{await b0(),t("/chat")}catch(T){console.error(T),n(T.code==="auth/popup-closed-by-user"?"Sign-in cancelled.":"Google sign-in failed. Please try again.")}finally{a(!1)}}async function y(T){if(T.preventDefault(),!l||!f){n("Please enter email and password.");return}a(!0),n(null);try{await Gx(wB,l,f),t("/conversations")}catch(w){switch(console.error(w),w.code){case"auth/user-not-found":n("No account found with this email. Please sign up first.");break;case"auth/wrong-password":n("Incorrect password. Please try again.");break;case"auth/invalid-email":n("Invalid email address.");break;case"auth/too-many-requests":n("Too many failed attempts. Please try again later.");break;default:n("Sign-in failed. Please try again.")}}finally{a(!1)}}return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-tr from-indigo-50 to-pink-50 p-6",children:_.jsxs(Tt.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45},className:"max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch",children:[_.jsxs("div",{className:"hidden md:flex flex-col justify-center rounded-xl bg-gradient-to-br from-indigo-600 to-pink-500 p-8 text-white shadow-lg",children:[_.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Welcome back"}),_.jsx("p",{className:"opacity-90",children:"Sign in to continue using Mutualfund chat  your contextual AI assistant embedded into your product."}),_.jsxs("div",{className:"mt-6",children:[_.jsx("div",{className:"text-sm font-medium",children:"Benefits"}),_.jsxs("ul",{className:"mt-3 list-disc list-inside text-sm space-y-2",children:[_.jsx("li",{children:"Fast responses"}),_.jsx("li",{children:"Persistent conversations"}),_.jsx("li",{children:"Secure and private"})]})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 flex flex-col justify-center",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sign in to Mutualfund chat"}),_.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Use your Google account for a quick, secure sign in."}),_.jsxs("form",{onSubmit:y,className:"space-y-4",children:[_.jsxs("label",{className:"block",children:[_.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:"Email"}),_.jsxs("div",{className:"relative",children:[_.jsx(rx,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),_.jsx("input",{value:l,onChange:T=>c(T.target.value),className:"w-full pl-10 pr-3 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"you@company.com",type:"email"})]})]}),_.jsxs("label",{className:"block",children:[_.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:"Password"}),_.jsxs("div",{className:"relative",children:[_.jsx(sx,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),_.jsx("input",{value:f,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-3 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"",type:"password"})]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"text-sm",children:_.jsx("button",{type:"button",className:"text-indigo-600 hover:underline text-sm",onClick:()=>t("/signup"),children:"Create account"})}),_.jsxs("button",{type:"submit",disabled:s,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s&&_.jsx(yv,{className:"w-4 h-4 animate-spin"}),s?"Signing in...":"Sign in"]})]})]}),_.jsxs("div",{className:"my-4 flex items-center gap-3",children:[_.jsx("div",{className:"flex-1 h-px bg-gray-200"}),_.jsx("div",{className:"text-xs text-gray-400",children:"or"}),_.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),_.jsxs("button",{onClick:p,disabled:s,className:"flex items-center justify-center gap-3 w-full py-3 rounded-lg border border-gray-200 hover:shadow-md transition bg-white",children:[_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 533.5 544.3",className:"block",children:[_.jsx("path",{d:"M533.5 278.4c0-17.4-1.6-34.1-4.7-50.4H272v95.4h147.4c-6.3 33.9-25.2 62.6-53.8 81.8v68.2h86.9c50.8-46.8 81-115.8 81-195z",fill:"#4285f4"}),_.jsx("path",{d:"M272 544.3c72.6 0 133.6-24.1 178.1-65.6l-86.9-68.2c-24.1 16.2-55 25.7-91.2 25.7-69.9 0-129.2-47.2-150.4-110.6H31.6v69.5C76.1 491 168 544.3 272 544.3z",fill:"#34a853"}),_.jsx("path",{d:"M121.6 325.6c-10.8-32-10.8-66.5 0-98.5V157.6H31.6c-37.8 74.5-37.8 164.4 0 238.9l90-71z",fill:"#fbbc04"}),_.jsx("path",{d:"M272 107.7c38.5-.6 75.6 13.8 103.8 39.7l77.9-77.9C408.9 24.7 347.9.6 272 .6 168 0 76.1 53.3 31.6 144.9l90 71C142.8 155 202.1 107.7 272 107.7z",fill:"#ea4335"})]}),_.jsx("span",{className:"text-sm font-medium",children:s?"Signing in...":"Sign in with Google"})]}),e&&_.jsx("div",{className:"mt-4 text-sm text-red-600 text-center",children:e})]})]})})}const AB=js();function xB(){const t=qr(),[e,n]=I.useState(null),[s,a]=I.useState(!1),[l,c]=I.useState(""),[f,m]=I.useState(""),[p,y]=I.useState("");async function T(){a(!0),n(null);try{const x=await b0();l&&(!x.user.displayName||x.user.displayName==="")&&await hc(x.user,{displayName:l}),t("/chat")}catch(x){console.error(x),n(x.code==="auth/popup-closed-by-user"?"Sign-up cancelled.":"Google sign-up failed. Please try again.")}finally{a(!1)}}async function w(x){if(x.preventDefault(),!l||!f||!p){n("Please complete all fields.");return}if(p.length<6){n("Password must be at least 6 characters long.");return}a(!0),n(null);try{const D=await qx(AB,f,p);await hc(D.user,{displayName:l}),t("/conversations")}catch(D){switch(console.error(D),D.code){case"auth/email-already-in-use":n("An account with this email already exists. Please sign in instead.");break;case"auth/invalid-email":n("Invalid email address.");break;case"auth/weak-password":n("Password is too weak. Please choose a stronger password.");break;default:n("Sign-up failed. Please try again.")}}finally{a(!1)}}return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-tr from-indigo-50 to-pink-50 p-6",children:_.jsxs(Tt.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45},className:"max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch",children:[_.jsxs("div",{className:"hidden md:flex flex-col justify-center rounded-xl bg-gradient-to-br from-indigo-600 to-pink-500 p-8 text-white shadow-lg",children:[_.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Create your account"}),_.jsx("p",{className:"opacity-90",children:"Get started with Mutualfund chat and integrate powerful AI into your product."}),_.jsxs("div",{className:"mt-6",children:[_.jsx("div",{className:"text-sm font-medium",children:"Why Mutualfund chat"}),_.jsxs("ul",{className:"mt-3 list-disc list-inside text-sm space-y-2",children:[_.jsx("li",{children:"Seamless integration"}),_.jsx("li",{children:"Customizable prompts"}),_.jsx("li",{children:"Enterprise-ready"})]})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 flex flex-col justify-center",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Create your Mutualfund chat account"}),_.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Quickly create an account using Google or fill the form below (demo)."}),_.jsxs("form",{onSubmit:w,className:"space-y-4",children:[_.jsxs("label",{className:"block",children:[_.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:"Full name"}),_.jsxs("div",{className:"relative",children:[_.jsx(Tv,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),_.jsx("input",{value:l,onChange:x=>c(x.target.value),className:"w-full pl-10 pr-3 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Your name"})]})]}),_.jsxs("label",{className:"block",children:[_.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:"Email"}),_.jsxs("div",{className:"relative",children:[_.jsx(rx,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),_.jsx("input",{value:f,onChange:x=>m(x.target.value),className:"w-full pl-10 pr-3 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"you@company.com",type:"email"})]})]}),_.jsxs("label",{className:"block",children:[_.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:"Password"}),_.jsxs("div",{className:"relative",children:[_.jsx(sx,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),_.jsx("input",{value:p,onChange:x=>y(x.target.value),className:"w-full pl-10 pr-3 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Choose a secure password",type:"password"})]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"text-sm text-gray-500",children:["Already have an account? ",_.jsx("button",{className:"text-indigo-600 hover:underline",onClick:()=>t("/login"),children:"Log in"})]}),_.jsxs("button",{type:"submit",disabled:s,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s&&_.jsx(yv,{className:"w-4 h-4 animate-spin"}),s?"Creating account...":"Create account"]})]})]}),_.jsxs("div",{className:"my-4 flex items-center gap-3",children:[_.jsx("div",{className:"flex-1 h-px bg-gray-200"}),_.jsx("div",{className:"text-xs text-gray-400",children:"or"}),_.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),_.jsxs("button",{onClick:T,disabled:s,className:"flex items-center justify-center gap-3 w-full py-3 rounded-lg border border-gray-200 hover:shadow-md transition bg-white",children:[_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 533.5 544.3",className:"block",children:[_.jsx("path",{d:"M533.5 278.4c0-17.4-1.6-34.1-4.7-50.4H272v95.4h147.4c-6.3 33.9-25.2 62.6-53.8 81.8v68.2h86.9c50.8-46.8 81-115.8 81-195z",fill:"#4285f4"}),_.jsx("path",{d:"M272 544.3c72.6 0 133.6-24.1 178.1-65.6l-86.9-68.2c-24.1 16.2-55 25.7-91.2 25.7-69.9 0-129.2-47.2-150.4-110.6H31.6v69.5C76.1 491 168 544.3 272 544.3z",fill:"#34a853"}),_.jsx("path",{d:"M121.6 325.6c-10.8-32-10.8-66.5 0-98.5V157.6H31.6c-37.8 74.5-37.8 164.4 0 238.9l90-71z",fill:"#fbbc04"}),_.jsx("path",{d:"M272 107.7c38.5-.6 75.6 13.8 103.8 39.7l77.9-77.9C408.9 24.7 347.9.6 272 .6 168 0 76.1 53.3 31.6 144.9l90 71C142.8 155 202.1 107.7 272 107.7z",fill:"#ea4335"})]}),_.jsx("span",{className:"text-sm font-medium",children:s?"Signing up...":"Sign up with Google"})]}),e&&_.jsx("div",{className:"mt-4 text-sm text-red-600 text-center",children:e})]})]})})}function RB(){const[t,e]=I.useState(null),[n,s]=I.useState(!0);return I.useEffect(()=>{const a=document.createElement("script");return a.innerHTML=`
      (function() {
        let theme = localStorage.getItem('theme') || 'system';
        if (theme === 'system') {
          theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        document.documentElement.classList.add(theme);
      })();
    `,document.head.appendChild(a),()=>document.head.removeChild(a)},[]),I.useEffect(()=>{const a=t2(l=>{e(l),s(!1)});return()=>a()},[]),n?_.jsx("div",{className:"min-h-screen w-full flex items-center justify-center",children:_.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full"})}):_.jsx(lB,{children:_.jsx(tD,{basename:"/Mutualfund_chatbot",children:_.jsx("div",{className:"min-h-screen w-full bg-white dark:bg-gray-900 transition-colors",children:_.jsxs(MN,{children:[_.jsx(Ia,{path:"/",element:_.jsx(bB,{user:t})}),_.jsx(Ia,{path:"/chat",element:_.jsx(tS,{})}),_.jsx(Ia,{path:"/conversations",element:_.jsx(tS,{})}),_.jsx(Ia,{path:"/login",element:_.jsx(SB,{})}),_.jsx(Ia,{path:"/signup",element:_.jsx(xB,{})}),_.jsx(Ia,{path:"/chatui",element:t?_.jsx(oR,{}):_.jsx(NN,{to:"/login",replace:!0})})]})})})})}zI.createRoot(document.getElementById("root")).render(_.jsx(I.StrictMode,{children:_.jsx(RB,{})}));
